2024-10-27 00:31:48,227 - root - INFO - Starting up application...
2024-10-27 00:31:48,249 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:31:48,250 - app.routers.chat.router - ERROR - WebSocket error: no close frame received or sent
Traceback (most recent call last):
  File "D:\Works\AI-lawyer_v4\backend\app\routers\chat\router.py", line 88, in _handle_websocket
    await websocket.send_json({"error": "Invalid authentication token"})
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\websockets.py", line 179, in send_json
    await self.send({"type": "websocket.send", "text": text})
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\websockets.py", line 88, in send
    await self._send(message)
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\_exception_handler.py", line 50, in sender
    await send(message)
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 320, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\websockets\legacy\protocol.py", line 635, in send
    await self.ensure_open()
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\websockets\legacy\protocol.py", line 944, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2024-10-27 00:31:48,281 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:31:48,282 - app.routers.chat.router - ERROR - WebSocket error: no close frame received or sent
Traceback (most recent call last):
  File "D:\Works\AI-lawyer_v4\backend\app\routers\chat\router.py", line 88, in _handle_websocket
    await websocket.send_json({"error": "Invalid authentication token"})
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\websockets.py", line 179, in send_json
    await self.send({"type": "websocket.send", "text": text})
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\websockets.py", line 88, in send
    await self._send(message)
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\_exception_handler.py", line 50, in sender
    await send(message)
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 320, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\websockets\legacy\protocol.py", line 635, in send
    await self.ensure_open()
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\websockets\legacy\protocol.py", line 944, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2024-10-27 00:31:48,285 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:31:48,286 - app.routers.chat.router - ERROR - WebSocket error: no close frame received or sent
Traceback (most recent call last):
  File "D:\Works\AI-lawyer_v4\backend\app\routers\chat\router.py", line 88, in _handle_websocket
    await websocket.send_json({"error": "Invalid authentication token"})
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\websockets.py", line 179, in send_json
    await self.send({"type": "websocket.send", "text": text})
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\websockets.py", line 88, in send
    await self._send(message)
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\_exception_handler.py", line 50, in sender
    await send(message)
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 320, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\websockets\legacy\protocol.py", line 635, in send
    await self.ensure_open()
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\websockets\legacy\protocol.py", line 944, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2024-10-27 00:31:48,289 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:31:48,290 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:31:48,290 - app.routers.chat.router - ERROR - WebSocket error: no close frame received or sent
Traceback (most recent call last):
  File "D:\Works\AI-lawyer_v4\backend\app\routers\chat\router.py", line 88, in _handle_websocket
    await websocket.send_json({"error": "Invalid authentication token"})
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\websockets.py", line 179, in send_json
    await self.send({"type": "websocket.send", "text": text})
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\websockets.py", line 88, in send
    await self._send(message)
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\_exception_handler.py", line 50, in sender
    await send(message)
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 320, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\websockets\legacy\protocol.py", line 635, in send
    await self.ensure_open()
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\websockets\legacy\protocol.py", line 944, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2024-10-27 00:31:50,613 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:31:52,931 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:31:55,241 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:31:57,558 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:31:59,996 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:32:05,211 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/test
2024-10-27 00:32:05,212 - app.core.middleware - INFO - Response: status=404 completed_in=0.001s
2024-10-27 00:32:07,555 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 00:32:07,558 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 00:32:07,818 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 00:32:07,820 - app.core.middleware - INFO - Response: status=200 completed_in=0.265s
2024-10-27 00:32:07,847 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 00:32:07,852 - app.core.middleware - INFO - Response: status=422 completed_in=0.005s
2024-10-27 00:32:08,182 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:32:10,499 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:32:12,822 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:32:15,144 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:32:17,466 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:32:19,778 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:32:22,085 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:32:24,394 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:32:26,718 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:32:29,027 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:32:31,342 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:32:33,654 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:32:35,976 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:32:38,303 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:32:40,627 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:32:42,936 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:32:45,259 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:32:47,571 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:32:49,881 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:32:52,193 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:32:54,509 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:32:56,830 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:32:59,142 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:01,450 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:03,764 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:06,085 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:08,400 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:10,707 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:13,028 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:15,342 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:17,653 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:19,977 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:22,296 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:24,614 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:26,928 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:29,247 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:31,560 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:33,870 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:36,188 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:38,508 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:40,829 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:43,991 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:48,387 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/test
2024-10-27 00:33:48,388 - app.core.middleware - INFO - Response: status=404 completed_in=0.001s
2024-10-27 00:33:49,455 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 00:33:49,457 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 00:33:49,681 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 00:33:49,682 - app.core.middleware - INFO - Response: status=200 completed_in=0.227s
2024-10-27 00:33:49,710 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 00:33:49,713 - app.core.middleware - INFO - Response: status=422 completed_in=0.003s
2024-10-27 00:33:50,049 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:52,365 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:54,681 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:56,998 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:33:59,308 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:34:01,629 - app.routers.chat.router - ERROR - WebSocket authentication failed: cannot import name 'get_current_user_ws' from 'app.core.dependencies' (D:\Works\AI-lawyer_v4\backend\app\core\dependencies.py)
2024-10-27 00:34:01,784 - root - INFO - Shutting down application...
2024-10-27 00:35:22,048 - root - INFO - Starting up application...
2024-10-27 00:35:22,069 - app.routers.chat.router - INFO - User fengzhe WebSocket connected
2024-10-27 00:35:33,930 - app.routers.chat.router - INFO - WebSocket disconnected: user fengzhe
2024-10-27 00:35:36,357 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/test
2024-10-27 00:35:36,359 - app.core.middleware - INFO - Response: status=404 completed_in=0.002s
2024-10-27 00:35:40,515 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 00:35:40,518 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 00:35:40,756 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 00:35:40,758 - app.core.middleware - INFO - Response: status=200 completed_in=0.243s
2024-10-27 00:35:40,785 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 00:35:40,790 - app.core.middleware - INFO - Response: status=422 completed_in=0.005s
2024-10-27 00:35:41,117 - app.routers.chat.router - INFO - User fengzhe WebSocket connected
2024-10-27 00:36:58,673 - app.routers.chat.router - INFO - WebSocket disconnected: user fengzhe
2024-10-27 00:36:58,785 - root - INFO - Shutting down application...
2024-10-27 00:37:02,732 - root - INFO - Starting up application...
2024-10-27 00:37:02,751 - app.routers.chat.router - INFO - User fengzhe WebSocket connected
2024-10-27 00:37:13,124 - app.routers.chat.router - INFO - WebSocket disconnected: user fengzhe
2024-10-27 00:37:17,088 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/test
2024-10-27 00:37:17,090 - app.core.middleware - INFO - Response: status=404 completed_in=0.002s
2024-10-27 00:37:24,363 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 00:37:24,366 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 00:37:24,606 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 00:37:24,608 - app.core.middleware - INFO - Response: status=200 completed_in=0.245s
2024-10-27 00:37:24,647 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 00:37:24,653 - app.core.middleware - INFO - Response: status=200 completed_in=0.006s
2024-10-27 00:37:24,989 - app.routers.chat.router - INFO - User fengzhe WebSocket connected
2024-10-27 00:44:16,401 - app.routers.chat.router - INFO - WebSocket disconnected: user fengzhe
2024-10-27 00:44:16,496 - root - INFO - Shutting down application...
2024-10-27 00:58:20,668 - root - INFO - Starting up application...
2024-10-27 00:58:20,678 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/test
2024-10-27 00:58:20,679 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 00:58:20,679 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 00:58:20,680 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 00:58:20,681 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 00:58:20,681 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 00:58:20,690 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 00:58:20,691 - app.routers.chat.router - ERROR - WebSocket error: no close frame received or sent
Traceback (most recent call last):
  File "D:\Works\AI-lawyer_v4\backend\app\routers\chat\router.py", line 88, in _handle_websocket
    await websocket.send_json({"error": "Invalid authentication token"})
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\websockets.py", line 179, in send_json
    await self.send({"type": "websocket.send", "text": text})
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\websockets.py", line 88, in send
    await self._send(message)
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\_exception_handler.py", line 50, in sender
    await send(message)
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 320, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\websockets\legacy\protocol.py", line 635, in send
    await self.ensure_open()
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\websockets\legacy\protocol.py", line 944, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2024-10-27 00:58:20,696 - app.core.middleware - INFO - Response: status=404 completed_in=0.018s
2024-10-27 00:58:20,714 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 00:58:20,956 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 00:58:20,957 - app.core.middleware - ERROR - Request failed: No response returned.
Traceback (most recent call last):
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\middleware\base.py", line 159, in call_next
    message = await recv_stream.receive()
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Works\AI-lawyer_v4\backend\app\core\middleware.py", line 28, in dispatch
    response = await call_next(request)
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\middleware\base.py", line 166, in call_next
    raise RuntimeError("No response returned.")
RuntimeError: No response returned.
2024-10-27 00:58:20,969 - app.core.middleware - ERROR - Request failed: No response returned.
Traceback (most recent call last):
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\middleware\base.py", line 159, in call_next
    message = await recv_stream.receive()
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Works\AI-lawyer_v4\backend\app\core\middleware.py", line 28, in dispatch
    response = await call_next(request)
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\middleware\base.py", line 166, in call_next
    raise RuntimeError("No response returned.")
RuntimeError: No response returned.
2024-10-27 00:58:20,973 - app.core.middleware - ERROR - Request failed: No response returned.
Traceback (most recent call last):
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\middleware\base.py", line 159, in call_next
    message = await recv_stream.receive()
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Works\AI-lawyer_v4\backend\app\core\middleware.py", line 28, in dispatch
    response = await call_next(request)
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\middleware\base.py", line 166, in call_next
    raise RuntimeError("No response returned.")
RuntimeError: No response returned.
2024-10-27 00:58:20,976 - app.core.middleware - ERROR - Request failed: No response returned.
Traceback (most recent call last):
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\middleware\base.py", line 159, in call_next
    message = await recv_stream.receive()
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Works\AI-lawyer_v4\backend\app\core\middleware.py", line 28, in dispatch
    response = await call_next(request)
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\middleware\base.py", line 166, in call_next
    raise RuntimeError("No response returned.")
RuntimeError: No response returned.
2024-10-27 00:58:20,981 - app.core.middleware - INFO - Response: status=200 completed_in=0.300s
2024-10-27 00:58:21,016 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 00:58:21,025 - app.core.middleware - INFO - Response: status=200 completed_in=0.009s
2024-10-27 00:58:21,345 - app.routers.chat.router - INFO - User fengzhe WebSocket connected
2024-10-27 00:58:31,313 - app.routers.chat.router - INFO - WebSocket disconnected: user fengzhe
2024-10-27 00:58:35,532 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 00:58:35,534 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 00:58:35,753 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 00:58:35,754 - app.core.middleware - INFO - Response: status=200 completed_in=0.222s
2024-10-27 00:58:35,781 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 00:58:35,789 - app.core.middleware - INFO - Response: status=200 completed_in=0.008s
2024-10-27 00:58:36,109 - app.routers.chat.router - INFO - User fengzhe WebSocket connected
2024-10-27 01:00:24,012 - app.routers.chat.router - INFO - WebSocket disconnected: user fengzhe
2024-10-27 01:00:24,121 - root - INFO - Shutting down application...
2024-10-27 01:00:28,471 - root - INFO - Starting up application...
2024-10-27 01:00:28,473 - app.database - INFO - Database initialized successfully
2024-10-27 01:00:34,993 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 01:00:34,994 - app.core.middleware - INFO - Response: status=404 completed_in=0.002s
2024-10-27 01:04:37,003 - root - INFO - Starting up application...
2024-10-27 01:04:37,005 - app.database - INFO - Database initialized successfully
2024-10-27 01:04:55,599 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 01:04:55,602 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 01:04:55,853 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 01:04:55,855 - app.core.middleware - INFO - Response: status=200 completed_in=0.256s
2024-10-27 01:04:55,891 - app.core.middleware - INFO - Request: OPTIONS http://localhost:8000/api/chat/chats
2024-10-27 01:04:55,893 - app.core.middleware - INFO - Response: status=200 completed_in=0.002s
2024-10-27 01:04:55,898 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 01:04:55,906 - app.core.middleware - INFO - Response: status=200 completed_in=0.008s
2024-10-27 01:04:56,238 - app.routers.chat.router - INFO - User fengzhe WebSocket connected
2024-10-27 01:07:22,367 - app.routers.chat.router - INFO - WebSocket disconnected: user fengzhe
2024-10-27 01:07:25,569 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 01:07:25,571 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 01:07:25,789 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 01:07:25,791 - app.core.middleware - INFO - Response: status=200 completed_in=0.222s
2024-10-27 01:07:25,815 - app.core.middleware - INFO - Request: OPTIONS http://localhost:8000/api/chat/chats
2024-10-27 01:07:25,817 - app.core.middleware - INFO - Response: status=200 completed_in=0.002s
2024-10-27 01:07:25,820 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 01:07:25,829 - app.core.middleware - INFO - Response: status=200 completed_in=0.009s
2024-10-27 01:07:26,142 - app.routers.chat.router - INFO - User fengzhe WebSocket connected
2024-10-27 01:10:18,317 - app.routers.chat.router - INFO - WebSocket disconnected: user fengzhe
2024-10-27 01:10:22,675 - root - INFO - Starting up application...
2024-10-27 01:10:22,678 - app.database - INFO - Database initialized successfully
2024-10-27 01:10:22,692 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:10:25,007 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:10:27,324 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:10:29,997 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:10:32,995 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:10:40,560 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 01:10:40,563 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 01:10:40,812 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 01:10:40,814 - app.core.middleware - INFO - Response: status=200 completed_in=0.254s
2024-10-27 01:10:40,846 - app.core.middleware - INFO - Request: OPTIONS http://localhost:8000/api/chat/chats
2024-10-27 01:10:40,848 - app.core.middleware - INFO - Response: status=200 completed_in=0.002s
2024-10-27 01:10:40,854 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 01:10:40,859 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 01:10:40,862 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 01:10:40,865 - app.core.middleware - INFO - Response: status=200 completed_in=0.011s
2024-10-27 01:10:41,195 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 01:12:43,938 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 01:12:49,816 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 01:12:49,819 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 01:12:50,040 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 01:12:50,042 - app.core.middleware - INFO - Response: status=200 completed_in=0.226s
2024-10-27 01:12:50,081 - app.core.middleware - INFO - Request: OPTIONS http://localhost:8000/api/chat/chats
2024-10-27 01:12:50,084 - app.core.middleware - INFO - Response: status=200 completed_in=0.003s
2024-10-27 01:12:50,088 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 01:12:50,094 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 01:12:50,096 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 01:12:50,098 - app.core.middleware - INFO - Response: status=200 completed_in=0.010s
2024-10-27 01:12:50,436 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 01:14:45,197 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 01:20:54,263 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 01:20:54,266 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 01:20:54,485 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 01:20:54,487 - app.core.middleware - INFO - Response: status=200 completed_in=0.224s
2024-10-27 01:20:54,519 - app.core.middleware - INFO - Request: OPTIONS http://localhost:8000/api/chat/chats
2024-10-27 01:20:54,521 - app.core.middleware - INFO - Response: status=200 completed_in=0.002s
2024-10-27 01:20:54,526 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 01:20:54,531 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 01:20:54,534 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 01:20:54,537 - app.core.middleware - INFO - Response: status=200 completed_in=0.011s
2024-10-27 01:20:54,860 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 01:21:46,664 - app.core.middleware - INFO - Request: OPTIONS http://localhost:8000/api/chat/chats
2024-10-27 01:21:46,666 - app.core.middleware - INFO - Response: status=200 completed_in=0.002s
2024-10-27 01:21:46,669 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 01:21:46,670 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:21:46,672 - app.core.middleware - INFO - Response: status=401 completed_in=0.003s
2024-10-27 01:21:46,992 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:21:52,315 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:21:53,286 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 01:21:53,288 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:21:53,290 - app.core.middleware - INFO - Response: status=401 completed_in=0.004s
2024-10-27 01:21:53,635 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:21:58,953 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:22:04,282 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:22:09,604 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:22:14,935 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:22:20,253 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:22:25,570 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:22:30,901 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:22:36,226 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:22:42,003 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:22:43,015 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 01:22:45,980 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 01:22:45,982 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 01:22:46,211 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 01:22:46,212 - app.core.middleware - INFO - Response: status=200 completed_in=0.232s
2024-10-27 01:22:46,240 - app.core.middleware - INFO - Request: OPTIONS http://localhost:8000/api/chat/chats
2024-10-27 01:22:46,242 - app.core.middleware - INFO - Response: status=200 completed_in=0.002s
2024-10-27 01:22:46,246 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 01:22:46,252 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 01:22:46,254 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 01:22:46,256 - app.core.middleware - INFO - Response: status=200 completed_in=0.010s
2024-10-27 01:22:46,552 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 01:22:47,991 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:22:53,989 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:23:00,000 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:23:06,000 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:23:12,001 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:23:18,001 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:23:23,994 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:23:29,997 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:23:35,325 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:23:41,003 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:23:46,991 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:23:53,005 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:23:59,007 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:24:04,998 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:24:10,987 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:24:17,001 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:24:22,993 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:24:29,005 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:24:34,996 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:24:41,007 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:24:47,008 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:24:52,997 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:24:58,996 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:25:05,005 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:25:11,002 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 01:25:12,619 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 01:43:17,539 - root - INFO - Starting up application...
2024-10-27 01:43:17,541 - app.database - INFO - Database initialized successfully
2024-10-27 01:43:17,553 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:43:18,653 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 01:43:22,996 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:43:25,263 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 01:43:25,580 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 01:43:25,584 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 01:43:25,587 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 01:43:25,589 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 01:43:25,592 - app.core.middleware - INFO - Response: status=200 completed_in=0.012s
2024-10-27 01:43:28,996 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:43:31,693 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 01:43:34,198 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 01:43:34,200 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 01:43:34,442 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 01:43:34,443 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 01:43:34,444 - app.core.middleware - INFO - Response: status=200 completed_in=0.246s
2024-10-27 01:43:34,470 - app.core.middleware - INFO - Request: OPTIONS http://localhost:8000/api/chat/chats
2024-10-27 01:43:34,472 - app.core.middleware - INFO - Response: status=200 completed_in=0.002s
2024-10-27 01:43:34,477 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 01:43:34,483 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 01:43:34,485 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 01:43:34,487 - app.core.middleware - INFO - Response: status=200 completed_in=0.011s
2024-10-27 01:43:34,792 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 01:43:34,999 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:43:40,420 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:43:45,996 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:43:52,003 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:43:58,006 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:44:03,993 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:44:09,996 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:44:15,993 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:44:22,003 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:44:27,992 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:44:34,008 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:44:40,001 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:44:46,010 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:44:52,004 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:44:57,995 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:45:04,003 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:45:09,994 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:45:15,997 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:45:22,006 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:45:27,993 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:45:33,994 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:45:39,996 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:45:45,994 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:45:52,006 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:45:58,002 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:46:03,998 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:46:10,009 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:46:15,998 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:46:18,533 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 01:48:00,595 - root - INFO - Starting up application...
2024-10-27 01:48:00,597 - app.database - INFO - Database initialized successfully
2024-10-27 01:48:00,617 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 01:48:00,618 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:48:06,000 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:48:09,385 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 01:48:11,997 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:48:12,719 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 01:48:12,721 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 01:48:12,960 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 01:48:12,961 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 01:48:12,962 - app.core.middleware - INFO - Response: status=200 completed_in=0.243s
2024-10-27 01:48:12,987 - app.core.middleware - INFO - Request: OPTIONS http://localhost:8000/api/chat/chats
2024-10-27 01:48:12,989 - app.core.middleware - INFO - Response: status=200 completed_in=0.002s
2024-10-27 01:48:12,993 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 01:48:12,998 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 01:48:13,001 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 01:48:13,003 - app.core.middleware - INFO - Response: status=200 completed_in=0.010s
2024-10-27 01:48:13,308 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 01:48:18,010 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:48:23,983 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:48:29,997 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:48:36,001 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:48:42,000 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:48:47,992 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:48:53,999 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:49:00,000 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:49:05,997 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:49:11,998 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:49:17,987 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:49:24,007 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:49:30,005 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:49:30,286 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 01:49:35,606 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 01:49:35,608 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 01:49:35,831 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 01:49:35,831 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 01:49:35,833 - app.core.middleware - INFO - Response: status=200 completed_in=0.227s
2024-10-27 01:49:35,860 - app.core.middleware - INFO - Request: OPTIONS http://localhost:8000/api/chat/chats
2024-10-27 01:49:35,862 - app.core.middleware - INFO - Response: status=200 completed_in=0.002s
2024-10-27 01:49:35,867 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 01:49:35,874 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 01:49:35,877 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 01:49:35,880 - app.core.middleware - INFO - Response: status=200 completed_in=0.013s
2024-10-27 01:49:36,005 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:49:36,179 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 01:49:42,007 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:49:47,994 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:49:54,007 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:50:00,000 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:50:02,583 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 01:50:05,988 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:50:11,984 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:50:18,002 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:50:23,994 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:50:29,992 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:50:35,493 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 01:50:35,496 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 01:50:35,716 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 01:50:35,717 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 01:50:35,718 - app.core.middleware - INFO - Response: status=200 completed_in=0.225s
2024-10-27 01:50:35,737 - app.core.middleware - INFO - Request: OPTIONS http://localhost:8000/api/chat/chats
2024-10-27 01:50:35,738 - app.core.middleware - INFO - Response: status=200 completed_in=0.001s
2024-10-27 01:50:35,743 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 01:50:35,748 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 01:50:35,750 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 01:50:35,752 - app.core.middleware - INFO - Response: status=200 completed_in=0.009s
2024-10-27 01:50:35,999 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:50:36,064 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 01:50:42,007 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:50:48,000 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:50:53,994 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature has expired.
2024-10-27 01:50:59,575 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 01:51:04,333 - root - INFO - Starting up application...
2024-10-27 01:51:04,335 - app.database - INFO - Database initialized successfully
2024-10-27 01:51:04,355 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:51:10,003 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:51:16,006 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:51:21,999 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:51:28,000 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:51:34,000 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:51:39,990 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:51:40,491 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 01:51:40,494 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 01:51:40,738 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 01:51:40,739 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 01:51:40,741 - app.core.middleware - INFO - Response: status=200 completed_in=0.250s
2024-10-27 01:51:40,776 - app.core.middleware - INFO - Request: OPTIONS http://localhost:8000/api/chat/chats
2024-10-27 01:51:40,778 - app.core.middleware - INFO - Response: status=200 completed_in=0.002s
2024-10-27 01:51:40,782 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 01:51:40,787 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 01:51:40,790 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 01:51:40,792 - app.core.middleware - INFO - Response: status=200 completed_in=0.010s
2024-10-27 01:51:41,087 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 01:51:45,998 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:51:51,994 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:51:57,994 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:52:03,994 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:52:09,997 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:52:16,003 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:52:21,996 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:52:27,998 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:52:33,993 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:52:39,996 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:52:46,001 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:52:52,002 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:52:57,997 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:53:04,002 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:53:09,994 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:53:15,997 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:53:22,006 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:53:28,003 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:53:29,232 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 01:53:33,858 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 01:53:33,860 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 01:53:34,079 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 01:53:34,080 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 01:53:34,082 - app.core.middleware - INFO - Response: status=200 completed_in=0.224s
2024-10-27 01:53:34,083 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:53:34,113 - app.core.middleware - INFO - Request: OPTIONS http://localhost:8000/api/chat/chats
2024-10-27 01:53:34,115 - app.core.middleware - INFO - Response: status=200 completed_in=0.002s
2024-10-27 01:53:34,119 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 01:53:34,123 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 01:53:34,126 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 01:53:34,128 - app.core.middleware - INFO - Response: status=200 completed_in=0.010s
2024-10-27 01:53:34,448 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 01:53:40,007 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:53:46,000 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:53:51,997 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:53:57,999 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:54:04,001 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:54:09,994 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:54:16,009 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:54:21,999 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:54:27,989 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:54:33,991 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:54:39,979 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:54:45,997 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:54:52,007 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:54:57,992 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:55:03,999 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:55:10,001 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:55:16,003 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:55:21,992 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:55:28,006 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:55:34,001 - app.core.dependencies - ERROR - WebSocket token validation failed: Signature verification failed.
2024-10-27 01:55:34,255 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 01:55:38,438 - root - INFO - Starting up application...
2024-10-27 01:55:38,440 - app.database - INFO - Database initialized successfully
2024-10-27 01:55:39,999 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:55:39,999 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:55:44,469 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 01:55:44,471 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 01:55:44,712 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 01:55:44,713 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 01:55:44,714 - app.core.middleware - INFO - Response: status=200 completed_in=0.245s
2024-10-27 01:55:44,742 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 01:55:44,746 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 01:55:44,749 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 01:55:44,752 - app.core.middleware - INFO - Response: status=200 completed_in=0.010s
2024-10-27 01:55:45,069 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 01:55:46,000 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:55:46,001 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:55:51,994 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:55:51,995 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:55:58,005 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:55:58,006 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:56:03,993 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:56:03,994 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:56:09,998 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:56:09,998 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:56:16,006 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:56:16,006 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:56:22,006 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:56:22,007 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:56:27,997 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:56:27,997 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:56:33,999 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:56:34,000 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:56:39,994 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:56:39,995 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:56:45,997 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:56:45,997 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:56:51,996 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:56:51,997 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:56:57,994 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:56:57,995 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:57:04,004 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:57:04,004 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:57:10,003 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:57:10,004 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:57:15,996 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:57:15,997 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:57:21,997 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:57:21,998 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:57:27,999 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:57:28,000 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:57:33,994 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:57:33,994 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:57:40,000 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:57:40,001 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:57:45,994 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:57:45,995 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:57:52,004 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:57:52,005 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:57:58,007 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:57:58,008 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:58:01,499 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 01:58:05,614 - root - INFO - Starting up application...
2024-10-27 01:58:05,616 - app.database - INFO - Database initialized successfully
2024-10-27 01:58:05,624 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 01:58:05,631 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 01:58:05,631 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 01:58:05,632 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 01:58:05,635 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 01:58:05,882 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 01:58:05,882 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 01:58:05,884 - app.core.middleware - INFO - Response: status=200 completed_in=0.259s
2024-10-27 01:58:05,920 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 01:58:05,924 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 01:58:05,926 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 01:58:05,927 - app.core.middleware - INFO - Response: status=200 completed_in=0.007s
2024-10-27 01:58:06,247 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:00:23,182 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:00:27,426 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 02:00:27,429 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:00:27,649 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 02:00:27,649 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 02:00:27,651 - app.core.middleware - INFO - Response: status=200 completed_in=0.225s
2024-10-27 02:00:27,680 - app.core.middleware - INFO - Request: OPTIONS http://localhost:8000/api/chat/chats
2024-10-27 02:00:27,682 - app.core.middleware - INFO - Response: status=200 completed_in=0.002s
2024-10-27 02:00:27,686 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 02:00:27,690 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 02:00:27,692 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 02:00:27,695 - app.core.middleware - INFO - Response: status=200 completed_in=0.009s
2024-10-27 02:00:27,996 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:02:32,281 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:02:35,389 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 02:02:35,392 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:02:35,613 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 02:02:35,613 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 02:02:35,615 - app.core.middleware - INFO - Response: status=200 completed_in=0.226s
2024-10-27 02:02:35,641 - app.core.middleware - INFO - Request: OPTIONS http://localhost:8000/api/chat/chats
2024-10-27 02:02:35,643 - app.core.middleware - INFO - Response: status=200 completed_in=0.002s
2024-10-27 02:02:35,647 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 02:02:35,651 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 02:02:35,653 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 02:02:35,655 - app.core.middleware - INFO - Response: status=200 completed_in=0.008s
2024-10-27 02:02:35,953 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:03:48,968 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:03:52,379 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 02:03:52,381 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:03:52,601 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 02:03:52,602 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 02:03:52,604 - app.core.middleware - INFO - Response: status=200 completed_in=0.225s
2024-10-27 02:03:52,635 - app.core.middleware - INFO - Request: OPTIONS http://localhost:8000/api/chat/chats
2024-10-27 02:03:52,637 - app.core.middleware - INFO - Response: status=200 completed_in=0.002s
2024-10-27 02:03:52,642 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 02:03:52,647 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 02:03:52,649 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 02:03:52,651 - app.core.middleware - INFO - Response: status=200 completed_in=0.009s
2024-10-27 02:03:52,951 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:04:39,024 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:04:43,412 - root - INFO - Starting up application...
2024-10-27 02:04:43,414 - app.database - INFO - Database initialized successfully
2024-10-27 02:04:45,008 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 02:04:45,009 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 02:04:45,009 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 02:04:50,519 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 02:04:50,530 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:04:50,534 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 02:04:50,535 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 02:04:50,537 - app.core.middleware - INFO - Response: status=200 completed_in=0.018s
2024-10-27 02:05:22,875 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:05:22,889 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 02:05:22,892 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 02:05:22,894 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 02:05:22,897 - app.core.middleware - INFO - Response: status=200 completed_in=0.008s
2024-10-27 02:05:23,203 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:05:27,961 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:05:31,639 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 02:05:31,641 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:05:31,883 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 02:05:31,884 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 02:05:31,885 - app.core.middleware - INFO - Response: status=200 completed_in=0.246s
2024-10-27 02:05:31,921 - app.core.middleware - INFO - Request: OPTIONS http://localhost:8000/api/chat/chats
2024-10-27 02:05:31,923 - app.core.middleware - INFO - Response: status=200 completed_in=0.002s
2024-10-27 02:05:31,927 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 02:05:31,932 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 02:05:31,934 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 02:05:31,937 - app.core.middleware - INFO - Response: status=200 completed_in=0.010s
2024-10-27 02:05:32,244 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:06:40,508 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:06:43,735 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 02:06:43,737 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:06:43,954 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 02:06:43,955 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 02:06:43,956 - app.core.middleware - INFO - Response: status=200 completed_in=0.221s
2024-10-27 02:06:43,984 - app.core.middleware - INFO - Request: OPTIONS http://localhost:8000/api/chat/chats
2024-10-27 02:06:43,986 - app.core.middleware - INFO - Response: status=200 completed_in=0.002s
2024-10-27 02:06:43,991 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 02:06:43,997 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 02:06:44,000 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 02:06:44,003 - app.core.middleware - INFO - Response: status=200 completed_in=0.012s
2024-10-27 02:06:44,308 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:08:21,881 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:08:24,099 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 02:08:24,101 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:08:24,321 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 02:08:24,322 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 02:08:24,323 - app.core.middleware - INFO - Response: status=200 completed_in=0.224s
2024-10-27 02:08:24,358 - app.core.middleware - INFO - Request: OPTIONS http://localhost:8000/api/chat/chats
2024-10-27 02:08:24,360 - app.core.middleware - INFO - Response: status=200 completed_in=0.002s
2024-10-27 02:08:24,365 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 02:08:24,370 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 02:08:24,372 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 02:08:24,375 - app.core.middleware - INFO - Response: status=200 completed_in=0.010s
2024-10-27 02:08:24,670 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:10:04,336 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:10:08,250 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 02:10:08,252 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:10:08,472 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 02:10:08,473 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 02:10:08,474 - app.core.middleware - INFO - Response: status=200 completed_in=0.224s
2024-10-27 02:10:08,499 - app.core.middleware - INFO - Request: OPTIONS http://localhost:8000/api/chat/chats
2024-10-27 02:10:08,501 - app.core.middleware - INFO - Response: status=200 completed_in=0.002s
2024-10-27 02:10:08,507 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 02:10:08,512 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 02:10:08,515 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 02:10:08,517 - app.core.middleware - INFO - Response: status=200 completed_in=0.010s
2024-10-27 02:10:08,824 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:10:10,736 - app.core.middleware - INFO - Request: OPTIONS http://localhost:8000/api/chat/chats/18
2024-10-27 02:10:10,738 - app.core.middleware - INFO - Response: status=200 completed_in=0.002s
2024-10-27 02:10:10,741 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats/18
2024-10-27 02:10:10,743 - app.core.middleware - INFO - Response: status=404 completed_in=0.002s
2024-10-27 02:12:15,569 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:12:20,019 - root - INFO - Starting up application...
2024-10-27 02:12:20,021 - app.database - INFO - Database initialized successfully
2024-10-27 02:12:21,005 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 02:12:21,006 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 02:12:25,652 - app.core.middleware - INFO - Request: POST http://localhost:8000/api/auth/token
2024-10-27 02:12:25,654 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:12:25,901 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 02:12:25,902 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 02:12:25,903 - app.core.middleware - INFO - Response: status=200 completed_in=0.251s
2024-10-27 02:12:25,932 - app.core.middleware - INFO - Request: OPTIONS http://localhost:8000/api/chat/chats
2024-10-27 02:12:25,935 - app.core.middleware - INFO - Response: status=200 completed_in=0.003s
2024-10-27 02:12:25,940 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 02:12:25,945 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 02:12:25,949 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 02:12:25,952 - app.core.middleware - INFO - Response: status=200 completed_in=0.011s
2024-10-27 02:12:26,250 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:12:27,651 - app.core.middleware - INFO - Request: OPTIONS http://localhost:8000/api/chat/chats/18
2024-10-27 02:12:27,652 - app.core.middleware - INFO - Response: status=200 completed_in=0.001s
2024-10-27 02:12:27,655 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats/18
2024-10-27 02:12:27,658 - app.routers.chat.router - INFO - 获取聊天 18 的详细信息
2024-10-27 02:12:27,662 - app.core.middleware - INFO - Response: status=200 completed_in=0.007s
2024-10-27 02:13:52,084 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:13:52,411 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 02:13:52,415 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:13:52,418 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 02:13:52,419 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 02:13:52,421 - app.core.middleware - INFO - Response: status=200 completed_in=0.010s
2024-10-27 02:13:54,757 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats/18
2024-10-27 02:13:54,760 - app.routers.chat.router - INFO - 获取聊天 18 的详细信息
2024-10-27 02:13:54,762 - app.core.middleware - INFO - Response: status=200 completed_in=0.005s
2024-10-27 02:15:40,995 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:15:41,325 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 02:15:41,329 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:15:41,331 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 02:15:41,333 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 02:15:41,336 - app.core.middleware - INFO - Response: status=200 completed_in=0.011s
2024-10-27 02:16:01,148 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:16:01,160 - app.core.middleware - INFO - Request: GET http://localhost:8000/api/chat/chats
2024-10-27 02:16:01,165 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 02:16:01,166 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 02:16:01,169 - app.core.middleware - INFO - Response: status=200 completed_in=0.009s
2024-10-27 02:16:01,478 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:17:27,105 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:17:31,419 - root - INFO - Starting up application...
2024-10-27 02:17:31,421 - app.database - INFO - Database initialized successfully
2024-10-27 02:17:31,441 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 02:17:31,443 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 02:17:31,446 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:17:33,003 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 02:17:33,004 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 02:17:33,005 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 02:19:09,082 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:19:13,255 - root - INFO - Starting up application...
2024-10-27 02:19:13,257 - app.database - INFO - Database initialized successfully
2024-10-27 02:19:15,019 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 02:19:15,019 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 02:19:15,020 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 02:19:17,967 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 02:19:17,969 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 02:19:17,972 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:19:17,973 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:19:27,223 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:21:00,595 - root - INFO - Available routes:
2024-10-27 02:21:00,596 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 02:21:00,597 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 02:21:00,597 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 02:21:00,598 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 02:21:00,598 - root - INFO - {'POST'} /api/auth/token
2024-10-27 02:21:00,599 - root - INFO - {'POST'} /api/auth/register
2024-10-27 02:21:00,599 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 02:21:00,600 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 02:21:00,600 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 02:21:00,601 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 02:22:20,211 - root - INFO - Available routes:
2024-10-27 02:22:20,212 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 02:22:20,212 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 02:22:20,213 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 02:22:20,213 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 02:22:20,214 - root - INFO - {'POST'} /api/auth/token
2024-10-27 02:22:20,214 - root - INFO - {'POST'} /api/auth/register
2024-10-27 02:22:20,215 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 02:22:20,215 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 02:22:20,215 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 02:22:20,216 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 02:22:20,216 - root - INFO - WebSocket /api/chat/ws
2024-10-27 02:22:20,217 - root - INFO - {'GET'} /
2024-10-27 02:22:20,218 - root - INFO - Starting up application...
2024-10-27 02:22:20,220 - app.database - INFO - Database initialized successfully
2024-10-27 02:22:20,232 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 02:22:20,232 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 02:22:20,233 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 02:22:26,125 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:22:26,369 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 02:22:26,370 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 02:22:26,402 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 02:22:26,405 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 02:22:26,709 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:22:26,710 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:22:26,725 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:22:26,726 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:22:28,030 - app.routers.chat.router - INFO - 获取聊天 19 的详细信息
2024-10-27 02:22:31,284 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 02:22:31,284 - app.routers.chat.router - ERROR - 创建聊天失败: 'AIChatService' object has no attribute 'create_new_chat'
2024-10-27 02:24:07,357 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:24:07,358 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:24:11,821 - root - INFO - Available routes:
2024-10-27 02:24:11,821 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 02:24:11,822 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 02:24:11,822 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 02:24:11,823 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 02:24:11,824 - root - INFO - {'POST'} /api/auth/token
2024-10-27 02:24:11,824 - root - INFO - {'POST'} /api/auth/register
2024-10-27 02:24:11,825 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 02:24:11,825 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 02:24:11,826 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 02:24:11,826 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 02:24:11,827 - root - INFO - WebSocket /api/chat/ws
2024-10-27 02:24:11,827 - root - INFO - {'GET'} /
2024-10-27 02:24:11,828 - root - INFO - Starting up application...
2024-10-27 02:24:11,830 - app.database - INFO - Database initialized successfully
2024-10-27 02:24:11,854 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 02:24:11,856 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 02:24:11,859 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:24:11,860 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:24:11,860 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:24:11,862 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:24:11,863 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:24:11,889 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:24:11,890 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:24:12,996 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 02:24:12,997 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 02:24:12,997 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 02:24:19,646 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 02:24:19,647 - app.services.chat.base - ERROR - Error creating new chat: 'created_at' is an invalid keyword argument for Chat
2024-10-27 02:24:19,648 - app.routers.chat.router - ERROR - 创建聊天失败: 500: Failed to create new chat
2024-10-27 02:24:21,578 - app.routers.chat.router - INFO - 获取聊天 20 的详细信息
2024-10-27 02:24:24,445 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 02:24:24,446 - app.services.chat.base - ERROR - Error creating new chat: 'created_at' is an invalid keyword argument for Chat
2024-10-27 02:24:24,446 - app.routers.chat.router - ERROR - 创建聊天失败: 500: Failed to create new chat
2024-10-27 02:26:01,379 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:26:01,379 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:26:05,491 - root - INFO - Available routes:
2024-10-27 02:26:05,492 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 02:26:05,492 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 02:26:05,493 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 02:26:05,494 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 02:26:05,494 - root - INFO - {'POST'} /api/auth/token
2024-10-27 02:26:05,494 - root - INFO - {'POST'} /api/auth/register
2024-10-27 02:26:05,495 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 02:26:05,495 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 02:26:05,496 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 02:26:05,496 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 02:26:05,497 - root - INFO - WebSocket /api/chat/ws
2024-10-27 02:26:05,497 - root - INFO - {'GET'} /
2024-10-27 02:26:05,498 - root - INFO - Starting up application...
2024-10-27 02:26:05,500 - app.database - INFO - Database initialized successfully
2024-10-27 02:26:05,520 - app.services.auth.auth_service - ERROR - 获取用户时出错: (sqlite3.OperationalError) no such column: users.is_active
[SQL: SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?]
[parameters: ('fengzhe', 1, 0)]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
2024-10-27 02:26:05,521 - app.core.dependencies - ERROR - WebSocket authentication error: 500: 获取用户信息失败
2024-10-27 02:26:05,522 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 02:26:07,000 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 02:26:07,001 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 02:26:07,001 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 02:26:18,296 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:26:18,297 - app.services.auth.auth_service - ERROR - 获取用户时出错: (sqlite3.OperationalError) no such column: users.is_active
[SQL: SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?]
[parameters: ('fengzhe', 1, 0)]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
2024-10-27 02:26:18,298 - app.services.auth.auth_service - ERROR - 认证用户时出错: 500: 获取用户信息失败
2024-10-27 02:26:18,299 - app.routers.auth.router - ERROR - 登录过程中发生错误: 500: 认证失败
2024-10-27 02:28:13,864 - root - INFO - Available routes:
2024-10-27 02:28:13,865 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 02:28:13,865 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 02:28:13,866 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 02:28:13,867 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 02:28:13,867 - root - INFO - {'POST'} /api/auth/token
2024-10-27 02:28:13,867 - root - INFO - {'POST'} /api/auth/register
2024-10-27 02:28:13,868 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 02:28:13,868 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 02:28:13,869 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 02:28:13,869 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 02:28:13,870 - root - INFO - WebSocket /api/chat/ws
2024-10-27 02:28:13,870 - root - INFO - {'GET'} /
2024-10-27 02:28:13,872 - root - INFO - Starting up application...
2024-10-27 02:28:13,872 - app.database - INFO - Removed existing database: ./test.db
2024-10-27 02:28:13,894 - app.database - INFO - Database initialized successfully
2024-10-27 02:28:14,145 - app.database - INFO - Created test user
2024-10-27 02:28:16,002 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 02:28:16,003 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 02:28:16,004 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 02:28:22,210 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:28:22,211 - app.routers.auth.router - WARNING - 登录失败: 用户名 'fengzhe' 验证失败
2024-10-27 02:28:22,212 - app.routers.auth.router - ERROR - 登录过程中发生错误: 401: 用户名或密码错误
2024-10-27 02:28:31,448 - app.routers.auth.router - INFO - 尝试登录: 用户名 'test'
2024-10-27 02:28:31,671 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 02:28:31,671 - app.routers.auth.router - INFO - 用户 'test' 登录成功
2024-10-27 02:28:31,733 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 02:28:31,736 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 02:28:32,032 - app.core.dependencies - INFO - WebSocket user authenticated: test
2024-10-27 02:28:32,032 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 02:28:32,050 - app.core.dependencies - INFO - WebSocket user authenticated: test
2024-10-27 02:28:32,051 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 02:28:36,451 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 02:28:36,457 - app.services.chat.base - INFO - Created new chat for user 1: 1
2024-10-27 02:30:57,197 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 02:30:57,198 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 02:31:01,338 - root - INFO - Available routes:
2024-10-27 02:31:01,339 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 02:31:01,339 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 02:31:01,340 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 02:31:01,340 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 02:31:01,341 - root - INFO - {'POST'} /api/auth/token
2024-10-27 02:31:01,341 - root - INFO - {'POST'} /api/auth/register
2024-10-27 02:31:01,342 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 02:31:01,342 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 02:31:01,342 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 02:31:01,343 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 02:31:01,343 - root - INFO - WebSocket /api/chat/ws
2024-10-27 02:31:01,344 - root - INFO - {'GET'} /
2024-10-27 02:31:01,345 - root - INFO - Starting up application...
2024-10-27 02:31:01,346 - app.database - INFO - Removed existing database: ./test.db
2024-10-27 02:31:01,369 - app.database - INFO - Database initialized successfully
2024-10-27 02:31:01,625 - app.database - INFO - Created test user
2024-10-27 02:31:01,639 - app.core.dependencies - INFO - WebSocket user authenticated: test
2024-10-27 02:31:01,640 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 02:31:02,891 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 02:31:02,993 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 02:31:02,994 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 02:31:02,994 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 02:31:03,216 - app.core.dependencies - INFO - WebSocket user authenticated: test
2024-10-27 02:31:03,216 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 02:31:03,219 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 02:31:03,221 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 02:31:03,232 - app.core.dependencies - INFO - WebSocket user authenticated: test
2024-10-27 02:31:03,233 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 02:31:10,304 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 02:31:10,305 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 02:31:15,759 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:31:15,761 - app.routers.auth.router - WARNING - 登录失败: 用户名 'fengzhe' 验证失败
2024-10-27 02:31:15,761 - app.routers.auth.router - ERROR - 登录过程中发生错误: 401: 用户名或密码错误
2024-10-27 02:31:23,752 - app.routers.auth.router - INFO - 尝试登录: 用户名 'test'
2024-10-27 02:31:23,973 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 02:31:23,974 - app.routers.auth.router - INFO - 用户 'test' 登录成功
2024-10-27 02:31:24,019 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 02:31:24,020 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 02:31:24,332 - app.core.dependencies - INFO - WebSocket user authenticated: test
2024-10-27 02:31:24,333 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 02:31:24,350 - app.core.dependencies - INFO - WebSocket user authenticated: test
2024-10-27 02:31:24,350 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 02:31:27,763 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 02:31:27,770 - app.services.chat.base - INFO - Created new chat for user 1: 1
2024-10-27 02:31:27,773 - app.routers.chat.router - INFO - 收到WebSocket消息: {'message': '你好'}
2024-10-27 02:32:53,078 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 02:32:53,079 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 02:32:55,526 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:32:55,527 - app.routers.auth.router - WARNING - 登录失败: 用户名 'fengzhe' 验证失败
2024-10-27 02:32:55,528 - app.routers.auth.router - ERROR - 登录过程中发生错误: 401: 用户名或密码错误
2024-10-27 02:33:04,039 - app.routers.auth.router - INFO - 尝试注册新用户: fengzhe
2024-10-27 02:33:04,268 - app.routers.auth.router - INFO - 新用户注册成功: fengzhe
2024-10-27 02:33:06,675 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:33:06,895 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 02:33:06,895 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 02:33:06,934 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 02:33:06,937 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 02:33:07,307 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:33:07,308 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:33:07,324 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:33:07,324 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:33:10,883 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 02:33:10,889 - app.services.chat.base - INFO - Created new chat for user 2: 2
2024-10-27 02:33:10,893 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 2, 'message': '你好'}
2024-10-27 02:33:10,897 - app.services.chat.base - ERROR - Error getting chat with messages: type object 'Message' has no attribute 'timestamp'
2024-10-27 02:33:10,898 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to get chat with messages
2024-10-27 02:34:37,910 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:34:37,911 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:34:42,115 - root - INFO - Available routes:
2024-10-27 02:34:42,115 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 02:34:42,116 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 02:34:42,116 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 02:34:42,117 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 02:34:42,117 - root - INFO - {'POST'} /api/auth/token
2024-10-27 02:34:42,118 - root - INFO - {'POST'} /api/auth/register
2024-10-27 02:34:42,118 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 02:34:42,119 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 02:34:42,119 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 02:34:42,120 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 02:34:42,120 - root - INFO - WebSocket /api/chat/ws
2024-10-27 02:34:42,121 - root - INFO - {'GET'} /
2024-10-27 02:34:42,122 - root - INFO - Starting up application...
2024-10-27 02:34:42,123 - app.database - INFO - Removed existing database: ./test.db
2024-10-27 02:34:42,148 - app.database - INFO - Database initialized successfully
2024-10-27 02:34:42,399 - app.database - INFO - Created test user
2024-10-27 02:34:42,412 - app.core.dependencies - WARNING - WebSocket user not found: fengzhe
2024-10-27 02:34:42,412 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 02:34:44,000 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 02:34:44,001 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 02:34:44,002 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 02:34:47,249 - app.core.dependencies - WARNING - WebSocket user not found: fengzhe
2024-10-27 02:34:47,250 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 02:34:47,279 - app.core.dependencies - WARNING - WebSocket user not found: fengzhe
2024-10-27 02:34:47,280 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 02:34:54,716 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:34:54,718 - app.routers.auth.router - WARNING - 登录失败: 用户名 'fengzhe' 验证失败
2024-10-27 02:34:54,718 - app.routers.auth.router - ERROR - 登录过程中发生错误: 401: 用户名或密码错误
2024-10-27 02:35:01,440 - app.routers.auth.router - INFO - 尝试注册新用户: fengzhe
2024-10-27 02:35:01,668 - app.routers.auth.router - INFO - 新用户注册成功: fengzhe
2024-10-27 02:35:05,036 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:35:05,256 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 02:35:05,257 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 02:35:05,297 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 02:35:05,301 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 02:35:05,638 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:35:05,639 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:35:05,656 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:35:05,656 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:35:09,037 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 02:35:09,045 - app.services.chat.base - INFO - Created new chat for user 2: 1
2024-10-27 02:35:09,050 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 1, 'message': '你好'}
2024-10-27 02:35:09,054 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=1
2024-10-27 02:35:09,055 - app.services.chat.ai_chat - ERROR - Error processing message: name 'Message' is not defined
2024-10-27 02:35:09,056 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 02:36:44,775 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:36:44,775 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:36:49,029 - root - INFO - Available routes:
2024-10-27 02:36:49,030 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 02:36:49,031 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 02:36:49,031 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 02:36:49,032 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 02:36:49,032 - root - INFO - {'POST'} /api/auth/token
2024-10-27 02:36:49,033 - root - INFO - {'POST'} /api/auth/register
2024-10-27 02:36:49,033 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 02:36:49,034 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 02:36:49,034 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 02:36:49,034 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 02:36:49,035 - root - INFO - WebSocket /api/chat/ws
2024-10-27 02:36:49,035 - root - INFO - {'GET'} /
2024-10-27 02:36:49,036 - root - INFO - Starting up application...
2024-10-27 02:36:49,038 - app.database - INFO - Removed existing database: ./test.db
2024-10-27 02:36:49,062 - app.database - INFO - Database initialized successfully
2024-10-27 02:36:49,317 - app.database - INFO - Created test user
2024-10-27 02:36:49,330 - app.core.dependencies - WARNING - WebSocket user not found: fengzhe
2024-10-27 02:36:49,331 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 02:36:50,993 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 02:36:50,994 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 02:36:50,994 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 02:36:55,096 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:36:55,098 - app.routers.auth.router - WARNING - 登录失败: 用户名 'fengzhe' 验证失败
2024-10-27 02:36:55,098 - app.routers.auth.router - ERROR - 登录过程中发生错误: 401: 用户名或密码错误
2024-10-27 02:36:59,587 - app.routers.auth.router - INFO - 尝试注册新用户: fengzhe
2024-10-27 02:36:59,817 - app.routers.auth.router - INFO - 新用户注册成功: fengzhe
2024-10-27 02:37:02,793 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:37:03,014 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 02:37:03,015 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 02:37:03,055 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 02:37:03,058 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 02:37:03,402 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:37:03,403 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:37:03,418 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:37:03,420 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:37:12,614 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 02:37:12,620 - app.services.chat.base - INFO - Created new chat for user 2: 1
2024-10-27 02:37:12,624 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 1, 'message': 'nh'}
2024-10-27 02:37:12,628 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=1
2024-10-27 02:37:18,269 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 02:37:18,274 - app.services.chat.base - INFO - Created new chat for user 2: 2
2024-10-27 02:37:18,281 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 02:37:18,283 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 02:37:27,848 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 02:37:27,853 - app.services.chat.base - INFO - Created new chat for user 2: 3
2024-10-27 02:37:27,856 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 3, 'message': '你好'}
2024-10-27 02:37:27,861 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=3
2024-10-27 02:37:37,670 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 3, 'message': '我离职了'}
2024-10-27 02:37:37,674 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=3
2024-10-27 02:37:46,438 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 02:37:47,975 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 02:37:50,446 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 02:37:51,482 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 02:38:50,006 - app.routers.chat.router - INFO - 删除聊天 2
2024-10-27 02:38:50,021 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 02:38:50,022 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 02:38:52,672 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 02:38:53,412 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 02:38:56,115 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 02:38:58,834 - app.routers.chat.router - INFO - 删除聊天 1
2024-10-27 02:38:58,848 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 02:38:58,850 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 02:38:59,804 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 02:38:59,810 - app.services.chat.base - INFO - Created new chat for user 2: 4
2024-10-27 02:38:59,817 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 02:38:59,818 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 02:39:33,515 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:39:33,516 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:39:33,529 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 02:39:33,531 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 02:39:33,839 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:39:33,840 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:39:33,856 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:39:33,857 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:39:34,848 - app.routers.chat.router - INFO - 获取聊天 4 的详细信息
2024-10-27 02:39:38,970 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 02:39:38,975 - app.services.chat.base - INFO - Created new chat for user 2: 5
2024-10-27 02:39:38,979 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 5, 'message': '你好'}
2024-10-27 02:39:38,981 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=5
2024-10-27 02:39:44,293 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 5, 'message': '我离职了'}
2024-10-27 02:39:44,297 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=5
2024-10-27 02:39:47,358 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 02:39:48,026 - app.routers.chat.router - INFO - 获取聊天 4 的详细信息
2024-10-27 02:39:50,639 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 02:39:53,237 - app.routers.chat.router - INFO - 获取聊天 4 的详细信息
2024-10-27 02:41:19,074 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:41:19,075 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:41:19,393 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 02:41:19,394 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 02:41:19,400 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:41:19,400 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:41:19,426 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:41:19,427 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:41:30,474 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:41:30,475 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:41:33,802 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:41:34,020 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 02:41:34,021 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 02:41:34,051 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 02:41:34,053 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 02:41:34,373 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:41:34,374 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:41:34,391 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:41:34,392 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:41:37,224 - app.routers.chat.router - INFO - 删除聊天 4
2024-10-27 02:41:37,236 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 02:41:37,237 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 02:41:38,133 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 02:41:42,677 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 02:41:42,682 - app.services.chat.base - INFO - Created new chat for user 2: 6
2024-10-27 02:41:42,685 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 6, 'message': '你好'}
2024-10-27 02:41:42,687 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=6
2024-10-27 02:41:48,123 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 02:41:48,129 - app.services.chat.base - INFO - Created new chat for user 2: 7
2024-10-27 02:41:48,135 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 02:41:48,136 - app.routers.chat.router - INFO - 成功获取到 4 条聊天历史
2024-10-27 02:41:51,757 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 7, 'message': '你好'}
2024-10-27 02:41:51,760 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=7
2024-10-27 02:43:21,377 - app.routers.chat.router - INFO - 删除聊天 7
2024-10-27 02:43:21,390 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 02:43:21,393 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 02:43:34,780 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 02:44:34,761 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:44:34,765 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:44:38,007 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:44:38,227 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 02:44:38,228 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 02:44:38,264 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 02:44:38,265 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 02:44:38,589 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:44:38,590 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:44:38,606 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:44:38,607 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:47:43,200 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:47:43,201 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:47:45,906 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:47:46,130 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 02:47:46,130 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 02:47:46,162 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 02:47:46,163 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 02:47:46,492 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:47:46,492 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:47:46,509 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:47:46,509 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:47:52,912 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 02:47:52,918 - app.services.chat.base - INFO - Created new chat for user 2: 7
2024-10-27 02:47:52,921 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 7, 'message': '你好'}
2024-10-27 02:47:52,923 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=7
2024-10-27 02:49:51,751 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:49:51,754 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:49:55,535 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:49:55,756 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 02:49:55,757 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 02:49:55,792 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 02:49:55,795 - app.routers.chat.router - INFO - 成功获取到 4 条聊天历史
2024-10-27 02:49:56,098 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:49:56,099 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:49:56,116 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:49:56,117 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:50:03,355 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 02:50:03,361 - app.services.chat.base - INFO - Created new chat for user 2: 8
2024-10-27 02:50:03,364 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 8, 'message': '你好'}
2024-10-27 02:50:03,367 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=8
2024-10-27 02:50:08,106 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 8, 'message': '你好'}
2024-10-27 02:50:08,109 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=8
2024-10-27 02:52:39,946 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:52:39,948 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:52:42,667 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:52:42,886 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 02:52:42,887 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 02:52:42,922 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 02:52:42,924 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 02:52:43,236 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:52:43,236 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:52:43,252 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:52:43,253 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:53:03,249 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:53:03,250 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:53:19,472 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:53:19,694 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 02:53:19,695 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 02:53:19,729 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 02:53:19,731 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 02:53:20,056 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:53:20,057 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:53:20,073 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:53:20,074 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:56:02,531 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:56:02,532 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:56:07,394 - root - INFO - Available routes:
2024-10-27 02:56:07,395 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 02:56:07,395 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 02:56:07,396 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 02:56:07,396 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 02:56:07,397 - root - INFO - {'POST'} /api/auth/token
2024-10-27 02:56:07,397 - root - INFO - {'POST'} /api/auth/register
2024-10-27 02:56:07,397 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 02:56:07,398 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 02:56:07,398 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 02:56:07,399 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 02:56:07,399 - root - INFO - WebSocket /api/chat/ws
2024-10-27 02:56:07,400 - root - INFO - {'GET'} /
2024-10-27 02:56:07,401 - root - INFO - Starting up application...
2024-10-27 02:56:07,426 - app.database - INFO - Database initialized successfully
2024-10-27 02:56:07,679 - app.database - INFO - Created test user
2024-10-27 02:56:07,694 - app.core.dependencies - WARNING - WebSocket user not found: fengzhe
2024-10-27 02:56:07,694 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 02:56:08,008 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 02:56:08,009 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 02:56:08,010 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 02:56:10,346 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:56:10,347 - app.routers.auth.router - WARNING - 登录失败: 用户名 'fengzhe' 验证失败
2024-10-27 02:56:10,348 - app.routers.auth.router - ERROR - 登录过程中发生错误: 401: 用户名或密码错误
2024-10-27 02:56:15,576 - app.routers.auth.router - INFO - 尝试注册新用户: fengzhe
2024-10-27 02:56:15,802 - app.routers.auth.router - INFO - 新用户注册成功: fengzhe
2024-10-27 02:56:18,541 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:56:18,763 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 02:56:18,763 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 02:56:18,796 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 02:56:18,798 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 02:56:19,136 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:56:19,137 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:56:19,152 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:56:19,153 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:57:24,604 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:57:24,605 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:58:06,804 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:58:07,027 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 02:58:07,028 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 02:58:07,065 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 02:58:07,067 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 02:58:07,389 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:58:07,390 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:58:07,421 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:58:07,422 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:58:39,599 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:58:39,600 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 02:58:42,053 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 02:58:42,270 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 02:58:42,271 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 02:58:42,314 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 02:58:42,316 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 02:58:42,620 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:58:42,620 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 02:58:42,636 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 02:58:42,637 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:01:37,604 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:01:37,606 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:01:39,622 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:01:39,847 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:01:39,848 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:01:39,881 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:01:39,883 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 03:01:40,194 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:01:40,194 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:01:40,211 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:01:40,212 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:01:49,999 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:01:50,001 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:01:51,831 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:01:52,052 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:01:52,053 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:01:52,084 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:01:52,086 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 03:01:52,402 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:01:52,403 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:01:52,418 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:01:52,419 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:01:56,256 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 03:01:56,263 - app.services.chat.base - INFO - Created new chat for user 2: 1
2024-10-27 03:01:56,266 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 03:01:56,274 - app.services.chat.base - INFO - Created new chat for user 2: 2
2024-10-27 03:01:56,278 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 1, 'message': '你好'}
2024-10-27 03:01:56,283 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=1
2024-10-27 03:01:56,301 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:01:56,303 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 03:01:56,307 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 2, 'message': '你好'}
2024-10-27 03:01:56,310 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=2
2024-10-27 03:01:56,441 - dashscope - ERROR - Request: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation failed, status: 401, message: Invalid API-key provided.
2024-10-27 03:01:56,443 - dashscope - ERROR - Request: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation failed, status: 401, message: Invalid API-key provided.
2024-10-27 03:01:56,443 - app.services.chat.ai_chat - ERROR - Error processing message: status_code: 401 
 code: InvalidApiKey 
 message: Invalid API-key provided.
2024-10-27 03:01:56,445 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 03:01:56,446 - app.services.chat.ai_chat - ERROR - Error processing message: status_code: 401 
 code: InvalidApiKey 
 message: Invalid API-key provided.
2024-10-27 03:01:56,447 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 03:02:00,643 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 1, 'message': '你好'}
2024-10-27 03:02:00,646 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=1
2024-10-27 03:02:00,745 - dashscope - ERROR - Request: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation failed, status: 401, message: Invalid API-key provided.
2024-10-27 03:02:00,747 - app.services.chat.ai_chat - ERROR - Error processing message: status_code: 401 
 code: InvalidApiKey 
 message: Invalid API-key provided.
2024-10-27 03:02:00,747 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 03:03:13,655 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 1, 'message': '你好'}
2024-10-27 03:03:13,658 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=1
2024-10-27 03:03:13,769 - dashscope - ERROR - Request: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation failed, status: 401, message: Invalid API-key provided.
2024-10-27 03:03:13,771 - app.services.chat.ai_chat - ERROR - Error processing message: status_code: 401 
 code: InvalidApiKey 
 message: Invalid API-key provided.
2024-10-27 03:03:13,772 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 03:03:25,933 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:03:25,936 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:03:27,721 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:03:27,939 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:03:27,940 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:03:27,977 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:03:27,979 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 03:03:28,329 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:03:28,330 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:03:28,346 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:03:28,347 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:03:30,155 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 03:03:30,161 - app.services.chat.base - INFO - Created new chat for user 2: 3
2024-10-27 03:03:30,164 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 03:03:30,171 - app.services.chat.base - INFO - Created new chat for user 2: 4
2024-10-27 03:03:30,177 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 3, 'message': '你好'}
2024-10-27 03:03:30,179 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=3
2024-10-27 03:03:30,194 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:03:30,195 - app.routers.chat.router - INFO - 成功获取到 4 条聊天历史
2024-10-27 03:03:30,200 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 4, 'message': '你好'}
2024-10-27 03:03:30,202 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=4
2024-10-27 03:03:30,279 - dashscope - ERROR - Request: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation failed, status: 401, message: Invalid API-key provided.
2024-10-27 03:03:30,281 - app.services.chat.ai_chat - ERROR - Error processing message: status_code: 401 
 code: InvalidApiKey 
 message: Invalid API-key provided.
2024-10-27 03:03:30,282 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 03:03:30,296 - dashscope - ERROR - Request: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation failed, status: 401, message: Invalid API-key provided.
2024-10-27 03:03:30,298 - app.services.chat.ai_chat - ERROR - Error processing message: status_code: 401 
 code: InvalidApiKey 
 message: Invalid API-key provided.
2024-10-27 03:03:30,300 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 03:03:39,647 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:03:39,649 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:03:55,692 - root - INFO - Available routes:
2024-10-27 03:03:55,692 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 03:03:55,693 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 03:03:55,694 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 03:03:55,694 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 03:03:55,694 - root - INFO - {'POST'} /api/auth/token
2024-10-27 03:03:55,695 - root - INFO - {'POST'} /api/auth/register
2024-10-27 03:03:55,695 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 03:03:55,696 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 03:03:55,696 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 03:03:55,696 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 03:03:55,697 - root - INFO - WebSocket /api/chat/ws
2024-10-27 03:03:55,697 - root - INFO - {'GET'} /
2024-10-27 03:03:55,699 - root - INFO - Starting up application...
2024-10-27 03:03:55,699 - app.database - INFO - Removed existing database: ./ai_lawyer.db
2024-10-27 03:03:55,724 - app.database - INFO - Database initialized successfully
2024-10-27 03:03:55,982 - app.database - INFO - Created test user
2024-10-27 03:03:58,267 - app.core.dependencies - WARNING - WebSocket user not found: fengzhe
2024-10-27 03:03:58,267 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 03:03:59,684 - app.core.dependencies - WARNING - WebSocket user not found: fengzhe
2024-10-27 03:03:59,685 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 03:04:00,998 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 03:04:00,998 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 03:04:00,999 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 03:04:09,525 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:04:09,526 - app.routers.auth.router - WARNING - 登录失败: 用户名 'fengzhe' 验证失败
2024-10-27 03:04:09,527 - app.routers.auth.router - ERROR - 登录过程中发生错误: 401: 用户名或密码错误
2024-10-27 03:04:14,102 - app.routers.auth.router - INFO - 尝试注册新用户: fengzhe
2024-10-27 03:04:14,332 - app.routers.auth.router - INFO - 新用户注册成功: fengzhe
2024-10-27 03:04:18,957 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:04:19,177 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:04:19,178 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:04:19,214 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:04:19,219 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 03:04:19,541 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:04:19,542 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:04:19,572 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:04:19,573 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:04:21,457 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 03:04:21,463 - app.services.chat.base - INFO - Created new chat for user 2: 1
2024-10-27 03:04:21,469 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 03:04:21,476 - app.services.chat.base - INFO - Created new chat for user 2: 2
2024-10-27 03:04:21,477 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 1, 'message': '你好'}
2024-10-27 03:04:21,483 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=1
2024-10-27 03:04:21,503 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:04:21,505 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 03:04:21,509 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 2, 'message': '你好'}
2024-10-27 03:04:21,512 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=2
2024-10-27 03:04:21,639 - dashscope - ERROR - Request: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation failed, status: 401, message: Invalid API-key provided.
2024-10-27 03:04:21,640 - app.services.chat.ai_chat - ERROR - Error processing message: status_code: 401 
 code: InvalidApiKey 
 message: Invalid API-key provided.
2024-10-27 03:04:21,641 - dashscope - ERROR - Request: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation failed, status: 401, message: Invalid API-key provided.
2024-10-27 03:04:21,641 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 03:04:21,643 - app.services.chat.ai_chat - ERROR - Error processing message: status_code: 401 
 code: InvalidApiKey 
 message: Invalid API-key provided.
2024-10-27 03:04:21,645 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 03:05:58,577 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:05:58,579 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:06:02,786 - root - INFO - Available routes:
2024-10-27 03:06:02,786 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 03:06:02,787 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 03:06:02,787 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 03:06:02,788 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 03:06:02,788 - root - INFO - {'POST'} /api/auth/token
2024-10-27 03:06:02,789 - root - INFO - {'POST'} /api/auth/register
2024-10-27 03:06:02,789 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 03:06:02,790 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 03:06:02,790 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 03:06:02,791 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 03:06:02,791 - root - INFO - WebSocket /api/chat/ws
2024-10-27 03:06:02,792 - root - INFO - {'GET'} /
2024-10-27 03:06:02,793 - root - INFO - Starting up application...
2024-10-27 03:06:02,794 - app.database - INFO - Removed existing database: ./ai_lawyer.db
2024-10-27 03:06:02,820 - app.database - INFO - Database initialized successfully
2024-10-27 03:06:03,070 - app.database - INFO - Created test user
2024-10-27 03:06:03,083 - app.core.dependencies - WARNING - WebSocket user not found: fengzhe
2024-10-27 03:06:03,084 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 03:06:03,984 - app.core.dependencies - WARNING - WebSocket user not found: fengzhe
2024-10-27 03:06:03,985 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 03:06:03,999 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 03:06:04,000 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 03:06:04,000 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 03:06:45,969 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:06:45,970 - app.routers.auth.router - WARNING - 登录失败: 用户名 'fengzhe' 验证失败
2024-10-27 03:06:45,971 - app.routers.auth.router - ERROR - 登录过程中发生错误: 401: 用户名或密码错误
2024-10-27 03:06:52,390 - app.routers.auth.router - INFO - 尝试注册新用户: fengzhe
2024-10-27 03:06:52,618 - app.routers.auth.router - INFO - 新用户注册成功: fengzhe
2024-10-27 03:06:55,427 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:06:55,651 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:06:55,652 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:06:55,685 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:06:55,688 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 03:06:56,040 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:06:56,041 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:06:56,058 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:06:56,059 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:06:57,928 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 03:06:57,935 - app.services.chat.base - INFO - Created new chat for user 2: 1
2024-10-27 03:06:57,938 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 03:06:57,946 - app.services.chat.base - INFO - Created new chat for user 2: 2
2024-10-27 03:06:57,955 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 1, 'message': '你好'}
2024-10-27 03:06:57,960 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=1
2024-10-27 03:06:57,978 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:06:57,980 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 03:06:57,985 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 2, 'message': '你好'}
2024-10-27 03:06:57,987 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=2
2024-10-27 03:06:58,106 - dashscope - ERROR - Request: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation failed, status: 401, message: Invalid API-key provided.
2024-10-27 03:06:58,107 - app.services.chat.ai_chat - ERROR - Error processing message: status_code: 401 
 code: InvalidApiKey 
 message: Invalid API-key provided.
2024-10-27 03:06:58,108 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 03:06:58,126 - dashscope - ERROR - Request: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation failed, status: 401, message: Invalid API-key provided.
2024-10-27 03:06:58,128 - app.services.chat.ai_chat - ERROR - Error processing message: status_code: 401 
 code: InvalidApiKey 
 message: Invalid API-key provided.
2024-10-27 03:06:58,129 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 03:07:59,687 - root - INFO - Available routes:
2024-10-27 03:07:59,688 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 03:07:59,689 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 03:07:59,689 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 03:07:59,690 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 03:07:59,690 - root - INFO - {'POST'} /api/auth/token
2024-10-27 03:07:59,691 - root - INFO - {'POST'} /api/auth/register
2024-10-27 03:07:59,691 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 03:07:59,691 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 03:07:59,692 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 03:07:59,692 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 03:07:59,693 - root - INFO - WebSocket /api/chat/ws
2024-10-27 03:07:59,693 - root - INFO - {'GET'} /
2024-10-27 03:07:59,694 - root - INFO - Starting up application...
2024-10-27 03:07:59,695 - app.database - INFO - Removed existing database: ./ai_lawyer.db
2024-10-27 03:07:59,724 - app.database - INFO - Database initialized successfully
2024-10-27 03:07:59,981 - app.database - INFO - Created test user
2024-10-27 03:08:03,015 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 03:08:03,016 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 03:08:03,016 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 03:08:05,946 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:08:05,948 - app.routers.auth.router - WARNING - 登录失败: 用户名 'fengzhe' 验证失败
2024-10-27 03:08:05,949 - app.routers.auth.router - ERROR - 登录过程中发生错误: 401: 用户名或密码错误
2024-10-27 03:08:10,227 - app.routers.auth.router - INFO - 尝试注册新用户: fengzhe
2024-10-27 03:08:10,458 - app.routers.auth.router - INFO - 新用户注册成功: fengzhe
2024-10-27 03:08:12,894 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:08:13,116 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:08:13,116 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:08:13,158 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:08:13,161 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 03:08:13,475 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:08:13,475 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:08:13,492 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:08:13,492 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:08:17,517 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 03:08:17,524 - app.services.chat.base - INFO - Created new chat for user 2: 1
2024-10-27 03:08:17,529 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 03:08:17,537 - app.services.chat.base - INFO - Created new chat for user 2: 2
2024-10-27 03:08:17,539 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 1, 'message': '你好'}
2024-10-27 03:08:17,544 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=1
2024-10-27 03:08:17,560 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:08:17,561 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 03:08:17,566 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 2, 'message': '你好'}
2024-10-27 03:08:17,569 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=2
2024-10-27 03:08:25,240 - app.routers.chat.router - INFO - 删除聊天 2
2024-10-27 03:08:25,256 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:08:25,258 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 03:08:27,950 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 1, 'message': '你好'}
2024-10-27 03:08:27,954 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=1
2024-10-27 03:10:51,766 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 03:11:09,474 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:11:09,478 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:11:11,710 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:11:11,932 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:11:11,933 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:11:11,968 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:11:11,970 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 03:11:12,294 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:11:12,295 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:11:12,311 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:11:12,312 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:11:14,460 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 03:14:16,546 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:14:16,548 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:14:19,617 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:14:19,843 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:14:19,843 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:14:19,865 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:14:19,866 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 03:14:20,186 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:14:20,186 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:14:20,201 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:14:20,202 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:14:22,509 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 03:14:23,445 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 03:14:24,279 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 03:14:24,849 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 03:14:25,322 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 03:14:25,956 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 03:14:26,330 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 03:14:26,696 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 03:14:27,085 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 03:14:28,056 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 03:14:28,543 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 03:14:29,305 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 03:14:29,830 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 03:14:36,381 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 03:15:27,252 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 03:15:27,260 - app.services.chat.base - INFO - Created new chat for user 2: 2
2024-10-27 03:15:27,266 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:15:27,267 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 03:15:28,528 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 03:15:29,498 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 03:15:30,301 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 03:15:31,674 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 03:15:35,916 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 03:15:37,510 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 03:16:54,712 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:16:54,713 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:16:57,381 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:16:57,602 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:16:57,603 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:16:57,622 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:16:57,624 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 03:16:57,951 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:16:57,952 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:16:57,967 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:16:57,968 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:18:26,998 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:18:27,000 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:18:31,273 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:18:31,495 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:18:31,496 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:18:31,519 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:18:31,520 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 03:18:31,842 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:18:31,843 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:18:31,858 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:18:31,859 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:20:14,782 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:20:14,783 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:23:35,697 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:23:35,918 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:23:35,919 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:23:35,959 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:23:35,961 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 03:23:36,266 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:23:36,267 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:23:36,282 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:23:36,283 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:24:48,587 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:24:48,588 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:24:53,031 - root - INFO - Available routes:
2024-10-27 03:24:53,032 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 03:24:53,032 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 03:24:53,033 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 03:24:53,034 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 03:24:53,034 - root - INFO - {'POST'} /api/auth/token
2024-10-27 03:24:53,034 - root - INFO - {'POST'} /api/auth/register
2024-10-27 03:24:53,035 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 03:24:53,035 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 03:24:53,036 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 03:24:53,036 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 03:24:53,037 - root - INFO - WebSocket /api/chat/ws
2024-10-27 03:24:53,037 - root - INFO - {'GET'} /
2024-10-27 03:24:53,038 - root - INFO - Starting up application...
2024-10-27 03:24:53,039 - app.database - INFO - Removed existing database: ./ai_lawyer.db
2024-10-27 03:24:53,062 - app.database - INFO - Database initialized successfully
2024-10-27 03:24:53,318 - app.database - INFO - Created test user
2024-10-27 03:24:53,332 - app.core.dependencies - WARNING - WebSocket user not found: fengzhe
2024-10-27 03:24:53,333 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 03:24:53,899 - app.core.dependencies - WARNING - WebSocket user not found: fengzhe
2024-10-27 03:24:53,900 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 03:24:54,010 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 03:24:54,011 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 03:24:54,012 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 03:25:40,190 - root - INFO - Available routes:
2024-10-27 03:25:40,191 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 03:25:40,192 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 03:25:40,192 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 03:25:40,193 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 03:25:40,193 - root - INFO - {'POST'} /api/auth/token
2024-10-27 03:25:40,193 - root - INFO - {'POST'} /api/auth/register
2024-10-27 03:25:40,194 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 03:25:40,194 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 03:25:40,195 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 03:25:40,195 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 03:25:40,196 - root - INFO - WebSocket /api/chat/ws
2024-10-27 03:25:40,196 - root - INFO - {'GET'} /
2024-10-27 03:25:40,197 - root - INFO - Starting up application...
2024-10-27 03:25:40,198 - app.database - INFO - Removed existing database: ./ai_lawyer.db
2024-10-27 03:25:40,222 - app.database - INFO - Database initialized successfully
2024-10-27 03:25:40,481 - app.database - INFO - Created test user
2024-10-27 03:25:41,010 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 03:25:41,010 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 03:25:41,011 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 03:26:47,662 - root - INFO - Available routes:
2024-10-27 03:26:47,662 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 03:26:47,663 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 03:26:47,663 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 03:26:47,664 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 03:26:47,664 - root - INFO - {'POST'} /api/auth/token
2024-10-27 03:26:47,665 - root - INFO - {'POST'} /api/auth/register
2024-10-27 03:26:47,665 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 03:26:47,665 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 03:26:47,666 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 03:26:47,667 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 03:26:47,667 - root - INFO - WebSocket /api/chat/ws
2024-10-27 03:26:47,668 - root - INFO - {'GET'} /
2024-10-27 03:26:47,669 - root - INFO - Starting up application...
2024-10-27 03:26:47,670 - app.database - INFO - Removed existing database: ./ai_lawyer.db
2024-10-27 03:26:47,697 - app.database - INFO - Database initialized successfully
2024-10-27 03:26:47,955 - app.database - INFO - Created test user
2024-10-27 03:26:48,013 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 03:26:48,014 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 03:26:48,015 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 03:27:30,052 - root - INFO - Available routes:
2024-10-27 03:27:30,052 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 03:27:30,053 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 03:27:30,053 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 03:27:30,054 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 03:27:30,054 - root - INFO - {'POST'} /api/auth/token
2024-10-27 03:27:30,055 - root - INFO - {'POST'} /api/auth/register
2024-10-27 03:27:30,055 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 03:27:30,056 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 03:27:30,056 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 03:27:30,057 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 03:27:30,057 - root - INFO - WebSocket /api/chat/ws
2024-10-27 03:27:30,058 - root - INFO - {'GET'} /
2024-10-27 03:27:30,059 - root - INFO - Starting up application...
2024-10-27 03:27:30,059 - app.database - INFO - Removed existing database: ./ai_lawyer.db
2024-10-27 03:27:30,086 - app.database - INFO - Database initialized successfully
2024-10-27 03:27:30,344 - app.database - INFO - Created test user
2024-10-27 03:27:31,024 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 03:27:31,025 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 03:27:31,025 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 03:27:36,258 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:27:36,259 - app.routers.auth.router - WARNING - 登录失败: 用户名 'fengzhe' 验证失败
2024-10-27 03:27:36,260 - app.routers.auth.router - ERROR - 登录过程中发生错误: 401: 用户名或密码错误
2024-10-27 03:27:41,340 - app.routers.auth.router - INFO - 尝试注册新用户: fengzhe
2024-10-27 03:27:41,571 - app.routers.auth.router - INFO - 新用户注册成功: fengzhe
2024-10-27 03:27:44,027 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:27:44,250 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:27:44,251 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:27:44,274 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:27:44,277 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 03:27:44,592 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:27:44,592 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:27:44,608 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:27:44,609 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:29:10,454 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:29:10,455 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:29:12,526 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:29:12,746 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:29:12,747 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:29:12,767 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:29:12,768 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 03:29:13,082 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:29:13,083 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:29:13,097 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:29:13,098 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:30:29,449 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 03:30:29,455 - app.services.chat.base - INFO - Created new chat for user 2: 1
2024-10-27 03:30:29,457 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 03:30:29,463 - app.services.chat.base - INFO - Created new chat for user 2: 2
2024-10-27 03:30:29,467 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 1, 'message': '你好'}
2024-10-27 03:30:29,471 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=1
2024-10-27 03:30:29,485 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:30:29,487 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 03:30:29,490 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 2, 'message': '你好'}
2024-10-27 03:30:29,492 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=2
2024-10-27 03:30:29,639 - dashscope - ERROR - Request: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation failed, status: 401, message: Invalid API-key provided.
2024-10-27 03:30:29,640 - dashscope - ERROR - Request: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation failed, status: 401, message: Invalid API-key provided.
2024-10-27 03:30:29,641 - app.services.chat.ai_chat - ERROR - Error processing message: status_code: 401 
 code: InvalidApiKey 
 message: Invalid API-key provided.
2024-10-27 03:30:29,642 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 03:30:29,643 - app.services.chat.ai_chat - ERROR - Error processing message: status_code: 401 
 code: InvalidApiKey 
 message: Invalid API-key provided.
2024-10-27 03:30:29,644 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 03:31:49,369 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:31:49,372 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:31:51,742 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:31:51,964 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:31:51,965 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:31:51,987 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:31:51,988 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 03:31:52,314 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:31:52,314 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:31:52,329 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:31:52,330 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:34:23,534 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:34:23,536 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:34:26,347 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:34:26,573 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:34:26,574 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:34:26,599 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:34:26,601 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 03:34:26,913 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:34:26,914 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:34:26,930 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:34:26,931 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:36:58,888 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:36:58,890 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:37:01,468 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:37:01,692 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:37:01,693 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:37:01,714 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:37:01,715 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 03:37:02,036 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:37:02,037 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:37:02,051 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:37:02,052 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:41:21,905 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:41:21,906 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:41:24,086 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:41:24,310 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:41:24,311 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:41:24,333 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:41:24,334 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 03:41:24,660 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:41:24,661 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:41:24,676 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:41:24,677 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:42:08,377 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:42:08,378 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:42:10,650 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:42:10,871 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:42:10,872 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:42:10,892 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:42:10,893 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 03:42:11,208 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:42:11,209 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:42:11,224 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:42:11,225 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:42:23,029 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:42:23,031 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:42:25,425 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:42:25,645 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:42:25,646 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:42:25,665 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:42:25,666 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 03:42:25,981 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:42:25,981 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:42:25,997 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:42:25,998 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:42:28,743 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 03:42:28,749 - app.services.chat.base - INFO - Created new chat for user 2: 3
2024-10-27 03:42:28,751 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 03:42:28,758 - app.services.chat.base - INFO - Created new chat for user 2: 4
2024-10-27 03:42:28,762 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 3, 'message': '你好'}
2024-10-27 03:42:28,764 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=3
2024-10-27 03:42:28,774 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:42:28,776 - app.routers.chat.router - INFO - 成功获取到 4 条聊天历史
2024-10-27 03:42:28,779 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 4, 'message': '你好'}
2024-10-27 03:42:28,781 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=4
2024-10-27 03:42:28,878 - dashscope - ERROR - Request: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation failed, status: 401, message: Invalid API-key provided.
2024-10-27 03:42:28,879 - dashscope - ERROR - Request: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation failed, status: 401, message: Invalid API-key provided.
2024-10-27 03:42:28,880 - app.services.chat.ai_chat - ERROR - Error processing message: status_code: 401 
 code: InvalidApiKey 
 message: Invalid API-key provided.
2024-10-27 03:42:28,882 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 03:42:28,883 - app.services.chat.ai_chat - ERROR - Error processing message: status_code: 401 
 code: InvalidApiKey 
 message: Invalid API-key provided.
2024-10-27 03:42:28,884 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 03:43:05,988 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:43:05,991 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:43:08,073 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:43:08,295 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:43:08,295 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:43:08,317 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:43:08,318 - app.routers.chat.router - INFO - 成功获取到 4 条聊天历史
2024-10-27 03:43:08,630 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:43:08,630 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:43:08,645 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:43:08,646 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:45:24,455 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:45:24,456 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:45:26,858 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:45:27,082 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:45:27,082 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:45:27,103 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:45:27,104 - app.routers.chat.router - INFO - 成功获取到 4 条聊天历史
2024-10-27 03:45:27,430 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:45:27,431 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:45:27,447 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:45:27,448 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:47:01,007 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:47:01,009 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:47:01,317 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:47:01,318 - app.routers.chat.router - INFO - 成功获取到 4 条聊天历史
2024-10-27 03:47:01,323 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:47:01,324 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:47:01,349 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:47:01,350 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:47:05,558 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:47:05,559 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:47:07,621 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:47:07,845 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:47:07,846 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:47:07,865 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:47:07,867 - app.routers.chat.router - INFO - 成功获取到 4 条聊天历史
2024-10-27 03:47:08,180 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:47:08,180 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:47:08,196 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:47:08,196 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:49:33,434 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:49:33,435 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:49:35,939 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:49:36,157 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:49:36,158 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:49:36,180 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:49:36,181 - app.routers.chat.router - INFO - 成功获取到 4 条聊天历史
2024-10-27 03:49:36,494 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:49:36,495 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:49:36,510 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:49:36,511 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:49:42,798 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 03:49:42,804 - app.services.chat.base - INFO - Created new chat for user 2: 5
2024-10-27 03:49:42,808 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 03:49:42,815 - app.services.chat.base - INFO - Created new chat for user 2: 6
2024-10-27 03:49:42,816 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 5, 'message': '你好'}
2024-10-27 03:49:42,818 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=5
2024-10-27 03:49:42,829 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:49:42,831 - app.routers.chat.router - INFO - 成功获取到 6 条聊天历史
2024-10-27 03:49:42,834 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 6, 'message': '你好'}
2024-10-27 03:49:42,836 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=6
2024-10-27 03:49:42,933 - dashscope - ERROR - Request: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation failed, status: 401, message: Invalid API-key provided.
2024-10-27 03:49:42,935 - app.services.chat.ai_chat - ERROR - Error processing message: status_code: 401 
 code: InvalidApiKey 
 message: Invalid API-key provided.
2024-10-27 03:49:42,936 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 03:49:42,963 - dashscope - ERROR - Request: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation failed, status: 401, message: Invalid API-key provided.
2024-10-27 03:49:42,965 - app.services.chat.ai_chat - ERROR - Error processing message: status_code: 401 
 code: InvalidApiKey 
 message: Invalid API-key provided.
2024-10-27 03:49:42,966 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 03:50:02,119 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 5, 'message': '你好'}
2024-10-27 03:50:02,122 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=5
2024-10-27 03:50:02,245 - dashscope - ERROR - Request: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation failed, status: 401, message: Invalid API-key provided.
2024-10-27 03:50:02,247 - app.services.chat.ai_chat - ERROR - Error processing message: status_code: 401 
 code: InvalidApiKey 
 message: Invalid API-key provided.
2024-10-27 03:50:02,248 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 03:50:12,647 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 5, 'message': '你好'}
2024-10-27 03:50:12,650 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=5
2024-10-27 03:50:12,748 - dashscope - ERROR - Request: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation failed, status: 401, message: Invalid API-key provided.
2024-10-27 03:50:12,750 - app.services.chat.ai_chat - ERROR - Error processing message: status_code: 401 
 code: InvalidApiKey 
 message: Invalid API-key provided.
2024-10-27 03:50:12,752 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 03:50:37,894 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:50:37,895 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:53:14,604 - root - INFO - Available routes:
2024-10-27 03:53:14,605 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 03:53:14,605 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 03:53:14,606 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 03:53:14,607 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 03:53:14,607 - root - INFO - {'POST'} /api/auth/token
2024-10-27 03:53:14,607 - root - INFO - {'POST'} /api/auth/register
2024-10-27 03:53:14,608 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 03:53:14,608 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 03:53:14,609 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 03:53:14,609 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 03:53:14,609 - root - INFO - WebSocket /api/chat/ws
2024-10-27 03:53:14,610 - root - INFO - {'GET'} /
2024-10-27 03:53:14,611 - root - INFO - Starting up application...
2024-10-27 03:53:14,612 - app.database - INFO - Removed existing database: ./ai_lawyer.db
2024-10-27 03:53:14,636 - app.database - INFO - Database initialized successfully
2024-10-27 03:53:14,888 - app.database - INFO - Created test user
2024-10-27 03:53:15,267 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 03:53:15,268 - app.core.dependencies - ERROR - WebSocket authentication error: 401: Invalid token
2024-10-27 03:53:15,268 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 03:53:16,698 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:53:16,700 - app.routers.auth.router - WARNING - 登录失败: 用户名 'fengzhe' 验证失败
2024-10-27 03:53:16,701 - app.routers.auth.router - ERROR - 登录过程中发生错误: 401: 用户名或密码错误
2024-10-27 03:53:20,603 - app.routers.auth.router - INFO - 尝试注册新用户: fengzhe
2024-10-27 03:53:20,833 - app.routers.auth.router - INFO - 新用户注册成功: fengzhe
2024-10-27 03:53:23,344 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:53:23,566 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:53:23,567 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:53:23,591 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:53:23,594 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 03:53:23,922 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:53:23,922 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:53:23,940 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:53:23,941 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:53:27,880 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:53:27,882 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:53:27,891 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:53:27,892 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 03:53:28,196 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:53:28,197 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:53:28,227 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:53:28,228 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:56:10,721 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:56:10,722 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:56:12,816 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:56:13,036 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:56:13,037 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:56:13,056 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:56:13,058 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 03:56:13,380 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:56:13,380 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:56:13,396 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:56:13,397 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:56:16,238 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 03:56:16,244 - app.services.chat.base - INFO - Created new chat for user 2: 1
2024-10-27 03:56:16,246 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 03:56:16,252 - app.services.chat.base - INFO - Created new chat for user 2: 2
2024-10-27 03:56:16,255 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 1, 'message': '你好'}
2024-10-27 03:56:16,259 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=1
2024-10-27 03:56:16,274 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:56:16,276 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 03:56:16,280 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 2, 'message': '你好'}
2024-10-27 03:56:16,282 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=2
2024-10-27 03:56:23,618 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 03:56:23,623 - app.services.chat.base - INFO - Created new chat for user 2: 3
2024-10-27 03:56:23,629 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:56:23,630 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 03:58:15,382 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 03:58:16,845 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 03:58:28,888 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:58:28,891 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 03:58:31,019 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 03:58:31,237 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 03:58:31,238 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 03:58:31,258 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:58:31,260 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 03:58:31,578 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:58:31,579 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:58:31,595 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 03:58:31,595 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 03:58:34,354 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 03:58:34,360 - app.services.chat.base - INFO - Created new chat for user 2: 4
2024-10-27 03:58:34,362 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 03:58:34,367 - app.services.chat.base - INFO - Created new chat for user 2: 5
2024-10-27 03:58:34,370 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 4, 'message': '你好'}
2024-10-27 03:58:34,372 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=4
2024-10-27 03:58:34,383 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 03:58:34,385 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 03:58:34,401 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 5, 'message': '你好'}
2024-10-27 03:58:34,403 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=5
2024-10-27 04:00:15,346 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 04:00:15,348 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 04:00:17,710 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 04:00:17,929 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 04:00:17,929 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 04:00:17,951 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 04:00:17,953 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 04:00:18,263 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 04:00:18,264 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 04:00:18,278 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 04:00:18,279 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 04:00:32,950 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 04:00:32,955 - app.services.chat.base - INFO - Created new chat for user 2: 6
2024-10-27 04:00:32,960 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 04:00:32,966 - app.services.chat.base - INFO - Created new chat for user 2: 7
2024-10-27 04:00:32,967 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 6, 'message': '你好'}
2024-10-27 04:00:32,969 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=6
2024-10-27 04:00:32,980 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 04:00:32,981 - app.routers.chat.router - INFO - 成功获取到 7 条聊天历史
2024-10-27 04:00:32,986 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 7, 'message': '你好'}
2024-10-27 04:00:32,988 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=7
2024-10-27 04:01:18,733 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 04:01:18,736 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 04:01:20,031 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 04:01:20,257 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 04:01:20,258 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 04:01:20,281 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 04:01:20,283 - app.routers.chat.router - INFO - 成功获取到 7 条聊天历史
2024-10-27 04:01:20,615 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 04:01:20,616 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 04:01:20,637 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 04:01:20,637 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 04:02:42,137 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 04:02:42,138 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 04:02:44,577 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 04:02:44,797 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 04:02:44,797 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 04:02:44,819 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 04:02:44,821 - app.routers.chat.router - INFO - 成功获取到 7 条聊天历史
2024-10-27 04:02:45,137 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 04:02:45,138 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 04:02:45,168 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 04:02:45,168 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 04:02:58,824 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 04:02:58,831 - app.services.chat.base - INFO - Created new chat for user 2: 8
2024-10-27 04:02:58,837 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 04:02:58,839 - app.routers.chat.router - INFO - 成功获取到 8 条聊天历史
2024-10-27 04:03:00,272 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 04:03:00,278 - app.services.chat.base - INFO - Created new chat for user 2: 9
2024-10-27 04:03:00,284 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 04:03:00,285 - app.routers.chat.router - INFO - 成功获取到 9 条聊天历史
2024-10-27 04:03:00,790 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 04:03:00,796 - app.services.chat.base - INFO - Created new chat for user 2: 10
2024-10-27 04:03:00,802 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 04:03:00,804 - app.routers.chat.router - INFO - 成功获取到 10 条聊天历史
2024-10-27 04:03:01,153 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 04:03:01,159 - app.services.chat.base - INFO - Created new chat for user 2: 11
2024-10-27 04:03:01,165 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 04:03:01,167 - app.routers.chat.router - INFO - 成功获取到 11 条聊天历史
2024-10-27 04:03:02,991 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 04:03:04,305 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 04:03:05,581 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 04:03:06,329 - app.routers.chat.router - INFO - 获取聊天 4 的详细信息
2024-10-27 04:03:07,227 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 04:23:57,068 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 04:23:57,069 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 11:26:57,098 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 11:26:57,099 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 11:26:57,129 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 11:26:57,130 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 11:27:41,241 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 11:27:41,243 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 11:27:41,578 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 11:27:41,579 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 11:27:41,582 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 11:27:41,583 - app.routers.chat.router - INFO - 成功获取到 11 条聊天历史
2024-10-27 11:27:41,608 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 11:27:41,609 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 11:30:26,357 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 11:30:26,358 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 11:30:31,182 - root - INFO - Available routes:
2024-10-27 11:30:31,183 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 11:30:31,183 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 11:30:31,184 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 11:30:31,185 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 11:30:31,185 - root - INFO - {'POST'} /api/auth/token
2024-10-27 11:30:31,186 - root - INFO - {'POST'} /api/auth/register
2024-10-27 11:30:31,186 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 11:30:31,187 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 11:30:31,187 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 11:30:31,188 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 11:30:31,188 - root - INFO - WebSocket /api/chat/ws
2024-10-27 11:30:31,189 - root - INFO - {'GET'} /
2024-10-27 11:30:31,190 - root - INFO - Starting up application...
2024-10-27 11:30:31,191 - app.database - INFO - Removed existing database: ./ai_lawyer.db
2024-10-27 11:30:31,217 - app.database - INFO - Database initialized successfully
2024-10-27 11:30:31,472 - app.database - INFO - Created test user
2024-10-27 11:30:31,489 - app.core.dependencies - WARNING - WebSocket user not found: fengzhe
2024-10-27 11:30:31,490 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 11:30:31,664 - app.core.dependencies - WARNING - WebSocket user not found: fengzhe
2024-10-27 11:30:31,665 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 11:36:17,490 - app.core.dependencies - WARNING - WebSocket user not found: fengzhe
2024-10-27 11:36:17,491 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 11:36:17,521 - app.core.dependencies - WARNING - WebSocket user not found: fengzhe
2024-10-27 11:36:17,521 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 11:40:14,317 - app.core.dependencies - WARNING - WebSocket user not found: fengzhe
2024-10-27 11:40:14,318 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 11:40:14,348 - app.core.dependencies - WARNING - WebSocket user not found: fengzhe
2024-10-27 11:40:14,348 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 11:40:25,627 - app.core.dependencies - WARNING - WebSocket user not found: fengzhe
2024-10-27 11:40:25,628 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 11:40:25,643 - app.core.dependencies - WARNING - WebSocket user not found: fengzhe
2024-10-27 11:40:25,644 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 11:43:47,017 - app.core.dependencies - WARNING - WebSocket user not found: fengzhe
2024-10-27 11:43:47,017 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 11:43:47,034 - app.core.dependencies - WARNING - WebSocket user not found: fengzhe
2024-10-27 11:43:47,034 - app.routers.chat.router - WARNING - WebSocket认证失败
2024-10-27 11:43:47,036 - app.routers.chat.router - ERROR - WebSocket错误: no close frame received or sent
Traceback (most recent call last):
  File "D:\Works\AI-lawyer_v4\backend\app\routers\chat\router.py", line 94, in websocket_endpoint
    await websocket.send_json({"error": "Invalid authentication token"})
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\websockets.py", line 179, in send_json
    await self.send({"type": "websocket.send", "text": text})
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\websockets.py", line 88, in send
    await self._send(message)
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\starlette\_exception_handler.py", line 50, in sender
    await send(message)
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 320, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\websockets\legacy\protocol.py", line 647, in send
    await self.write_frame(True, opcode, data)
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\websockets\legacy\protocol.py", line 1214, in write_frame
    await self.drain()
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\websockets\legacy\protocol.py", line 1203, in drain
    await self.ensure_open()
  File "C:\Users\fengzhe\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\websockets\legacy\protocol.py", line 944, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2024-10-27 11:43:48,705 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 11:43:48,706 - app.routers.auth.router - WARNING - 登录失败: 用户名 'fengzhe' 验证失败
2024-10-27 11:43:48,707 - app.routers.auth.router - ERROR - 登录过程中发生错误: 401: 用户名或密码错误
2024-10-27 11:43:53,855 - app.routers.auth.router - INFO - 尝试注册新用户: fengzhe
2024-10-27 11:43:54,085 - app.routers.auth.router - INFO - 新用户注册成功: fengzhe
2024-10-27 11:43:56,945 - app.routers.auth.router - INFO - 尝试登录: 用户名 'fengzhe'
2024-10-27 11:43:57,171 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 11:43:57,172 - app.routers.auth.router - INFO - 用户 'fengzhe' 登录成功
2024-10-27 11:43:57,195 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 11:43:57,199 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 11:43:57,530 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 11:43:57,531 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 11:43:57,547 - app.core.dependencies - INFO - WebSocket user authenticated: fengzhe
2024-10-27 11:43:57,548 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 11:54:01,615 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 11:54:01,616 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 11:57:46,040 - root - INFO - Available routes:
2024-10-27 11:57:46,041 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 11:57:46,041 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 11:57:46,042 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 11:57:46,042 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 11:57:46,043 - root - INFO - {'POST'} /api/auth/token
2024-10-27 11:57:46,043 - root - INFO - {'POST'} /api/auth/register
2024-10-27 11:57:46,044 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 11:57:46,044 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 11:57:46,044 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 11:57:46,045 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 11:57:46,045 - root - INFO - WebSocket /api/chat/ws
2024-10-27 11:57:46,046 - root - INFO - {'GET'} /
2024-10-27 11:57:46,048 - root - INFO - Starting up application...
2024-10-27 11:57:46,048 - app.database - INFO - Removed existing database: ./ai_lawyer.db
2024-10-27 11:57:46,076 - app.database - INFO - Database initialized successfully
2024-10-27 11:57:46,339 - app.database - INFO - Created test user
2024-10-27 12:04:42,926 - root - INFO - Available routes:
2024-10-27 12:04:42,927 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 12:04:42,927 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 12:04:42,928 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 12:04:42,929 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 12:04:42,929 - root - INFO - {'POST'} /api/auth/token
2024-10-27 12:04:42,930 - root - INFO - {'POST'} /api/auth/register
2024-10-27 12:04:42,930 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 12:04:42,931 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 12:04:42,931 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 12:04:42,932 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 12:06:57,185 - root - INFO - Available routes:
2024-10-27 12:06:57,186 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 12:06:57,187 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 12:06:57,188 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 12:06:57,188 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 12:06:57,189 - root - INFO - {'POST'} /api/auth/token
2024-10-27 12:06:57,189 - root - INFO - {'POST'} /api/auth/register
2024-10-27 12:06:57,190 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 12:06:57,190 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 12:06:57,191 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 12:06:57,191 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 12:06:57,192 - root - INFO - WebSocket /api/chat/ws
2024-10-27 12:06:57,193 - root - INFO - Starting up application...
2024-10-27 12:06:57,195 - app.database - INFO - Database initialized successfully
2024-10-27 12:14:52,892 - root - INFO - Available routes:
2024-10-27 12:14:52,893 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 12:14:52,893 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 12:14:52,894 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 12:14:52,895 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 12:14:52,895 - root - INFO - {'POST'} /api/auth/token
2024-10-27 12:14:52,896 - root - INFO - {'POST'} /api/auth/register
2024-10-27 12:14:52,896 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 12:14:52,897 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 12:14:52,898 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 12:14:52,898 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 12:14:52,899 - root - INFO - WebSocket /api/chat/ws
2024-10-27 12:14:52,900 - root - INFO - Starting up application...
2024-10-27 12:14:52,902 - app.database - INFO - Database initialized successfully
2024-10-27 12:26:01,583 - root - INFO - Available routes:
2024-10-27 12:26:01,583 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 12:26:01,584 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 12:26:01,584 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 12:26:01,585 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 12:26:01,585 - root - INFO - {'POST'} /api/auth/token
2024-10-27 12:26:01,586 - root - INFO - {'POST'} /api/auth/register
2024-10-27 12:26:01,586 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 12:26:01,587 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 12:26:01,587 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 12:26:01,587 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 12:26:01,588 - root - INFO - WebSocket /api/chat/ws
2024-10-27 12:26:01,589 - root - INFO - Starting up application...
2024-10-27 12:26:01,591 - app.database - INFO - Database initialized successfully
2024-10-27 12:33:26,940 - root - INFO - Available routes:
2024-10-27 12:33:26,940 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 12:33:26,941 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 12:33:26,941 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 12:33:26,942 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 12:33:26,942 - root - INFO - {'POST'} /api/auth/token
2024-10-27 12:33:26,942 - root - INFO - {'POST'} /api/auth/register
2024-10-27 12:33:26,943 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 12:33:26,943 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 12:33:26,944 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 12:33:26,944 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 12:33:26,945 - root - INFO - WebSocket /api/chat/ws
2024-10-27 12:33:26,946 - root - INFO - Starting up application...
2024-10-27 12:33:26,948 - app.database - INFO - Database initialized successfully
2024-10-27 12:33:34,330 - app.routers.auth.router - INFO - Registration attempt for username: fengzhe
2024-10-27 12:33:34,588 - app.routers.auth.router - INFO - Registration successful for user: fengzhe
2024-10-27 12:33:37,369 - app.routers.auth.router - INFO - Login attempt for user: fengzhe
2024-10-27 12:33:37,616 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 12:33:37,617 - app.routers.auth.router - INFO - Login successful for user: fengzhe
2024-10-27 12:33:37,667 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:33:37,670 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 12:33:38,031 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 12:33:38,047 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 12:33:47,807 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 12:33:47,815 - app.services.chat.base - INFO - Created new chat for user 2: 1
2024-10-27 12:33:47,818 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 12:33:47,824 - app.services.chat.base - INFO - Created new chat for user 2: 2
2024-10-27 12:33:47,830 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 1, 'message': '你好'}
2024-10-27 12:33:47,834 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=1
2024-10-27 12:33:47,847 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:33:47,849 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 12:33:47,857 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 2, 'message': '你好'}
2024-10-27 12:33:47,860 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=2
2024-10-27 12:33:57,986 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:33:59,126 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:34:10,665 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 1, 'message': '我想离职'}
2024-10-27 12:34:10,668 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=1
2024-10-27 12:34:31,780 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:34:32,892 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:34:35,435 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:34:37,225 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:34:38,070 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:36:12,693 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 12:36:12,696 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 12:36:15,873 - app.routers.auth.router - INFO - Login attempt for user: fengzhe
2024-10-27 12:36:16,099 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 12:36:16,100 - app.routers.auth.router - INFO - Login successful for user: fengzhe
2024-10-27 12:36:16,146 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:36:16,147 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 12:36:16,445 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 12:36:16,463 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 12:36:22,515 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:36:24,337 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:36:25,312 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:36:26,783 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:36:27,707 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:38:17,649 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 12:38:17,652 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 12:38:22,467 - app.routers.auth.router - INFO - Login attempt for user: fengzhe
2024-10-27 12:38:22,690 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 12:38:22,690 - app.routers.auth.router - INFO - Login successful for user: fengzhe
2024-10-27 12:38:22,735 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:38:22,736 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 12:38:23,038 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 12:38:23,056 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 12:38:24,686 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:38:25,761 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:38:27,401 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:38:28,723 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:38:29,865 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:38:40,374 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 1, 'message': '你好'}
2024-10-27 12:38:40,376 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=1
2024-10-27 12:38:40,386 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 12:38:40,393 - app.services.chat.base - INFO - Created new chat for user 2: 3
2024-10-27 12:38:40,398 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 3, 'message': '你好'}
2024-10-27 12:38:40,400 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=3
2024-10-27 12:38:43,697 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:40:39,548 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 12:40:39,552 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 12:40:43,681 - app.routers.auth.router - INFO - Login attempt for user: fengzhe
2024-10-27 12:40:43,900 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 12:40:43,901 - app.routers.auth.router - INFO - Login successful for user: fengzhe
2024-10-27 12:40:43,934 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:40:43,936 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 12:40:44,286 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 12:40:44,302 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 12:40:45,957 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:40:48,615 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:40:49,393 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:40:50,098 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 12:40:50,637 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 12:40:51,084 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 12:40:51,547 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:40:52,025 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:40:53,266 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:40:53,779 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:40:54,865 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 12:40:55,759 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 12:40:55,965 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 12:40:56,923 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:40:57,828 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:40:58,772 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:40:59,635 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:41:25,154 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:41:26,010 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:41:26,791 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 12:41:27,386 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:41:27,772 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:43:47,689 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 12:43:47,690 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 12:43:50,958 - app.routers.auth.router - INFO - Login attempt for user: fengzhe
2024-10-27 12:43:51,181 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 12:43:51,182 - app.routers.auth.router - INFO - Login successful for user: fengzhe
2024-10-27 12:43:51,221 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:43:51,225 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 12:43:51,534 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 12:43:51,553 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 12:43:52,941 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:43:54,281 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:43:57,166 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:43:58,593 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:43:59,345 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 12:44:06,281 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:44:16,125 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:44:16,724 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 12:44:17,675 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:44:18,205 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:44:21,182 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:44:22,164 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 12:44:23,273 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:44:24,000 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:45:41,321 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 12:45:41,322 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 12:45:44,099 - app.routers.auth.router - INFO - Login attempt for user: fengzhe
2024-10-27 12:45:44,320 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 12:45:44,320 - app.routers.auth.router - INFO - Login successful for user: fengzhe
2024-10-27 12:45:44,366 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:45:44,368 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 12:45:44,670 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 12:45:44,687 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 12:45:46,027 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:45:46,869 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:45:47,599 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 12:45:49,854 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:45:50,785 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:45:52,158 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 12:45:53,468 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:45:54,556 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:45:55,148 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:45:56,001 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 12:46:11,607 - app.routers.chat.router - INFO - 删除聊天 2
2024-10-27 12:46:11,622 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:46:11,623 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 12:46:13,093 - app.routers.chat.router - INFO - 删除聊天 3
2024-10-27 12:46:13,104 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:46:13,106 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 12:46:14,163 - app.routers.chat.router - INFO - 删除聊天 3
2024-10-27 12:46:14,165 - app.routers.chat.router - ERROR - 删除聊天失败: 404: Chat 3 not found or unauthorized
2024-10-27 12:46:14,171 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:46:14,173 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 12:46:15,537 - app.routers.chat.router - INFO - 删除聊天 3
2024-10-27 12:46:15,538 - app.routers.chat.router - ERROR - 删除聊天失败: 404: Chat 3 not found or unauthorized
2024-10-27 12:46:15,544 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:46:15,546 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 12:46:16,049 - app.routers.chat.router - INFO - 删除聊天 2
2024-10-27 12:46:16,051 - app.routers.chat.router - ERROR - 删除聊天失败: 404: Chat 2 not found or unauthorized
2024-10-27 12:46:16,056 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:46:16,057 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 12:46:16,898 - app.routers.chat.router - INFO - 删除聊天 3
2024-10-27 12:46:16,899 - app.routers.chat.router - ERROR - 删除聊天失败: 404: Chat 3 not found or unauthorized
2024-10-27 12:46:16,905 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:46:16,907 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 12:46:17,836 - app.routers.chat.router - INFO - 删除聊天 3
2024-10-27 12:46:17,837 - app.routers.chat.router - ERROR - 删除聊天失败: 404: Chat 3 not found or unauthorized
2024-10-27 12:46:17,843 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:46:17,844 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 12:46:19,160 - app.routers.chat.router - INFO - 删除聊天 3
2024-10-27 12:46:19,161 - app.routers.chat.router - ERROR - 删除聊天失败: 404: Chat 3 not found or unauthorized
2024-10-27 12:46:19,166 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:46:19,168 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 12:46:20,219 - app.routers.chat.router - INFO - 删除聊天 3
2024-10-27 12:46:20,220 - app.routers.chat.router - ERROR - 删除聊天失败: 404: Chat 3 not found or unauthorized
2024-10-27 12:46:20,226 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:46:20,228 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 12:46:20,993 - app.routers.chat.router - INFO - 删除聊天 3
2024-10-27 12:46:20,994 - app.routers.chat.router - ERROR - 删除聊天失败: 404: Chat 3 not found or unauthorized
2024-10-27 12:46:21,000 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:46:21,002 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 12:46:22,338 - app.routers.chat.router - INFO - 删除聊天 3
2024-10-27 12:46:22,339 - app.routers.chat.router - ERROR - 删除聊天失败: 404: Chat 3 not found or unauthorized
2024-10-27 12:46:22,345 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:46:22,346 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 12:46:23,295 - app.routers.chat.router - INFO - 删除聊天 3
2024-10-27 12:46:23,296 - app.routers.chat.router - ERROR - 删除聊天失败: 404: Chat 3 not found or unauthorized
2024-10-27 12:46:23,302 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:46:23,304 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 12:46:24,125 - app.routers.chat.router - INFO - 删除聊天 2
2024-10-27 12:46:24,127 - app.routers.chat.router - ERROR - 删除聊天失败: 404: Chat 2 not found or unauthorized
2024-10-27 12:46:24,132 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:46:24,134 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 12:46:26,717 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:46:50,200 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:46:50,914 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:47:59,009 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 12:47:59,011 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 12:48:02,800 - app.routers.auth.router - INFO - Login attempt for user: fengzhe
2024-10-27 12:48:03,022 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 12:48:03,023 - app.routers.auth.router - INFO - Login successful for user: fengzhe
2024-10-27 12:48:03,063 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:48:03,064 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 12:48:03,387 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 12:48:03,404 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 12:48:04,561 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:48:06,962 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 12:48:06,968 - app.services.chat.base - INFO - Created new chat for user 2: 2
2024-10-27 12:48:06,975 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:48:06,976 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 12:48:10,573 - app.routers.chat.router - INFO - 删除聊天 2
2024-10-27 12:48:10,588 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:48:10,590 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 12:48:11,991 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:48:12,834 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:48:16,443 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:48:16,981 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:48:18,859 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:51:09,913 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 12:51:09,915 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 12:51:12,622 - app.routers.auth.router - INFO - Login attempt for user: fengzhe
2024-10-27 12:51:12,842 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 12:51:12,843 - app.routers.auth.router - INFO - Login successful for user: fengzhe
2024-10-27 12:51:12,878 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:51:12,879 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 12:51:13,177 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 12:51:13,195 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 12:51:14,244 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:51:15,123 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:51:16,642 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 12:51:16,648 - app.services.chat.base - INFO - Created new chat for user 2: 2
2024-10-27 12:51:16,655 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:51:16,656 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 12:51:19,866 - app.routers.chat.router - INFO - 删除聊天 2
2024-10-27 12:51:19,879 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:51:19,880 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 12:51:21,017 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:51:22,197 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:51:22,446 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:51:23,892 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:52:00,332 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:52:01,364 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:52:02,088 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:52:03,540 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:52:25,165 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:52:27,866 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 12:52:27,872 - app.services.chat.base - INFO - Created new chat for user 2: 2
2024-10-27 12:52:27,879 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:52:27,881 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 12:52:30,240 - app.routers.chat.router - INFO - 删除聊天 2
2024-10-27 12:52:30,253 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:52:30,255 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 12:52:34,244 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:53:43,124 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 12:53:43,126 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 12:53:47,639 - root - INFO - Available routes:
2024-10-27 12:53:47,640 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 12:53:47,640 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 12:53:47,641 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 12:53:47,642 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 12:53:47,642 - root - INFO - {'POST'} /api/auth/token
2024-10-27 12:53:47,642 - root - INFO - {'POST'} /api/auth/register
2024-10-27 12:53:47,643 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 12:53:47,643 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 12:53:47,643 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 12:53:47,644 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 12:53:47,645 - root - INFO - WebSocket /api/chat/ws
2024-10-27 12:53:47,646 - root - INFO - Starting up application...
2024-10-27 12:53:47,648 - app.database - INFO - Database initialized successfully
2024-10-27 12:53:47,671 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 12:53:48,491 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 12:53:50,359 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 12:53:50,360 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 12:53:53,780 - app.routers.auth.router - INFO - Login attempt for user: fengzhe
2024-10-27 12:53:54,025 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 12:53:54,026 - app.routers.auth.router - INFO - Login successful for user: fengzhe
2024-10-27 12:53:54,058 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:53:54,061 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 12:53:54,386 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 12:53:54,402 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 12:53:55,591 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:53:56,541 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 12:53:58,893 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 12:53:58,901 - app.services.chat.base - INFO - Created new chat for user 2: 2
2024-10-27 12:53:58,909 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 12:53:58,911 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 12:54:08,964 - app.routers.chat.router - INFO - User 2 attempting to delete chat 2
2024-10-27 12:54:08,965 - app.routers.chat.router - ERROR - Error deleting chat 2: name 'Chat' is not defined
2024-10-27 12:54:12,328 - app.routers.chat.router - INFO - User 2 attempting to delete chat 2
2024-10-27 12:54:12,329 - app.routers.chat.router - ERROR - Error deleting chat 2: name 'Chat' is not defined
2024-10-27 12:58:43,270 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 12:58:43,270 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 12:58:47,866 - root - INFO - Available routes:
2024-10-27 12:58:47,866 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 12:58:47,867 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 12:58:47,868 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 12:58:47,868 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 12:58:47,869 - root - INFO - {'POST'} /api/auth/token
2024-10-27 12:58:47,869 - root - INFO - {'POST'} /api/auth/register
2024-10-27 12:58:47,870 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 12:58:47,870 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 12:58:47,871 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 12:58:47,871 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 12:58:47,872 - root - INFO - WebSocket /api/chat/ws
2024-10-27 12:58:47,874 - root - INFO - Starting up application...
2024-10-27 12:58:47,876 - app.database - INFO - Database initialized successfully
2024-10-27 12:58:47,902 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 12:58:49,502 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 13:00:09,116 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 13:00:09,117 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 13:00:13,807 - app.routers.auth.router - INFO - Login attempt for user: fengzhe
2024-10-27 13:00:14,048 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 13:00:14,049 - app.routers.auth.router - INFO - Login successful for user: fengzhe
2024-10-27 13:00:14,096 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 13:00:14,100 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 13:00:14,392 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 13:00:14,409 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 13:00:15,532 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 13:00:18,671 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 13:03:36,001 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 13:03:36,003 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 13:03:40,294 - app.routers.auth.router - INFO - Login attempt for user: fengzhe
2024-10-27 13:03:40,516 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 13:03:40,517 - app.routers.auth.router - INFO - Login successful for user: fengzhe
2024-10-27 13:03:40,550 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 13:03:40,553 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 13:03:40,872 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 13:03:40,888 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 13:03:42,314 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 13:03:44,067 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 13:03:46,896 - app.routers.chat.router - INFO - User 2 attempting to delete chat 2
2024-10-27 13:03:46,903 - app.routers.chat.router - INFO - Successfully deleted chat 2
2024-10-27 13:03:46,910 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 13:03:46,912 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:03:48,292 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 13:03:49,165 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 13:03:49,761 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 13:03:54,297 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 13:03:54,305 - app.services.chat.base - INFO - Created new chat for user 2: 2
2024-10-27 13:03:54,313 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 13:03:54,315 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 13:03:56,616 - app.routers.chat.router - INFO - User 2 attempting to delete chat 2
2024-10-27 13:03:56,621 - app.routers.chat.router - INFO - Successfully deleted chat 2
2024-10-27 13:03:56,630 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 13:03:56,632 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:03:57,727 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 13:04:00,249 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 13:04:00,255 - app.services.chat.base - INFO - Created new chat for user 2: 2
2024-10-27 13:04:00,263 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 13:04:00,264 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 13:04:02,677 - app.routers.chat.router - INFO - User 2 attempting to delete chat 2
2024-10-27 13:04:02,682 - app.routers.chat.router - INFO - Successfully deleted chat 2
2024-10-27 13:04:02,691 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 13:04:02,693 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:04:03,955 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 13:04:06,709 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 13:04:10,651 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 13:04:10,653 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 13:04:10,684 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 13:04:10,686 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:04:10,993 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 13:04:11,010 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 13:04:12,793 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 13:04:20,166 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 13:04:20,167 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 13:04:20,180 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 13:04:20,182 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:04:20,482 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 13:04:20,499 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 13:04:31,008 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 13:04:31,010 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 13:04:46,408 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 13:04:46,634 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 13:04:46,635 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 13:04:46,672 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:04:46,674 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 13:04:47,013 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:04:47,032 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:04:48,591 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:04:48,597 - app.services.chat.base - INFO - Created new chat for user 1: 2
2024-10-27 13:04:48,606 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:04:48,607 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:04:50,579 - app.routers.chat.router - INFO - User 1 attempting to delete chat 2
2024-10-27 13:04:50,584 - app.routers.chat.router - INFO - Successfully deleted chat 2
2024-10-27 13:04:50,592 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:04:50,593 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 13:04:54,191 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:04:54,197 - app.services.chat.base - INFO - Created new chat for user 1: 2
2024-10-27 13:04:54,204 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:04:54,206 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:04:59,863 - app.routers.chat.router - INFO - User 1 attempting to delete chat 2
2024-10-27 13:04:59,870 - app.routers.chat.router - INFO - Successfully deleted chat 2
2024-10-27 13:04:59,878 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:04:59,880 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 13:05:01,399 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:05:01,405 - app.services.chat.base - INFO - Created new chat for user 1: 2
2024-10-27 13:05:01,411 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:05:01,413 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:05:01,622 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:05:01,629 - app.services.chat.base - INFO - Created new chat for user 1: 3
2024-10-27 13:05:01,637 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:05:01,639 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 13:05:01,835 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:05:01,842 - app.services.chat.base - INFO - Created new chat for user 1: 4
2024-10-27 13:05:01,850 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:05:01,852 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 13:05:02,022 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:05:02,029 - app.services.chat.base - INFO - Created new chat for user 1: 5
2024-10-27 13:05:02,035 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:05:02,037 - app.routers.chat.router - INFO - 成功获取到 4 条聊天历史
2024-10-27 13:05:02,216 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:05:02,223 - app.services.chat.base - INFO - Created new chat for user 1: 6
2024-10-27 13:05:02,231 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:05:02,233 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 13:05:02,397 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:05:02,404 - app.services.chat.base - INFO - Created new chat for user 1: 7
2024-10-27 13:05:02,420 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:05:02,422 - app.routers.chat.router - INFO - 成功获取到 6 条聊天历史
2024-10-27 13:05:02,588 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:05:02,595 - app.services.chat.base - INFO - Created new chat for user 1: 8
2024-10-27 13:05:02,602 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:05:02,604 - app.routers.chat.router - INFO - 成功获取到 7 条聊天历史
2024-10-27 13:05:02,783 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:05:02,789 - app.services.chat.base - INFO - Created new chat for user 1: 9
2024-10-27 13:05:02,796 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:05:02,797 - app.routers.chat.router - INFO - 成功获取到 8 条聊天历史
2024-10-27 13:05:02,970 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:05:02,976 - app.services.chat.base - INFO - Created new chat for user 1: 10
2024-10-27 13:05:02,985 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:05:02,987 - app.routers.chat.router - INFO - 成功获取到 9 条聊天历史
2024-10-27 13:05:03,141 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:05:03,147 - app.services.chat.base - INFO - Created new chat for user 1: 11
2024-10-27 13:05:03,155 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:05:03,156 - app.routers.chat.router - INFO - 成功获取到 10 条聊天历史
2024-10-27 13:05:05,401 - app.routers.chat.router - INFO - User 1 attempting to delete chat 11
2024-10-27 13:05:05,406 - app.routers.chat.router - INFO - Successfully deleted chat 11
2024-10-27 13:05:05,415 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:05:05,416 - app.routers.chat.router - INFO - 成功获取到 9 条聊天历史
2024-10-27 13:05:06,437 - app.routers.chat.router - INFO - 获取聊天 10 的详细信息
2024-10-27 13:05:08,867 - app.routers.chat.router - INFO - User 1 attempting to delete chat 10
2024-10-27 13:05:08,872 - app.routers.chat.router - INFO - Successfully deleted chat 10
2024-10-27 13:05:08,881 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:05:08,883 - app.routers.chat.router - INFO - 成功获取到 8 条聊天历史
2024-10-27 13:05:09,841 - app.routers.chat.router - INFO - 获取聊天 9 的详细信息
2024-10-27 13:05:12,468 - app.routers.chat.router - INFO - User 1 attempting to delete chat 9
2024-10-27 13:05:12,473 - app.routers.chat.router - INFO - Successfully deleted chat 9
2024-10-27 13:05:12,482 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:05:12,483 - app.routers.chat.router - INFO - 成功获取到 7 条聊天历史
2024-10-27 13:05:13,344 - app.routers.chat.router - INFO - 获取聊天 8 的详细信息
2024-10-27 13:05:15,901 - app.routers.chat.router - INFO - User 1 attempting to delete chat 8
2024-10-27 13:05:15,906 - app.routers.chat.router - INFO - Successfully deleted chat 8
2024-10-27 13:05:15,914 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:05:15,916 - app.routers.chat.router - INFO - 成功获取到 6 条聊天历史
2024-10-27 13:05:18,085 - app.routers.chat.router - INFO - 获取聊天 7 的详细信息
2024-10-27 13:05:20,202 - app.routers.chat.router - INFO - User 1 attempting to delete chat 7
2024-10-27 13:05:20,207 - app.routers.chat.router - INFO - Successfully deleted chat 7
2024-10-27 13:05:20,215 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:05:20,217 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 13:05:21,460 - app.routers.chat.router - INFO - 获取聊天 6 的详细信息
2024-10-27 13:05:25,488 - app.routers.chat.router - INFO - User 1 attempting to delete chat 6
2024-10-27 13:05:25,493 - app.routers.chat.router - INFO - Successfully deleted chat 6
2024-10-27 13:05:25,501 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:05:25,502 - app.routers.chat.router - INFO - 成功获取到 4 条聊天历史
2024-10-27 13:05:27,609 - app.routers.chat.router - INFO - User 1 attempting to delete chat 5
2024-10-27 13:05:27,614 - app.routers.chat.router - INFO - Successfully deleted chat 5
2024-10-27 13:05:27,623 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:05:27,624 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 13:05:29,726 - app.routers.chat.router - INFO - User 1 attempting to delete chat 4
2024-10-27 13:05:29,731 - app.routers.chat.router - INFO - Successfully deleted chat 4
2024-10-27 13:05:29,740 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:05:29,741 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 13:05:39,565 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:05:39,573 - app.services.chat.base - INFO - Created new chat for user 1: 4
2024-10-27 13:05:39,575 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:05:39,582 - app.services.chat.base - INFO - Created new chat for user 1: 5
2024-10-27 13:05:39,586 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 4, 'message': '你好'}
2024-10-27 13:05:39,588 - app.routers.chat.router - INFO - 处理用户 test 的消息: chat_id=4
2024-10-27 13:05:39,607 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:05:39,608 - app.routers.chat.router - INFO - 成功获取到 4 条聊天历史
2024-10-27 13:05:39,616 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 5, 'message': '你好'}
2024-10-27 13:05:39,618 - app.routers.chat.router - INFO - 处理用户 test 的消息: chat_id=5
2024-10-27 13:05:44,749 - app.routers.chat.router - INFO - 获取聊天 4 的详细信息
2024-10-27 13:05:46,144 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 13:05:48,321 - app.routers.chat.router - INFO - 获取聊天 4 的详细信息
2024-10-27 13:05:48,896 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 13:05:49,667 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 13:05:50,560 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 13:05:57,135 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 4, 'message': '你好'}
2024-10-27 13:05:57,139 - app.routers.chat.router - INFO - 处理用户 test 的消息: chat_id=4
2024-10-27 13:06:01,376 - app.routers.chat.router - INFO - 获取聊天 4 的详细信息
2024-10-27 13:06:02,118 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 13:06:09,282 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 4, 'message': '你好'}
2024-10-27 13:06:09,285 - app.routers.chat.router - INFO - 处理用户 test 的消息: chat_id=4
2024-10-27 13:06:11,472 - app.routers.chat.router - INFO - 获取聊天 4 的详细信息
2024-10-27 13:06:12,130 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 13:07:17,398 - app.routers.chat.router - INFO - User 1 attempting to delete chat 5
2024-10-27 13:07:17,406 - app.routers.chat.router - INFO - Successfully deleted chat 5
2024-10-27 13:07:17,415 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:07:17,416 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 13:07:21,091 - app.routers.chat.router - INFO - User 1 attempting to delete chat 4
2024-10-27 13:07:21,097 - app.routers.chat.router - INFO - Successfully deleted chat 4
2024-10-27 13:07:21,105 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:07:21,107 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 13:07:23,346 - app.routers.chat.router - INFO - User 1 attempting to delete chat 3
2024-10-27 13:07:23,351 - app.routers.chat.router - INFO - Successfully deleted chat 3
2024-10-27 13:07:23,359 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:07:23,360 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:07:25,469 - app.routers.chat.router - INFO - User 1 attempting to delete chat 2
2024-10-27 13:07:25,475 - app.routers.chat.router - INFO - Successfully deleted chat 2
2024-10-27 13:07:25,483 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:07:25,485 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 13:08:09,641 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:08:09,644 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:08:21,368 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 13:08:21,586 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 13:08:21,587 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 13:08:21,631 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:08:21,633 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 13:08:21,944 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:08:21,961 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:08:24,308 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:08:24,314 - app.services.chat.base - INFO - Created new chat for user 1: 2
2024-10-27 13:08:24,321 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:08:24,323 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:08:26,855 - app.routers.chat.router - INFO - User 1 attempting to delete chat 2
2024-10-27 13:08:26,860 - app.routers.chat.router - INFO - Successfully deleted chat 2
2024-10-27 13:08:26,869 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:08:26,870 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 13:08:27,764 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:08:27,769 - app.services.chat.base - INFO - Created new chat for user 1: 2
2024-10-27 13:08:27,776 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:08:27,777 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:08:27,969 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:08:27,976 - app.services.chat.base - INFO - Created new chat for user 1: 3
2024-10-27 13:08:27,985 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:08:27,987 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 13:08:28,139 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:08:28,146 - app.services.chat.base - INFO - Created new chat for user 1: 4
2024-10-27 13:08:28,154 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:08:28,156 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 13:08:28,481 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:08:28,487 - app.services.chat.base - INFO - Created new chat for user 1: 5
2024-10-27 13:08:28,495 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:08:28,496 - app.routers.chat.router - INFO - 成功获取到 4 条聊天历史
2024-10-27 13:08:28,678 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:08:28,684 - app.services.chat.base - INFO - Created new chat for user 1: 6
2024-10-27 13:08:28,692 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:08:28,693 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 13:08:35,217 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 6, 'message': '你好'}
2024-10-27 13:08:35,219 - app.routers.chat.router - INFO - 处理用户 test 的消息: chat_id=6
2024-10-27 13:08:37,441 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 13:08:39,757 - app.routers.chat.router - INFO - User 1 attempting to delete chat 6
2024-10-27 13:08:39,763 - app.routers.chat.router - INFO - Successfully deleted chat 6
2024-10-27 13:08:39,772 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:08:39,774 - app.routers.chat.router - INFO - 成功获取到 4 条聊天历史
2024-10-27 13:08:40,747 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 13:10:42,817 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:10:42,819 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:10:47,537 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 13:10:47,760 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 13:10:47,761 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 13:10:47,809 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:10:47,811 - app.routers.chat.router - INFO - 成功获取到 4 条聊天历史
2024-10-27 13:10:48,108 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:10:48,126 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:10:49,530 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 13:10:50,816 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 13:10:51,533 - app.routers.chat.router - INFO - 获取聊天 4 的详细信息
2024-10-27 13:10:52,170 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 13:10:53,498 - app.routers.chat.router - INFO - 获取聊天 4 的详细信息
2024-10-27 13:10:54,192 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 13:10:54,954 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 13:10:59,435 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 13:10:59,951 - app.routers.chat.router - INFO - 获取聊天 4 的详细信息
2024-10-27 13:11:00,499 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 13:11:08,262 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 5, 'message': '你好'}
2024-10-27 13:11:08,263 - app.routers.chat.router - INFO - 处理用户 test 的消息: chat_id=5
2024-10-27 13:11:08,273 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:11:08,279 - app.services.chat.base - INFO - Created new chat for user 1: 6
2024-10-27 13:11:08,283 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 6, 'message': '你好'}
2024-10-27 13:11:08,285 - app.routers.chat.router - INFO - 处理用户 test 的消息: chat_id=6
2024-10-27 13:11:11,566 - app.routers.chat.router - INFO - 获取聊天 4 的详细信息
2024-10-27 13:11:12,183 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 13:11:13,431 - app.routers.chat.router - INFO - 获取聊天 4 的详细信息
2024-10-27 13:11:13,848 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 13:11:14,800 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 13:11:15,416 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 13:11:19,783 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 6, 'message': '你好'}
2024-10-27 13:11:19,786 - app.routers.chat.router - INFO - 处理用户 test 的消息: chat_id=6
2024-10-27 13:11:32,413 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 6, 'message': '你好'}
2024-10-27 13:11:32,417 - app.routers.chat.router - INFO - 处理用户 test 的消息: chat_id=6
2024-10-27 13:13:29,419 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:13:29,421 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:13:31,968 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 13:13:32,189 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 13:13:32,189 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 13:13:32,221 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:13:32,222 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 13:13:32,526 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:13:32,543 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:13:33,950 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 13:13:35,045 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 13:13:43,189 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:13:43,195 - app.services.chat.base - INFO - Created new chat for user 1: 7
2024-10-27 13:13:43,196 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 5, 'message': '你好'}
2024-10-27 13:13:43,199 - app.routers.chat.router - INFO - 处理用户 test 的消息: chat_id=5
2024-10-27 13:13:43,212 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 7, 'message': '你好'}
2024-10-27 13:13:43,214 - app.routers.chat.router - INFO - 处理用户 test 的消息: chat_id=7
2024-10-27 13:17:26,766 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:17:26,768 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:17:30,715 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 13:17:30,934 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 13:17:30,935 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 13:17:30,967 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:17:30,969 - app.routers.chat.router - INFO - 成功获取到 6 条聊天历史
2024-10-27 13:17:31,291 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:17:31,308 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:17:32,579 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 13:17:33,571 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 13:17:36,445 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 13:17:44,181 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 5, 'message': '你好'}
2024-10-27 13:17:44,183 - app.routers.chat.router - INFO - 处理用户 test 的消息: chat_id=5
2024-10-27 13:17:44,193 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:17:44,201 - app.services.chat.base - INFO - Created new chat for user 1: 8
2024-10-27 13:17:44,206 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 8, 'message': '你好'}
2024-10-27 13:17:44,209 - app.routers.chat.router - INFO - 处理用户 test 的消息: chat_id=8
2024-10-27 13:24:45,629 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:24:45,632 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:24:49,107 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 13:24:49,327 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 13:24:49,328 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 13:24:49,368 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:24:49,370 - app.routers.chat.router - INFO - 成功获取到 7 条聊天历史
2024-10-27 13:24:49,682 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:24:49,700 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:24:55,250 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:24:55,256 - app.services.chat.base - INFO - Created new chat for user 1: 9
2024-10-27 13:24:55,262 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:24:55,263 - app.routers.chat.router - INFO - 成功获取到 8 条聊天历史
2024-10-27 13:24:55,267 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 9, 'message': '你好'}
2024-10-27 13:24:55,270 - app.routers.chat.router - INFO - 处理用户 test 的消息: chat_id=9
2024-10-27 13:24:58,692 - app.routers.chat.router - INFO - 获取聊天 8 的详细信息
2024-10-27 13:25:00,672 - app.routers.chat.router - INFO - User 1 attempting to delete chat 8
2024-10-27 13:25:00,678 - app.routers.chat.router - INFO - Successfully deleted chat 8
2024-10-27 13:25:00,687 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:25:00,689 - app.routers.chat.router - INFO - 成功获取到 7 条聊天历史
2024-10-27 13:28:00,247 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:28:00,250 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:28:05,180 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 13:28:05,400 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 13:28:05,400 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 13:28:05,437 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:28:05,439 - app.routers.chat.router - INFO - 成功获取到 7 条聊天历史
2024-10-27 13:28:05,757 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:28:05,774 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:28:10,683 - app.routers.chat.router - INFO - User 1 attempting to delete chat 2
2024-10-27 13:28:10,689 - app.routers.chat.router - INFO - Successfully deleted chat 2
2024-10-27 13:28:10,698 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:28:10,700 - app.routers.chat.router - INFO - 成功获取到 6 条聊天历史
2024-10-27 13:28:19,256 - app.routers.chat.router - INFO - User 1 attempting to delete chat 3
2024-10-27 13:28:19,261 - app.routers.chat.router - INFO - Successfully deleted chat 3
2024-10-27 13:28:19,271 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:28:19,273 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 13:28:20,208 - app.routers.chat.router - INFO - 获取聊天 4 的详细信息
2024-10-27 13:28:22,792 - app.routers.chat.router - INFO - User 1 attempting to delete chat 4
2024-10-27 13:28:22,797 - app.routers.chat.router - INFO - Successfully deleted chat 4
2024-10-27 13:28:22,805 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:28:22,806 - app.routers.chat.router - INFO - 成功获取到 4 条聊天历史
2024-10-27 13:28:25,682 - app.routers.chat.router - INFO - User 1 attempting to delete chat 5
2024-10-27 13:28:25,688 - app.routers.chat.router - INFO - Successfully deleted chat 5
2024-10-27 13:28:25,697 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:28:25,698 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 13:28:27,376 - app.routers.chat.router - INFO - 获取聊天 7 的详细信息
2024-10-27 13:28:29,897 - app.routers.chat.router - INFO - 获取聊天 9 的详细信息
2024-10-27 13:28:31,053 - app.routers.chat.router - INFO - 获取聊天 7 的详细信息
2024-10-27 13:28:34,430 - app.routers.chat.router - INFO - User 1 attempting to delete chat 9
2024-10-27 13:28:34,435 - app.routers.chat.router - INFO - Successfully deleted chat 9
2024-10-27 13:28:34,444 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:28:34,446 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 13:28:35,352 - app.routers.chat.router - INFO - 获取聊天 6 的详细信息
2024-10-27 13:28:36,804 - app.routers.chat.router - INFO - User 1 attempting to delete chat 6
2024-10-27 13:28:36,810 - app.routers.chat.router - INFO - Successfully deleted chat 6
2024-10-27 13:28:36,818 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:28:36,820 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:28:37,818 - app.routers.chat.router - INFO - 获取聊天 7 的详细信息
2024-10-27 13:28:41,538 - app.routers.chat.router - INFO - User 1 attempting to delete chat 7
2024-10-27 13:28:41,545 - app.routers.chat.router - INFO - Successfully deleted chat 7
2024-10-27 13:28:41,554 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:28:41,556 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 13:28:45,546 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:28:45,547 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:28:48,133 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 13:28:48,352 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 13:28:48,352 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 13:28:48,387 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:28:48,389 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 13:28:48,701 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:28:48,720 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:28:55,685 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:28:55,686 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:29:01,981 - app.routers.auth.router - INFO - Login attempt for user: fengzhe
2024-10-27 13:29:02,203 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 13:29:02,203 - app.routers.auth.router - INFO - Login successful for user: fengzhe
2024-10-27 13:29:02,248 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 13:29:02,253 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:29:02,551 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 13:29:02,568 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 13:29:03,597 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 13:29:19,533 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 13:29:19,540 - app.services.chat.base - INFO - Created new chat for user 2: 2
2024-10-27 13:29:19,547 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 13:29:19,548 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 13:29:24,451 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 13:29:24,456 - app.services.chat.base - INFO - Created new chat for user 2: 3
2024-10-27 13:29:24,463 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 13:29:24,465 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 13:29:24,469 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 3, 'message': '你好'}
2024-10-27 13:29:24,472 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=3
2024-10-27 13:29:30,236 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 3, 'message': '你好'}
2024-10-27 13:29:30,240 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=3
2024-10-27 13:30:15,510 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 13:30:16,053 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 13:30:16,880 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 13:30:17,946 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 13:30:19,934 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 13:30:20,466 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 13:30:21,661 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 13:30:26,498 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 2, 'message': '你好'}
2024-10-27 13:30:26,501 - app.routers.chat.router - INFO - 处理用户 fengzhe 的消息: chat_id=2
2024-10-27 13:30:53,122 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 13:30:53,123 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 13:30:56,041 - app.routers.auth.router - INFO - Login attempt for user: fengzhe
2024-10-27 13:30:56,264 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 13:30:56,264 - app.routers.auth.router - INFO - Login successful for user: fengzhe
2024-10-27 13:30:56,299 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 13:30:56,301 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 13:30:56,681 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 13:30:56,711 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 13:31:04,239 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 13:31:04,240 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 13:31:04,564 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 13:31:04,565 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 13:31:04,568 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 13:31:04,597 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 13:31:05,663 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 13:31:05,665 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 13:31:05,692 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 13:31:05,694 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 13:31:05,996 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 13:31:06,012 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 13:31:34,522 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 13:31:35,269 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 13:31:37,011 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 13:31:49,824 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 13:31:51,183 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 13:31:54,634 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 13:31:55,292 - app.routers.chat.router - INFO - 获取聊天 3 的详细信息
2024-10-27 13:33:04,324 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 13:33:04,325 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 13:35:30,580 - root - INFO - Created static directory at D:\Works\AI-lawyer_v4\backend\static
2024-10-27 13:35:30,581 - root - INFO - Available routes:
2024-10-27 13:35:30,582 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 13:35:30,582 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 13:35:30,583 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 13:35:30,583 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 13:35:30,583 - root - INFO - {'POST'} /api/auth/token
2024-10-27 13:35:30,584 - root - INFO - {'POST'} /api/auth/register
2024-10-27 13:35:30,584 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 13:35:30,585 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 13:35:30,585 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 13:35:30,586 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 13:35:30,586 - root - INFO - WebSocket /api/chat/ws
2024-10-27 13:35:30,586 - root - INFO - WebSocket /static
2024-10-27 13:35:30,588 - root - INFO - Starting up application...
2024-10-27 13:35:30,590 - app.database - INFO - Database initialized successfully
2024-10-27 13:35:30,618 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 13:35:30,619 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 13:35:30,621 - app.routers.auth.router - INFO - Login attempt for user: fengzhe
2024-10-27 13:35:30,865 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 13:35:30,866 - app.routers.auth.router - INFO - Login successful for user: fengzhe
2024-10-27 13:35:30,866 - app.routers.auth.router - INFO - Login attempt for user: fengzhe
2024-10-27 13:35:31,085 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 13:35:31,085 - app.routers.auth.router - INFO - Login successful for user: fengzhe
2024-10-27 13:35:31,086 - app.routers.auth.router - INFO - Login attempt for user: fengzhe
2024-10-27 13:35:31,305 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 13:35:31,306 - app.routers.auth.router - INFO - Login successful for user: fengzhe
2024-10-27 13:35:31,306 - app.routers.auth.router - INFO - Login attempt for user: fengzhe
2024-10-27 13:35:31,525 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 13:35:31,526 - app.routers.auth.router - INFO - Login successful for user: fengzhe
2024-10-27 13:35:31,527 - app.routers.auth.router - INFO - Login attempt for user: fengzhe
2024-10-27 13:35:31,745 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 13:35:31,746 - app.routers.auth.router - INFO - Login successful for user: fengzhe
2024-10-27 13:35:31,746 - app.routers.auth.router - INFO - Login attempt for user: fengzhe
2024-10-27 13:35:31,964 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 13:35:31,964 - app.routers.auth.router - INFO - Login successful for user: fengzhe
2024-10-27 13:35:31,976 - app.routers.auth.router - INFO - Login attempt for user: fengzhe
2024-10-27 13:35:32,224 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 13:35:32,224 - app.routers.auth.router - INFO - Login successful for user: fengzhe
2024-10-27 13:35:32,225 - app.routers.auth.router - INFO - Login attempt for user: fengzhe
2024-10-27 13:35:32,447 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 13:35:32,447 - app.routers.auth.router - INFO - Login successful for user: fengzhe
2024-10-27 13:35:32,448 - app.routers.auth.router - INFO - Login attempt for user: fengzhe
2024-10-27 13:35:32,670 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 13:35:32,670 - app.routers.auth.router - INFO - Login successful for user: fengzhe
2024-10-27 13:35:32,671 - app.routers.auth.router - INFO - Login attempt for user: fengzhe
2024-10-27 13:35:32,892 - app.services.auth.auth_service - INFO - Created access token for user: fengzhe
2024-10-27 13:35:32,893 - app.routers.auth.router - INFO - Login successful for user: fengzhe
2024-10-27 13:35:32,894 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 13:35:33,113 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 13:35:33,113 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 13:35:33,122 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 13:35:33,125 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 13:35:33,127 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 13:35:33,149 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 13:35:37,351 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 13:35:37,353 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 13:35:37,387 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 13:35:37,392 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 13:35:37,690 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 13:35:37,706 - app.routers.chat.router - INFO - 用户 fengzhe WebSocket连接成功
2024-10-27 13:35:39,343 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 13:35:40,177 - app.routers.chat.router - INFO - 获取聊天 2 的详细信息
2024-10-27 13:35:45,733 - app.routers.chat.router - INFO - 用户 2 创建新聊天
2024-10-27 13:35:45,741 - app.services.chat.base - INFO - Created new chat for user 2: 4
2024-10-27 13:35:45,748 - app.routers.chat.router - INFO - 获取用户 2 的聊天历史
2024-10-27 13:35:45,749 - app.routers.chat.router - INFO - 成功获取到 4 条聊天历史
2024-10-27 13:35:46,897 - app.routers.chat.router - INFO - 获取聊天 1 的详细信息
2024-10-27 13:35:52,728 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 13:35:52,729 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 fengzhe
2024-10-27 13:35:55,315 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 13:35:55,534 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 13:35:55,535 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 13:35:55,573 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:35:55,575 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 13:35:55,903 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:35:55,921 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:35:59,418 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:35:59,425 - app.services.chat.base - INFO - Created new chat for user 1: 5
2024-10-27 13:35:59,432 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:35:59,433 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:37:20,769 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:37:20,771 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:37:23,189 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 13:37:23,414 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 13:37:23,415 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 13:37:23,451 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:37:23,454 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:37:23,761 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:37:23,777 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:38:33,839 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:38:33,839 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:38:38,104 - root - INFO - Available routes:
2024-10-27 13:38:38,104 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 13:38:38,105 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 13:38:38,105 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 13:38:38,106 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 13:38:38,106 - root - INFO - {'POST'} /api/auth/token
2024-10-27 13:38:38,106 - root - INFO - {'POST'} /api/auth/register
2024-10-27 13:38:38,107 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 13:38:38,107 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 13:38:38,108 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 13:38:38,108 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 13:38:38,109 - root - INFO - WebSocket /api/chat/ws
2024-10-27 13:38:38,110 - root - INFO - Starting up application...
2024-10-27 13:38:38,112 - app.database - INFO - Database initialized successfully
2024-10-27 13:38:38,132 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:38:39,158 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:38:50,510 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:38:50,512 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:38:53,571 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 13:38:53,816 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 13:38:53,817 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 13:38:53,871 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:38:53,874 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:38:54,175 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:38:54,191 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:39:00,501 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 13:39:02,959 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:39:02,967 - app.services.chat.base - INFO - Created new chat for user 1: 6
2024-10-27 13:39:02,974 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:39:02,976 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 13:39:04,163 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 13:39:04,796 - app.routers.chat.router - INFO - 获取聊天 6 的详细信息
2024-10-27 13:41:55,022 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:41:55,023 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:41:55,346 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:41:55,347 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 13:41:55,350 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:41:55,378 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:42:02,937 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:42:02,939 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:42:05,781 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 13:42:06,000 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 13:42:06,001 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 13:42:06,038 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:42:06,040 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 13:42:06,348 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:42:06,365 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:42:08,818 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:42:08,823 - app.services.chat.base - INFO - Created new chat for user 1: 7
2024-10-27 13:42:08,830 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:42:08,831 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 13:42:12,563 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:42:12,569 - app.services.chat.base - INFO - Created new chat for user 1: 8
2024-10-27 13:42:12,575 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:42:12,576 - app.routers.chat.router - INFO - 成功获取到 4 条聊天历史
2024-10-27 13:42:13,716 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:42:13,721 - app.services.chat.base - INFO - Created new chat for user 1: 9
2024-10-27 13:42:13,729 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:42:13,730 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 13:42:14,541 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:42:14,546 - app.services.chat.base - INFO - Created new chat for user 1: 10
2024-10-27 13:42:14,552 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:42:14,553 - app.routers.chat.router - INFO - 成功获取到 6 条聊天历史
2024-10-27 13:42:19,021 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:42:19,022 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:42:20,177 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 13:42:20,400 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 13:42:20,401 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 13:42:20,436 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:42:20,437 - app.routers.chat.router - INFO - 成功获取到 6 条聊天历史
2024-10-27 13:42:20,789 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:42:20,806 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:43:51,521 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:43:51,523 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:43:54,226 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 13:43:54,446 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 13:43:54,447 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 13:43:54,483 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:43:54,484 - app.routers.chat.router - INFO - 成功获取到 6 条聊天历史
2024-10-27 13:43:54,812 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:43:54,828 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:43:57,953 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:43:57,958 - app.services.chat.base - INFO - Created new chat for user 1: 11
2024-10-27 13:43:57,965 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:43:57,966 - app.routers.chat.router - INFO - 成功获取到 7 条聊天历史
2024-10-27 13:45:24,580 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:45:24,582 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:45:27,173 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 13:45:27,394 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 13:45:27,394 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 13:45:27,429 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:45:27,432 - app.routers.chat.router - INFO - 成功获取到 7 条聊天历史
2024-10-27 13:45:27,746 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:45:27,762 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:45:35,801 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:45:35,806 - app.services.chat.base - INFO - Created new chat for user 1: 12
2024-10-27 13:45:35,812 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:45:35,814 - app.routers.chat.router - INFO - 成功获取到 8 条聊天历史
2024-10-27 13:45:35,818 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 12, 'message': '你好'}
2024-10-27 13:45:35,820 - app.routers.chat.router - INFO - 处理用户 test 的消息: chat_id=12
2024-10-27 13:45:40,002 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 12, 'message': '你好'}
2024-10-27 13:45:40,006 - app.routers.chat.router - INFO - 处理用户 test 的消息: chat_id=12
2024-10-27 13:45:45,996 - app.routers.chat.router - INFO - User 1 attempting to delete chat 12
2024-10-27 13:45:46,004 - app.routers.chat.router - INFO - Successfully deleted chat 12
2024-10-27 13:45:46,013 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:45:46,015 - app.routers.chat.router - INFO - 成功获取到 7 条聊天历史
2024-10-27 13:45:48,473 - app.routers.chat.router - INFO - User 1 attempting to delete chat 11
2024-10-27 13:45:48,478 - app.routers.chat.router - INFO - Successfully deleted chat 11
2024-10-27 13:45:48,486 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:45:48,488 - app.routers.chat.router - INFO - 成功获取到 6 条聊天历史
2024-10-27 13:45:50,897 - app.routers.chat.router - INFO - User 1 attempting to delete chat 10
2024-10-27 13:45:50,902 - app.routers.chat.router - INFO - Successfully deleted chat 10
2024-10-27 13:45:50,909 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:45:50,911 - app.routers.chat.router - INFO - 成功获取到 5 条聊天历史
2024-10-27 13:45:52,485 - app.routers.chat.router - INFO - 获取聊天 9 的详细信息
2024-10-27 13:45:53,454 - app.routers.chat.router - INFO - 获取聊天 8 的详细信息
2024-10-27 13:45:54,914 - app.routers.chat.router - INFO - 获取聊天 7 的详细信息
2024-10-27 13:45:58,894 - app.routers.chat.router - INFO - User 1 attempting to delete chat 7
2024-10-27 13:45:58,899 - app.routers.chat.router - INFO - Successfully deleted chat 7
2024-10-27 13:45:58,907 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:45:58,909 - app.routers.chat.router - INFO - 成功获取到 4 条聊天历史
2024-10-27 13:46:01,523 - app.routers.chat.router - INFO - User 1 attempting to delete chat 9
2024-10-27 13:46:01,529 - app.routers.chat.router - INFO - Successfully deleted chat 9
2024-10-27 13:46:01,538 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:46:01,540 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 13:46:02,373 - app.routers.chat.router - INFO - 获取聊天 8 的详细信息
2024-10-27 13:46:03,368 - app.routers.chat.router - INFO - 获取聊天 6 的详细信息
2024-10-27 13:46:03,793 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 13:46:05,749 - app.routers.chat.router - INFO - User 1 attempting to delete chat 5
2024-10-27 13:46:05,753 - app.routers.chat.router - INFO - Successfully deleted chat 5
2024-10-27 13:46:05,763 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:46:05,765 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 13:46:13,249 - app.routers.chat.router - INFO - User 1 attempting to delete chat 6
2024-10-27 13:46:13,254 - app.routers.chat.router - INFO - Successfully deleted chat 6
2024-10-27 13:46:13,263 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:46:13,264 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:46:14,467 - app.routers.chat.router - INFO - 获取聊天 8 的详细信息
2024-10-27 13:46:16,292 - app.routers.chat.router - INFO - User 1 attempting to delete chat 8
2024-10-27 13:46:16,297 - app.routers.chat.router - INFO - Successfully deleted chat 8
2024-10-27 13:46:16,305 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:46:16,307 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 13:48:23,090 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:48:23,093 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:48:26,970 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 13:48:27,194 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 13:48:27,194 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 13:48:27,243 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:48:27,245 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 13:48:27,544 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:48:27,562 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:48:28,802 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:48:28,808 - app.services.chat.base - INFO - Created new chat for user 1: 5
2024-10-27 13:48:28,815 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:48:28,817 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:48:39,734 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:48:39,736 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:48:42,302 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 13:48:42,524 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 13:48:42,524 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 13:48:42,573 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:48:42,574 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:48:42,880 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:48:42,896 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:49:17,289 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 13:49:19,700 - app.routers.chat.router - INFO - User 1 attempting to delete chat 5
2024-10-27 13:49:19,707 - app.routers.chat.router - INFO - Successfully deleted chat 5
2024-10-27 13:49:19,717 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:49:19,718 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 13:50:39,063 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:50:39,064 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:50:41,646 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 13:50:41,866 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 13:50:41,867 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 13:50:41,908 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:50:41,910 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 13:50:42,218 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:50:42,235 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:51:22,374 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:51:22,376 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:52:50,551 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 13:52:50,775 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 13:52:50,776 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 13:52:50,838 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:52:50,840 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 13:52:51,163 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:52:51,180 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:53:08,352 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:53:08,357 - app.services.chat.base - INFO - Created new chat for user 1: 5
2024-10-27 13:53:08,363 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:53:08,365 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:53:08,369 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 5, 'message': '你好'}
2024-10-27 13:53:08,370 - app.routers.chat.router - INFO - 处理用户 test 的消息: chat_id=5
2024-10-27 13:53:58,578 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:53:58,585 - app.services.chat.base - INFO - Created new chat for user 1: 6
2024-10-27 13:53:58,592 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:53:58,593 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 13:53:59,867 - app.routers.chat.router - INFO - 获取聊天 6 的详细信息
2024-10-27 13:54:03,072 - app.routers.chat.router - INFO - User 1 attempting to delete chat 6
2024-10-27 13:54:03,078 - app.routers.chat.router - INFO - Successfully deleted chat 6
2024-10-27 13:54:03,086 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:54:03,087 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:54:09,682 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:54:09,689 - app.services.chat.base - INFO - Created new chat for user 1: 6
2024-10-27 13:54:09,698 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:54:09,700 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 13:54:10,898 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:54:10,905 - app.services.chat.base - INFO - Created new chat for user 1: 7
2024-10-27 13:54:10,912 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:54:10,913 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 13:54:11,150 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 13:54:11,156 - app.services.chat.base - INFO - Created new chat for user 1: 8
2024-10-27 13:54:11,165 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:54:11,166 - app.routers.chat.router - INFO - 成功获取到 4 条聊天历史
2024-10-27 13:54:12,303 - app.routers.chat.router - INFO - 获取聊天 8 的详细信息
2024-10-27 13:54:13,290 - app.routers.chat.router - INFO - 获取聊天 8 的详细信息
2024-10-27 13:54:14,903 - app.routers.chat.router - INFO - User 1 attempting to delete chat 8
2024-10-27 13:54:14,909 - app.routers.chat.router - INFO - Successfully deleted chat 8
2024-10-27 13:54:14,918 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:54:14,919 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 13:54:16,831 - app.routers.chat.router - INFO - User 1 attempting to delete chat 7
2024-10-27 13:54:16,837 - app.routers.chat.router - INFO - Successfully deleted chat 7
2024-10-27 13:54:16,846 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:54:16,848 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 13:54:19,800 - app.routers.chat.router - INFO - User 1 attempting to delete chat 6
2024-10-27 13:54:19,806 - app.routers.chat.router - INFO - Successfully deleted chat 6
2024-10-27 13:54:19,814 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:54:19,816 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:55:11,436 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:55:11,438 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:55:13,862 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 13:55:14,086 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 13:55:14,087 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 13:55:14,124 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:55:14,127 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:55:14,450 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:55:14,468 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:55:16,324 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 13:55:30,141 - app.routers.chat.router - INFO - 收到WebSocket消息: {'chat_id': 5, 'message': '你好'}
2024-10-27 13:55:30,143 - app.routers.chat.router - INFO - 处理用户 test 的消息: chat_id=5
2024-10-27 13:57:28,946 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:57:28,949 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 13:57:30,701 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 13:57:30,922 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 13:57:30,923 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 13:57:30,958 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 13:57:30,960 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 13:57:31,279 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:57:31,296 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 13:57:36,205 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 14:01:55,680 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:01:55,681 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:01:59,960 - root - INFO - Available routes:
2024-10-27 14:01:59,960 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 14:01:59,961 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 14:01:59,961 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 14:01:59,962 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 14:01:59,962 - root - INFO - {'POST'} /api/auth/token
2024-10-27 14:01:59,962 - root - INFO - {'POST'} /api/auth/register
2024-10-27 14:01:59,963 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 14:01:59,963 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 14:01:59,964 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 14:01:59,964 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 14:01:59,965 - root - INFO - WebSocket /api/chat/ws
2024-10-27 14:01:59,966 - root - INFO - Starting up application...
2024-10-27 14:01:59,968 - app.database - INFO - Database initialized successfully
2024-10-27 14:01:59,988 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:02:01,006 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:02:08,816 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:02:08,818 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:02:10,622 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 14:02:10,862 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 14:02:10,862 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 14:02:10,900 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 14:02:10,904 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 14:02:11,213 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:02:11,231 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:02:12,340 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 14:02:12,342 - app.services.chat.base - ERROR - Error getting chat with messages: type object 'Message' has no attribute 'timestamp'
2024-10-27 14:02:12,343 - app.routers.chat.router - ERROR - 获取聊天详细信息失败: 500: Failed to get chat with messages
2024-10-27 14:02:14,691 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 14:02:14,692 - app.services.chat.base - ERROR - Error getting chat with messages: type object 'Message' has no attribute 'timestamp'
2024-10-27 14:02:14,692 - app.routers.chat.router - ERROR - 获取聊天详细信息失败: 500: Failed to get chat with messages
2024-10-27 14:03:37,763 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:03:37,763 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:03:41,966 - root - INFO - Available routes:
2024-10-27 14:03:41,966 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 14:03:41,967 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 14:03:41,967 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 14:03:41,968 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 14:03:41,969 - root - INFO - {'POST'} /api/auth/token
2024-10-27 14:03:41,969 - root - INFO - {'POST'} /api/auth/register
2024-10-27 14:03:41,970 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 14:03:41,970 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 14:03:41,971 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 14:03:41,971 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 14:03:41,972 - root - INFO - WebSocket /api/chat/ws
2024-10-27 14:03:41,973 - root - INFO - Starting up application...
2024-10-27 14:03:41,975 - app.database - INFO - Database initialized successfully
2024-10-27 14:03:41,994 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:03:43,087 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:03:53,857 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:03:53,859 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:03:55,887 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 14:03:56,131 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 14:03:56,132 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 14:03:56,173 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 14:03:56,177 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 14:03:56,502 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:03:56,519 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:04:00,936 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 14:04:05,984 - app.services.chat.ai_chat - ERROR - Error processing message: type object 'Message' has no attribute 'timestamp'
2024-10-27 14:04:05,985 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 14:04:09,671 - app.services.chat.ai_chat - ERROR - Error processing message: type object 'Message' has no attribute 'timestamp'
2024-10-27 14:04:09,672 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 14:04:18,095 - app.services.chat.ai_chat - ERROR - Error processing message: type object 'Message' has no attribute 'timestamp'
2024-10-27 14:04:18,096 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 14:05:39,346 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:05:39,347 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:05:43,542 - root - INFO - Available routes:
2024-10-27 14:05:43,542 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 14:05:43,543 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 14:05:43,543 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 14:05:43,544 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 14:05:43,544 - root - INFO - {'POST'} /api/auth/token
2024-10-27 14:05:43,545 - root - INFO - {'POST'} /api/auth/register
2024-10-27 14:05:43,545 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 14:05:43,546 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 14:05:43,546 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 14:05:43,546 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 14:05:43,547 - root - INFO - WebSocket /api/chat/ws
2024-10-27 14:05:43,548 - root - INFO - Starting up application...
2024-10-27 14:05:43,550 - app.database - INFO - Database initialized successfully
2024-10-27 14:05:43,570 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:05:44,658 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:05:49,605 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:05:49,607 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:05:51,507 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 14:05:51,745 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 14:05:51,746 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 14:05:51,785 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 14:05:51,788 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 14:05:52,108 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:05:52,125 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:05:57,727 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 14:05:57,735 - app.services.chat.base - INFO - Created new chat for user 1: 6
2024-10-27 14:05:57,742 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 14:05:57,743 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 14:06:01,695 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 14:06:07,759 - app.routers.chat.router - INFO - 获取聊天 6 的详细信息
2024-10-27 14:08:25,818 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:08:25,820 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:08:29,920 - root - INFO - Available routes:
2024-10-27 14:08:29,920 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 14:08:29,921 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 14:08:29,922 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 14:08:29,922 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 14:08:29,923 - root - INFO - {'POST'} /api/auth/token
2024-10-27 14:08:29,923 - root - INFO - {'POST'} /api/auth/register
2024-10-27 14:08:29,923 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 14:08:29,924 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 14:08:29,924 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 14:08:29,925 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 14:08:29,925 - root - INFO - WebSocket /api/chat/ws
2024-10-27 14:08:29,926 - root - INFO - Starting up application...
2024-10-27 14:08:29,928 - app.database - INFO - Database initialized successfully
2024-10-27 14:08:29,948 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:08:31,138 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:08:56,854 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:08:56,856 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:08:58,438 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 14:08:58,676 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 14:08:58,677 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 14:08:58,716 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 14:08:58,719 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 14:08:59,031 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:08:59,049 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:09:01,306 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 14:09:15,866 - app.routers.chat.router - INFO - 获取聊天 6 的详细信息
2024-10-27 14:09:18,603 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 14:10:36,628 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:10:36,631 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:10:38,377 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 14:10:38,602 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 14:10:38,602 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 14:10:38,642 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 14:10:38,644 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 14:10:38,949 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:10:38,965 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:10:40,295 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 14:11:38,015 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:11:38,016 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:11:42,585 - root - INFO - Available routes:
2024-10-27 14:11:42,585 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 14:11:42,586 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 14:11:42,587 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 14:11:42,587 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 14:11:42,588 - root - INFO - {'POST'} /api/auth/token
2024-10-27 14:11:42,588 - root - INFO - {'POST'} /api/auth/register
2024-10-27 14:11:42,589 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 14:11:42,589 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 14:11:42,590 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 14:11:42,590 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 14:11:42,591 - root - INFO - WebSocket /api/chat/ws
2024-10-27 14:11:42,592 - root - INFO - Starting up application...
2024-10-27 14:11:42,595 - app.database - INFO - Created all database tables
2024-10-27 14:11:42,607 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 14:11:43,329 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 14:12:27,444 - root - INFO - Available routes:
2024-10-27 14:12:27,444 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 14:12:27,445 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 14:12:27,445 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 14:12:27,446 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 14:12:27,446 - root - INFO - {'POST'} /api/auth/token
2024-10-27 14:12:27,447 - root - INFO - {'POST'} /api/auth/register
2024-10-27 14:12:27,447 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 14:12:27,447 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 14:12:27,448 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 14:12:27,448 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 14:12:27,449 - root - INFO - WebSocket /api/chat/ws
2024-10-27 14:12:27,451 - root - INFO - Starting up application...
2024-10-27 14:12:27,452 - app.database - INFO - Created all database tables
2024-10-27 14:12:32,652 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 14:12:35,621 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 14:12:44,419 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 14:12:44,664 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 14:12:44,664 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 14:12:44,705 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 14:12:44,709 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 14:12:45,022 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:12:45,039 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:12:46,232 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 14:12:54,414 - dashscope - ERROR - Request: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation failed, status: 401, message: Invalid API-key provided.
2024-10-27 14:12:54,416 - app.services.chat.ai_chat - ERROR - Error processing message: status_code: 401 
 code: InvalidApiKey 
 message: Invalid API-key provided.
2024-10-27 14:12:54,417 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 14:13:00,979 - app.routers.chat.router - INFO - User 1 attempting to delete chat 5
2024-10-27 14:13:00,986 - app.routers.chat.router - INFO - Successfully deleted chat 5
2024-10-27 14:13:00,994 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 14:13:00,996 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 14:13:01,915 - app.routers.chat.router - INFO - 获取聊天 6 的详细信息
2024-10-27 14:13:04,566 - app.routers.chat.router - INFO - User 1 attempting to delete chat 6
2024-10-27 14:13:04,572 - app.routers.chat.router - INFO - Successfully deleted chat 6
2024-10-27 14:13:04,580 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 14:13:04,581 - app.routers.chat.router - INFO - 成功获取到 0 条聊天历史
2024-10-27 14:13:07,044 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 14:13:07,051 - app.services.chat.base - INFO - Created new chat for user 1: 5
2024-10-27 14:13:07,059 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 14:13:07,062 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 14:13:14,020 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 14:13:14,026 - app.services.chat.base - INFO - Created new chat for user 1: 6
2024-10-27 14:13:14,031 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 14:13:14,033 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 14:13:14,148 - dashscope - ERROR - Request: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation failed, status: 401, message: Invalid API-key provided.
2024-10-27 14:13:14,150 - app.services.chat.ai_chat - ERROR - Error processing message: status_code: 401 
 code: InvalidApiKey 
 message: Invalid API-key provided.
2024-10-27 14:13:14,151 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 14:14:31,129 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:14:31,132 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:14:32,823 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 14:14:33,045 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 14:14:33,046 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 14:14:33,082 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 14:14:33,084 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 14:14:33,392 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:14:33,409 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:14:37,328 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 14:14:37,333 - app.services.chat.base - INFO - Created new chat for user 1: 7
2024-10-27 14:14:37,339 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 14:14:37,341 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 14:14:37,491 - dashscope - ERROR - Request: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation failed, status: 401, message: Invalid API-key provided.
2024-10-27 14:14:37,492 - app.services.chat.ai_chat - ERROR - Error processing message: status_code: 401 
 code: InvalidApiKey 
 message: Invalid API-key provided.
2024-10-27 14:14:37,493 - app.routers.chat.router - ERROR - 处理WebSocket消息时出错: 500: Failed to process message
2024-10-27 14:14:48,544 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:14:48,547 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:14:57,194 - root - INFO - Available routes:
2024-10-27 14:14:57,194 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 14:14:57,195 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 14:14:57,195 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 14:14:57,196 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 14:14:57,196 - root - INFO - {'POST'} /api/auth/token
2024-10-27 14:14:57,197 - root - INFO - {'POST'} /api/auth/register
2024-10-27 14:14:57,197 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 14:14:57,198 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 14:14:57,198 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 14:14:57,199 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 14:14:57,199 - root - INFO - WebSocket /api/chat/ws
2024-10-27 14:14:57,201 - root - INFO - Starting up application...
2024-10-27 14:14:57,203 - app.database - INFO - Created all database tables
2024-10-27 14:14:57,234 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 14:15:01,206 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 14:15:08,909 - app.core.dependencies - ERROR - Token validation failed: Signature verification failed.
2024-10-27 14:15:08,910 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 14:15:08,925 - app.core.dependencies - ERROR - WebSocket authentication error: Signature verification failed.
2024-10-27 14:15:10,113 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 14:15:10,362 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 14:15:10,363 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 14:15:10,399 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 14:15:10,402 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 14:15:10,751 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:15:10,769 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:15:14,222 - app.routers.chat.router - INFO - 用户 1 创建新聊天
2024-10-27 14:15:14,229 - app.services.chat.base - INFO - Created new chat for user 1: 8
2024-10-27 14:15:14,236 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 14:15:14,237 - app.routers.chat.router - INFO - 成功获取到 4 条聊天历史
2024-10-27 14:15:18,260 - app.routers.chat.router - INFO - 获取聊天 7 的详细信息
2024-10-27 14:15:20,092 - app.routers.chat.router - INFO - User 1 attempting to delete chat 7
2024-10-27 14:15:20,101 - app.routers.chat.router - INFO - Successfully deleted chat 7
2024-10-27 14:15:20,116 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 14:15:20,118 - app.routers.chat.router - INFO - 成功获取到 3 条聊天历史
2024-10-27 14:15:21,185 - app.routers.chat.router - INFO - 获取聊天 6 的详细信息
2024-10-27 14:15:23,109 - app.routers.chat.router - INFO - User 1 attempting to delete chat 6
2024-10-27 14:15:23,113 - app.routers.chat.router - INFO - Successfully deleted chat 6
2024-10-27 14:15:23,122 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 14:15:23,123 - app.routers.chat.router - INFO - 成功获取到 2 条聊天历史
2024-10-27 14:15:24,241 - app.routers.chat.router - INFO - 获取聊天 5 的详细信息
2024-10-27 14:15:26,601 - app.routers.chat.router - INFO - User 1 attempting to delete chat 5
2024-10-27 14:15:26,606 - app.routers.chat.router - INFO - Successfully deleted chat 5
2024-10-27 14:15:26,613 - app.routers.chat.router - INFO - 获取用户 1 的聊天历史
2024-10-27 14:15:26,616 - app.routers.chat.router - INFO - 成功获取到 1 条聊天历史
2024-10-27 14:15:27,522 - app.routers.chat.router - INFO - 获取聊天 8 的详细信息
2024-10-27 14:18:13,466 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:18:13,467 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:18:17,843 - root - INFO - Available routes:
2024-10-27 14:18:17,844 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 14:18:17,844 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 14:18:17,845 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 14:18:17,846 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 14:18:17,846 - root - INFO - {'POST'} /api/auth/token
2024-10-27 14:18:17,847 - root - INFO - {'POST'} /api/auth/register
2024-10-27 14:18:17,848 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 14:18:17,848 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 14:18:17,849 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 14:18:17,849 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 14:18:17,850 - root - INFO - WebSocket /api/chat/ws
2024-10-27 14:18:17,851 - root - INFO - Starting up application...
2024-10-27 14:18:17,854 - app.database - INFO - Created all database tables
2024-10-27 14:18:17,875 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:18:19,132 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:18:21,173 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 14:18:21,416 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 14:18:21,416 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 14:18:21,768 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:18:21,786 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:18:27,206 - app.services.chat.base - INFO - Created new chat for user 1: 9
2024-10-27 14:20:59,865 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:20:59,866 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:21:04,085 - root - INFO - Available routes:
2024-10-27 14:21:04,086 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 14:21:04,086 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 14:21:04,087 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 14:21:04,087 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 14:21:04,087 - root - INFO - {'POST'} /api/auth/token
2024-10-27 14:21:04,088 - root - INFO - {'POST'} /api/auth/register
2024-10-27 14:21:04,088 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 14:21:04,089 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 14:21:04,089 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 14:21:04,090 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 14:21:04,090 - root - INFO - WebSocket /api/chat/ws
2024-10-27 14:21:04,091 - root - INFO - Starting up application...
2024-10-27 14:21:04,094 - app.database - INFO - Created all database tables
2024-10-27 14:21:04,113 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:21:05,176 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:21:11,137 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:21:11,139 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:21:12,903 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 14:21:13,142 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 14:21:13,143 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 14:21:13,504 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:21:13,521 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:22:55,859 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:22:55,863 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:22:57,755 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 14:22:57,978 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 14:22:57,978 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 14:22:58,340 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:22:58,358 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:25:20,435 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:25:20,437 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:25:21,982 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 14:25:22,205 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 14:25:22,206 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 14:25:22,553 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:25:22,571 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:28:45,891 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:28:45,892 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:28:50,300 - root - INFO - Available routes:
2024-10-27 14:28:50,301 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 14:28:50,302 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 14:28:50,302 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 14:28:50,303 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 14:28:50,303 - root - INFO - {'POST'} /api/auth/token
2024-10-27 14:28:50,304 - root - INFO - {'POST'} /api/auth/register
2024-10-27 14:28:50,304 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 14:28:50,305 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 14:28:50,305 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 14:28:50,306 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 14:28:50,306 - root - INFO - WebSocket /api/chat/ws
2024-10-27 14:28:50,308 - root - INFO - Starting up application...
2024-10-27 14:28:50,310 - app.database - INFO - Created all database tables
2024-10-27 14:28:50,329 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:28:51,208 - app.routers.chat.router - INFO - 用户 test WebSocket连接成功
2024-10-27 14:30:15,843 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:30:15,844 - app.routers.chat.router - INFO - WebSocket连接断开: 用户 test
2024-10-27 14:50:54,398 - root - INFO - Available routes:
2024-10-27 14:50:54,399 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 14:50:54,399 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 14:50:54,399 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 14:50:54,400 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 14:50:54,400 - root - INFO - {'POST'} /api/auth/token
2024-10-27 14:50:54,401 - root - INFO - {'POST'} /api/auth/register
2024-10-27 14:50:54,401 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 14:50:54,402 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 14:50:54,402 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 14:50:54,403 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 14:50:54,403 - root - INFO - WebSocket /api/chat/ws
2024-10-27 14:54:35,876 - root - INFO - Available routes:
2024-10-27 14:54:35,876 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 14:54:35,877 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 14:54:35,878 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 14:54:35,878 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 14:54:35,879 - root - INFO - {'POST'} /api/auth/token
2024-10-27 14:54:35,879 - root - INFO - {'POST'} /api/auth/register
2024-10-27 14:54:35,879 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 14:54:35,880 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 14:54:35,880 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 14:54:35,881 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 14:54:35,881 - root - INFO - WebSocket /api/chat/ws
2024-10-27 14:57:13,959 - root - INFO - Available routes:
2024-10-27 14:57:13,960 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 14:57:13,960 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 14:57:13,961 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 14:57:13,961 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 14:57:13,962 - root - INFO - {'POST'} /api/auth/token
2024-10-27 14:57:13,962 - root - INFO - {'POST'} /api/auth/register
2024-10-27 14:57:13,962 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 14:57:13,963 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 14:57:13,963 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 14:57:13,964 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 14:57:13,964 - root - INFO - WebSocket /api/chat/ws
2024-10-27 14:59:21,527 - root - INFO - Available routes:
2024-10-27 14:59:21,528 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 14:59:21,529 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 14:59:21,529 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 14:59:21,530 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 14:59:21,530 - root - INFO - {'POST'} /api/auth/token
2024-10-27 14:59:21,530 - root - INFO - {'POST'} /api/auth/register
2024-10-27 14:59:21,531 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 14:59:21,531 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 14:59:21,532 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 14:59:21,532 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 14:59:21,533 - root - INFO - WebSocket /api/chat/ws
2024-10-27 14:59:21,534 - root - INFO - Starting up application...
2024-10-27 14:59:21,537 - app.database - INFO - Created all database tables
2024-10-27 14:59:42,356 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 14:59:42,607 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 14:59:42,607 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 14:59:42,964 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 14:59:42,980 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 14:59:44,840 - app.routers.chat.router - ERROR - 获取聊天详细信息失败: (sqlite3.OperationalError) no such column: messages.stream_tokens
[SQL: SELECT messages.id AS messages_id, messages.content AS messages_content, messages.role AS messages_role, messages.chat_id AS messages_chat_id, messages.created_at AS messages_created_at, messages.stream_tokens AS messages_stream_tokens, messages.is_complete AS messages_is_complete 
FROM messages 
WHERE messages.chat_id = ? ORDER BY messages.created_at ASC]
[parameters: (9,)]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
2024-10-27 14:59:46,308 - app.routers.chat.router - ERROR - 获取聊天详细信息失败: (sqlite3.OperationalError) no such column: messages.stream_tokens
[SQL: SELECT messages.id AS messages_id, messages.content AS messages_content, messages.role AS messages_role, messages.chat_id AS messages_chat_id, messages.created_at AS messages_created_at, messages.stream_tokens AS messages_stream_tokens, messages.is_complete AS messages_is_complete 
FROM messages 
WHERE messages.chat_id = ? ORDER BY messages.created_at ASC]
[parameters: (8,)]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
2024-10-27 14:59:57,300 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 14:59:57,300 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 14:59:57,410 - root - INFO - Shutting down application...
2024-10-27 15:00:14,981 - root - INFO - Available routes:
2024-10-27 15:00:14,982 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 15:00:14,983 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 15:00:14,983 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 15:00:14,984 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 15:00:14,984 - root - INFO - {'POST'} /api/auth/token
2024-10-27 15:00:14,985 - root - INFO - {'POST'} /api/auth/register
2024-10-27 15:00:14,985 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 15:00:14,986 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 15:00:14,986 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 15:00:14,987 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 15:00:14,987 - root - INFO - WebSocket /api/chat/ws
2024-10-27 15:00:14,989 - root - INFO - Starting up application...
2024-10-27 15:00:14,992 - app.database - INFO - Created all database tables
2024-10-27 15:00:18,447 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 15:00:18,697 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 15:00:18,698 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 15:00:19,052 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:00:19,068 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:00:20,671 - app.routers.chat.router - ERROR - 获取聊天详细信息失败: (sqlite3.OperationalError) no such column: messages.stream_tokens
[SQL: SELECT messages.id AS messages_id, messages.content AS messages_content, messages.role AS messages_role, messages.chat_id AS messages_chat_id, messages.created_at AS messages_created_at, messages.stream_tokens AS messages_stream_tokens, messages.is_complete AS messages_is_complete 
FROM messages 
WHERE messages.chat_id = ? ORDER BY messages.created_at ASC]
[parameters: (9,)]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
2024-10-27 15:00:21,491 - app.routers.chat.router - ERROR - 获取聊天详细信息失败: (sqlite3.OperationalError) no such column: messages.stream_tokens
[SQL: SELECT messages.id AS messages_id, messages.content AS messages_content, messages.role AS messages_role, messages.chat_id AS messages_chat_id, messages.created_at AS messages_created_at, messages.stream_tokens AS messages_stream_tokens, messages.is_complete AS messages_is_complete 
FROM messages 
WHERE messages.chat_id = ? ORDER BY messages.created_at ASC]
[parameters: (8,)]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
2024-10-27 15:02:40,784 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:02:40,784 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:02:40,894 - root - INFO - Shutting down application...
2024-10-27 15:02:45,148 - root - INFO - Available routes:
2024-10-27 15:02:45,149 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 15:02:45,149 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 15:02:45,150 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 15:02:45,150 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 15:02:45,151 - root - INFO - {'POST'} /api/auth/token
2024-10-27 15:02:45,151 - root - INFO - {'POST'} /api/auth/register
2024-10-27 15:02:45,152 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 15:02:45,152 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 15:02:45,153 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 15:02:45,153 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 15:02:45,154 - root - INFO - WebSocket /api/chat/ws
2024-10-27 15:02:45,155 - root - INFO - Starting up application...
2024-10-27 15:02:45,158 - app.database - INFO - Created all database tables
2024-10-27 15:02:45,179 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:02:46,097 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:02:52,360 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:02:52,361 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:02:53,916 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 15:02:54,159 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 15:02:54,159 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 15:02:54,520 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:02:54,538 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:02:55,603 - app.routers.chat.router - ERROR - 获取聊天详细信息失败: (sqlite3.OperationalError) no such column: messages.stream_tokens
[SQL: SELECT messages.id AS messages_id, messages.content AS messages_content, messages.role AS messages_role, messages.chat_id AS messages_chat_id, messages.created_at AS messages_created_at, messages.stream_tokens AS messages_stream_tokens, messages.is_complete AS messages_is_complete 
FROM messages 
WHERE messages.chat_id = ? ORDER BY messages.created_at ASC]
[parameters: (9,)]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
2024-10-27 15:02:56,494 - app.routers.chat.router - ERROR - 获取聊天详细信息失败: (sqlite3.OperationalError) no such column: messages.stream_tokens
[SQL: SELECT messages.id AS messages_id, messages.content AS messages_content, messages.role AS messages_role, messages.chat_id AS messages_chat_id, messages.created_at AS messages_created_at, messages.stream_tokens AS messages_stream_tokens, messages.is_complete AS messages_is_complete 
FROM messages 
WHERE messages.chat_id = ? ORDER BY messages.created_at ASC]
[parameters: (8,)]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
2024-10-27 15:03:04,245 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:03:04,245 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:03:04,340 - root - INFO - Shutting down application...
2024-10-27 15:03:11,191 - root - INFO - Available routes:
2024-10-27 15:03:11,192 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 15:03:11,192 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 15:03:11,193 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 15:03:11,193 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 15:03:11,194 - root - INFO - {'POST'} /api/auth/token
2024-10-27 15:03:11,195 - root - INFO - {'POST'} /api/auth/register
2024-10-27 15:03:11,195 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 15:03:11,195 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 15:03:11,196 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 15:03:11,196 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 15:03:11,197 - root - INFO - WebSocket /api/chat/ws
2024-10-27 15:03:11,198 - root - INFO - Starting up application...
2024-10-27 15:03:11,201 - app.database - INFO - Created all database tables
2024-10-27 15:03:15,506 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 15:03:15,758 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 15:03:15,758 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 15:03:16,119 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:03:16,136 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:03:17,339 - app.routers.chat.router - ERROR - 获取聊天详细信息失败: (sqlite3.OperationalError) no such column: messages.stream_tokens
[SQL: SELECT messages.id AS messages_id, messages.content AS messages_content, messages.role AS messages_role, messages.chat_id AS messages_chat_id, messages.created_at AS messages_created_at, messages.stream_tokens AS messages_stream_tokens, messages.is_complete AS messages_is_complete 
FROM messages 
WHERE messages.chat_id = ? ORDER BY messages.created_at ASC]
[parameters: (9,)]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
2024-10-27 15:06:33,728 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:06:33,728 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:06:33,823 - root - INFO - Shutting down application...
2024-10-27 15:06:38,178 - root - INFO - Available routes:
2024-10-27 15:06:38,179 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 15:06:38,179 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 15:06:38,180 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 15:06:38,180 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 15:06:38,181 - root - INFO - {'POST'} /api/auth/token
2024-10-27 15:06:38,182 - root - INFO - {'POST'} /api/auth/register
2024-10-27 15:06:38,183 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 15:06:38,184 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 15:06:38,184 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 15:06:38,185 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 15:06:38,185 - root - INFO - WebSocket /api/chat/ws
2024-10-27 15:06:38,186 - root - INFO - Starting up application...
2024-10-27 15:06:38,189 - app.database - INFO - Created all database tables
2024-10-27 15:06:38,208 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:06:39,053 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:06:41,377 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:06:41,378 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:06:41,487 - root - INFO - Shutting down application...
2024-10-27 15:07:16,208 - root - INFO - Available routes:
2024-10-27 15:07:16,208 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 15:07:16,209 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 15:07:16,210 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 15:07:16,211 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 15:07:16,211 - root - INFO - {'POST'} /api/auth/token
2024-10-27 15:07:16,212 - root - INFO - {'POST'} /api/auth/register
2024-10-27 15:07:16,213 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 15:07:16,213 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 15:07:16,214 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 15:07:16,214 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 15:07:16,214 - root - INFO - WebSocket /api/chat/ws
2024-10-27 15:07:16,215 - root - INFO - Starting up application...
2024-10-27 15:07:16,243 - app.database - INFO - Created all database tables
2024-10-27 15:07:19,816 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 15:07:19,823 - app.routers.auth.router - WARNING - Login failed: Invalid credentials for user test
2024-10-27 15:07:19,824 - app.routers.auth.router - ERROR - Login error: 401: 用户名或密码错误
2024-10-27 15:07:45,169 - app.routers.auth.router - INFO - Registration attempt for username: test
2024-10-27 15:07:45,424 - app.routers.auth.router - INFO - Registration successful for user: test
2024-10-27 15:07:49,515 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 15:07:49,745 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 15:07:49,746 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 15:07:50,151 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:07:50,168 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:13:23,836 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:13:23,839 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:13:23,945 - root - INFO - Shutting down application...
2024-10-27 15:13:28,224 - root - INFO - Available routes:
2024-10-27 15:13:28,225 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 15:13:28,225 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 15:13:28,226 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 15:13:28,227 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 15:13:28,227 - root - INFO - {'POST'} /api/auth/token
2024-10-27 15:13:28,227 - root - INFO - {'POST'} /api/auth/register
2024-10-27 15:13:28,228 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 15:13:28,228 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 15:13:28,229 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 15:13:28,229 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 15:13:28,229 - root - INFO - WebSocket /api/chat/ws
2024-10-27 15:13:28,231 - root - INFO - Starting up application...
2024-10-27 15:13:28,233 - app.database - INFO - Created all database tables
2024-10-27 15:13:28,251 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:13:29,158 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:15:39,177 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:15:39,177 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:15:39,287 - root - INFO - Shutting down application...
2024-10-27 15:15:43,607 - root - INFO - Available routes:
2024-10-27 15:15:43,607 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 15:15:43,609 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 15:15:43,609 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 15:15:43,612 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 15:15:43,613 - root - INFO - {'POST'} /api/auth/token
2024-10-27 15:15:43,614 - root - INFO - {'POST'} /api/auth/register
2024-10-27 15:15:43,615 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 15:15:43,615 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 15:15:43,616 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 15:15:43,616 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 15:15:43,617 - root - INFO - WebSocket /api/chat/ws
2024-10-27 15:15:43,619 - root - INFO - Starting up application...
2024-10-27 15:15:43,623 - app.database - INFO - Created all database tables
2024-10-27 15:15:43,646 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:15:44,379 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:15:46,616 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 15:15:46,860 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 15:15:46,861 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 15:15:47,224 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:15:47,239 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:15:54,681 - app.routers.chat.router - ERROR - WebSocket error for user test: Object of type AIMessageChunk is not JSON serializable
2024-10-27 15:21:10,236 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:21:10,341 - root - INFO - Shutting down application...
2024-10-27 15:21:15,478 - root - INFO - Available routes:
2024-10-27 15:21:15,478 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 15:21:15,479 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 15:21:15,480 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 15:21:15,480 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 15:21:15,480 - root - INFO - {'POST'} /api/auth/token
2024-10-27 15:21:15,481 - root - INFO - {'POST'} /api/auth/register
2024-10-27 15:21:15,482 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 15:21:15,482 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 15:21:15,482 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 15:21:15,483 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 15:21:15,483 - root - INFO - WebSocket /api/chat/ws
2024-10-27 15:21:15,485 - root - INFO - Starting up application...
2024-10-27 15:21:15,487 - app.database - INFO - Created all database tables
2024-10-27 15:21:15,507 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:21:15,565 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:22:07,078 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:22:07,079 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:22:07,188 - root - INFO - Shutting down application...
2024-10-27 15:22:11,982 - root - INFO - Available routes:
2024-10-27 15:22:11,982 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 15:22:11,983 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 15:22:11,983 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 15:22:11,984 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 15:22:11,984 - root - INFO - {'POST'} /api/auth/token
2024-10-27 15:22:11,985 - root - INFO - {'POST'} /api/auth/register
2024-10-27 15:22:11,985 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 15:22:11,986 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 15:22:11,986 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 15:22:11,987 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 15:22:11,987 - root - INFO - WebSocket /api/chat/ws
2024-10-27 15:22:11,988 - root - INFO - Starting up application...
2024-10-27 15:22:11,991 - app.database - INFO - Created all database tables
2024-10-27 15:22:12,010 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:22:12,386 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:32:09,516 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:32:09,517 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:32:09,610 - root - INFO - Shutting down application...
2024-10-27 15:32:12,306 - root - INFO - Available routes:
2024-10-27 15:32:12,307 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 15:32:12,307 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 15:32:12,308 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 15:32:12,308 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 15:32:12,309 - root - INFO - {'POST'} /api/auth/token
2024-10-27 15:32:12,310 - root - INFO - {'POST'} /api/auth/register
2024-10-27 15:32:12,310 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 15:32:12,311 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 15:32:12,311 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 15:32:12,312 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 15:32:12,312 - root - INFO - WebSocket /api/chat/ws
2024-10-27 15:32:12,313 - root - INFO - Starting up application...
2024-10-27 15:32:12,315 - app.database - INFO - Created all database tables
2024-10-27 15:32:12,339 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:32:17,527 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:32:19,303 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 15:32:19,545 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 15:32:19,546 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 15:32:19,890 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:32:19,906 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:36:28,411 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:36:28,413 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:36:29,975 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 15:36:30,198 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 15:36:30,199 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 15:36:30,545 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:36:30,561 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:37:55,612 - app.routers.chat.router - INFO - User 1 attempting to delete chat 2
2024-10-27 15:37:55,618 - app.routers.chat.router - INFO - Successfully deleted chat 2
2024-10-27 15:38:32,385 - app.routers.chat.router - INFO - User 1 attempting to delete chat 1
2024-10-27 15:38:32,390 - app.routers.chat.router - INFO - Successfully deleted chat 1
2024-10-27 15:38:47,347 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:38:47,350 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:38:47,661 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:38:47,692 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:38:59,214 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:38:59,215 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:39:00,809 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 15:39:01,032 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 15:39:01,033 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 15:39:01,381 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:39:01,397 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:40:54,895 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:40:54,898 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:40:56,196 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 15:40:56,418 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 15:40:56,419 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 15:40:56,767 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:40:56,783 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:43:04,054 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:43:04,058 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:43:05,548 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 15:43:05,772 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 15:43:05,773 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 15:43:06,119 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:43:06,135 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:43:23,195 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:43:23,197 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:43:24,855 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 15:43:25,079 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 15:43:25,080 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 15:43:25,425 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:43:25,442 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:45:19,142 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:45:19,143 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:45:20,746 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 15:45:20,968 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 15:45:20,969 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 15:45:21,316 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:45:21,332 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:47:38,312 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:47:38,313 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:47:39,867 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 15:47:40,093 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 15:47:40,094 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 15:47:40,438 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:47:40,455 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:48:01,795 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:48:01,797 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:48:03,406 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 15:48:03,627 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 15:48:03,627 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 15:48:03,968 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:48:03,983 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:51:27,173 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:51:27,174 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:51:28,695 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 15:51:28,916 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 15:51:28,916 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 15:51:29,261 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:51:29,277 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:54:08,469 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:54:08,470 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:54:09,999 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 15:54:10,223 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 15:54:10,223 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 15:54:10,577 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:54:10,594 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:54:39,322 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:54:39,323 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:54:39,433 - root - INFO - Shutting down application...
2024-10-27 15:54:42,899 - root - INFO - Available routes:
2024-10-27 15:54:42,899 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 15:54:42,900 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 15:54:42,900 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 15:54:42,901 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 15:54:42,901 - root - INFO - {'POST'} /api/auth/token
2024-10-27 15:54:42,902 - root - INFO - {'POST'} /api/auth/register
2024-10-27 15:54:42,902 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 15:54:42,903 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 15:54:42,903 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 15:54:42,904 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 15:54:42,904 - root - INFO - WebSocket /api/chat/ws
2024-10-27 15:54:42,906 - root - INFO - Starting up application...
2024-10-27 15:54:42,908 - app.database - INFO - Created all database tables
2024-10-27 15:54:42,927 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:54:44,648 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:55:34,064 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:55:34,064 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:55:34,157 - root - INFO - Shutting down application...
2024-10-27 15:55:37,279 - root - INFO - Available routes:
2024-10-27 15:55:37,280 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 15:55:37,281 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 15:55:37,281 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 15:55:37,282 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 15:55:37,282 - root - INFO - {'POST'} /api/auth/token
2024-10-27 15:55:37,282 - root - INFO - {'POST'} /api/auth/register
2024-10-27 15:55:37,283 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 15:55:37,283 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 15:55:37,284 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 15:55:37,284 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 15:55:37,284 - root - INFO - WebSocket /api/chat/ws
2024-10-27 15:55:37,286 - root - INFO - Starting up application...
2024-10-27 15:55:37,288 - app.database - INFO - Created all database tables
2024-10-27 15:55:37,310 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:55:39,376 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:57:30,618 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:57:30,619 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 15:57:38,920 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 15:57:39,162 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 15:57:39,163 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 15:57:39,503 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 15:57:39,519 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:00:08,565 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:00:08,569 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:00:12,962 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 16:00:13,182 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 16:00:13,183 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 16:00:13,524 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:00:13,541 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:00:42,898 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:00:42,899 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:00:43,006 - root - INFO - Shutting down application...
2024-10-27 16:00:47,109 - root - INFO - Available routes:
2024-10-27 16:00:47,110 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 16:00:47,110 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 16:00:47,110 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 16:00:47,111 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 16:00:47,111 - root - INFO - {'POST'} /api/auth/token
2024-10-27 16:00:47,112 - root - INFO - {'POST'} /api/auth/register
2024-10-27 16:00:47,112 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 16:00:47,113 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 16:00:47,113 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 16:00:47,114 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 16:00:47,114 - root - INFO - WebSocket /api/chat/ws
2024-10-27 16:00:47,115 - root - INFO - Starting up application...
2024-10-27 16:00:47,117 - app.database - INFO - Created all database tables
2024-10-27 16:00:47,136 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:00:48,231 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:01:37,148 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:01:37,149 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:01:37,258 - root - INFO - Shutting down application...
2024-10-27 16:01:40,285 - root - INFO - Available routes:
2024-10-27 16:01:40,287 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 16:01:40,288 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 16:01:40,289 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 16:01:40,289 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 16:01:40,290 - root - INFO - {'POST'} /api/auth/token
2024-10-27 16:01:40,291 - root - INFO - {'POST'} /api/auth/register
2024-10-27 16:01:40,292 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 16:01:40,292 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 16:01:40,293 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 16:01:40,294 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 16:01:40,294 - root - INFO - WebSocket /api/chat/ws
2024-10-27 16:01:40,296 - root - INFO - Starting up application...
2024-10-27 16:01:40,299 - app.database - INFO - Created all database tables
2024-10-27 16:01:40,327 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:01:42,469 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:06:14,854 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 16:06:14,930 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:06:14,932 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:07:55,675 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 16:07:55,913 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 16:07:55,913 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 16:07:56,258 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:07:56,275 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:08:04,250 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:08:04,251 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:11:40,984 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 16:11:41,205 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 16:11:41,206 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 16:11:41,558 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:11:41,574 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:13:30,012 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:13:30,014 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:13:32,073 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 16:13:32,293 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 16:13:32,294 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 16:13:32,641 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:13:32,658 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:14:59,335 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:14:59,337 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:15:01,131 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 16:15:01,351 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 16:15:01,352 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 16:15:01,684 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:15:01,700 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:16:12,267 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:16:12,268 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:16:14,771 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 16:16:14,992 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 16:16:14,993 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 16:16:15,343 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:16:15,359 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:18:27,049 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:18:27,050 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:18:28,925 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 16:18:29,146 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 16:18:29,147 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 16:18:29,491 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:18:29,506 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:18:42,251 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:18:42,252 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:18:55,211 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 16:18:55,437 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 16:18:55,438 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 16:18:55,794 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:18:55,811 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:21:10,942 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:21:10,944 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:21:12,757 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 16:21:12,976 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 16:21:12,976 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 16:21:13,315 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:21:13,332 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:23:20,011 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:23:20,012 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:23:21,809 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 16:23:22,028 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 16:23:22,028 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 16:23:22,361 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:23:22,377 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:27:57,497 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:27:57,499 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:28:05,845 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 16:28:07,950 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 16:28:08,171 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 16:28:08,172 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 16:28:08,529 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:28:12,932 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:28:14,937 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 16:28:16,213 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 16:28:16,434 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 16:28:16,435 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 16:28:16,800 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:34:03,649 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:34:05,415 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 16:34:05,634 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 16:34:05,635 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 16:34:05,974 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:34:05,990 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:36:14,503 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:36:14,505 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:36:16,186 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 16:36:16,405 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 16:36:16,406 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 16:36:16,772 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:36:16,837 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:39:52,712 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:39:52,713 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 16:39:54,282 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 16:39:54,501 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 16:39:54,502 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 16:39:54,837 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 16:39:54,855 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 17:03:35,159 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 17:03:35,168 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 17:57:27,975 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 17:57:28,015 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:03:10,805 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:03:10,806 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:03:11,139 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:03:11,170 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:03:19,894 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:03:19,895 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:03:20,233 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:03:20,249 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:05:47,978 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:05:47,980 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:05:48,309 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:05:48,339 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:06:01,819 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:06:01,821 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:06:02,162 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:06:02,191 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:08:05,595 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:08:05,596 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:08:05,924 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:08:05,941 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:11:49,264 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:11:49,265 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:11:49,603 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:11:49,632 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:15:20,690 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:15:20,693 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:15:21,022 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:15:21,037 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:16:28,947 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:16:28,948 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:16:30,864 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 18:16:31,085 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 18:16:31,086 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 18:16:31,434 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:16:31,450 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:17:04,112 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:17:04,113 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:17:06,488 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 18:17:06,707 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 18:17:06,708 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 18:17:07,043 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:17:07,060 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:22:15,101 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:22:15,102 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:22:16,740 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 18:22:16,959 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 18:22:16,960 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 18:22:17,298 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:22:17,314 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:26:02,164 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:26:02,166 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:26:03,926 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 18:26:04,145 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 18:26:04,145 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 18:26:04,484 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:26:04,501 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:39:33,255 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:39:33,257 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:39:35,178 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 18:39:35,398 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 18:39:35,399 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 18:39:35,736 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:39:35,751 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:44:12,953 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:44:12,954 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:44:15,266 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 18:44:15,490 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 18:44:15,490 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 18:44:15,829 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:44:15,845 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:47:14,828 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:47:14,832 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:47:16,540 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 18:47:16,763 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 18:47:16,763 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 18:47:17,101 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:47:17,118 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:48:09,030 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:48:09,031 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:48:10,944 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 18:48:11,167 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 18:48:11,168 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 18:48:11,501 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:48:11,517 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:50:52,440 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:50:52,441 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:50:54,692 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 18:50:54,916 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 18:50:54,917 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 18:50:55,258 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:50:55,275 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:54:35,272 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:54:35,274 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:54:35,791 - app.core.dependencies - ERROR - WebSocket authentication error: Not enough segments
2024-10-27 18:54:35,794 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 18:54:48,954 - app.core.dependencies - ERROR - WebSocket authentication error: Not enough segments
2024-10-27 18:54:48,955 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 18:54:50,613 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 18:54:50,613 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 18:54:50,621 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 18:54:50,623 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 18:54:51,878 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 18:54:52,104 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 18:54:52,104 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 18:54:52,471 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:54:52,488 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:56:45,972 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:56:45,973 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 18:56:46,472 - app.core.dependencies - ERROR - WebSocket authentication error: Not enough segments
2024-10-27 18:56:46,472 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 18:56:47,800 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 18:56:47,800 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 18:56:47,806 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 18:56:47,807 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 18:56:48,954 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 18:56:49,186 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 18:56:49,187 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 18:56:49,547 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 18:56:49,563 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 19:01:19,202 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 19:01:19,204 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 19:01:19,721 - app.core.dependencies - ERROR - WebSocket authentication error: Not enough segments
2024-10-27 19:01:19,722 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 19:01:20,696 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 19:01:20,697 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 19:01:20,701 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 19:01:20,704 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 19:01:21,732 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 19:01:21,957 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 19:01:21,959 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 19:01:22,319 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 19:01:22,334 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 19:01:26,443 - app.routers.chat.router - INFO - User 1 attempting to delete chat 9
2024-10-27 19:01:26,458 - app.routers.chat.router - INFO - Successfully deleted chat 9
2024-10-27 19:01:30,274 - app.routers.chat.router - INFO - User 1 attempting to delete chat 8
2024-10-27 19:01:30,280 - app.routers.chat.router - INFO - Successfully deleted chat 8
2024-10-27 19:07:48,958 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 19:07:48,959 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 19:07:49,485 - app.core.dependencies - ERROR - WebSocket authentication error: Not enough segments
2024-10-27 19:07:49,487 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 19:07:51,339 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 19:07:51,340 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 19:07:51,345 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 19:07:51,346 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 19:07:53,058 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 19:07:53,280 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 19:07:53,281 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 19:07:53,638 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 19:07:53,656 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 19:07:57,393 - app.routers.chat.router - INFO - User 1 attempting to delete chat 7
2024-10-27 19:07:57,399 - app.routers.chat.router - INFO - Successfully deleted chat 7
2024-10-27 19:12:57,070 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 19:12:57,072 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 19:12:57,162 - root - INFO - Shutting down application...
2024-10-27 19:13:00,093 - root - INFO - Available routes:
2024-10-27 19:13:00,094 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 19:13:00,094 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 19:13:00,095 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 19:13:00,095 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 19:13:00,096 - root - INFO - {'POST'} /api/auth/token
2024-10-27 19:13:00,096 - root - INFO - {'POST'} /api/auth/register
2024-10-27 19:13:00,097 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 19:13:00,097 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 19:13:00,097 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 19:13:00,098 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 19:13:00,098 - root - INFO - WebSocket /api/chat/ws
2024-10-27 19:13:00,100 - root - INFO - Starting up application...
2024-10-27 19:13:00,101 - app.database - INFO - Created all database tables
2024-10-27 19:13:00,110 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:13:02,432 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:13:04,750 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:13:10,798 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:13:10,798 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 19:13:21,417 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 19:13:21,419 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 19:13:21,425 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 19:13:21,429 - app.core.dependencies - ERROR - Token validation failed: Not enough segments
2024-10-27 19:13:22,439 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 19:13:22,696 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 19:13:22,696 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 19:13:23,054 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:13:23,070 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:13:25,380 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:13:27,709 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:13:29,784 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:13:30,112 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:13:32,113 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:13:34,435 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:13:36,758 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:13:39,079 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:13:41,396 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:13:43,722 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:13:46,048 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:13:48,368 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:13:50,689 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:13:53,021 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:13:55,355 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:13:57,676 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:14:00,006 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:14:02,329 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:14:04,642 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:14:06,960 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:14:09,647 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:14:12,646 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:14:15,634 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:14:18,641 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:14:21,647 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:14:24,645 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:14:27,632 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:14:30,645 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:14:33,638 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:14:36,642 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:14:39,636 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:14:42,673 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:14:45,644 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:14:48,647 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:14:51,644 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:14:54,636 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:14:57,634 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:15:00,634 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:15:03,635 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:15:06,634 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:15:09,649 - app.routers.chat.router - ERROR - WebSocket error: name 'get_current_user_ws' is not defined
2024-10-27 19:15:11,670 - root - INFO - Shutting down application...
2024-10-27 19:15:14,305 - root - INFO - Available routes:
2024-10-27 19:15:14,306 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 19:15:14,307 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 19:15:14,307 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 19:15:14,308 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 19:15:14,308 - root - INFO - {'POST'} /api/auth/token
2024-10-27 19:15:14,308 - root - INFO - {'POST'} /api/auth/register
2024-10-27 19:15:14,309 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 19:15:14,309 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 19:15:14,310 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 19:15:14,310 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 19:15:14,311 - root - INFO - WebSocket /api/chat/ws
2024-10-27 19:15:14,312 - root - INFO - Starting up application...
2024-10-27 19:15:14,314 - app.database - INFO - Created all database tables
2024-10-27 19:15:25,188 - app.core.dependencies - ERROR - WebSocket authentication error: Not enough segments
2024-10-27 19:15:30,523 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 19:15:30,768 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 19:15:30,769 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 19:17:36,645 - root - INFO - Shutting down application...
2024-10-27 19:17:39,296 - root - INFO - Available routes:
2024-10-27 19:17:39,297 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 19:17:39,297 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 19:17:39,298 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 19:17:39,298 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 19:17:39,299 - root - INFO - {'POST'} /api/auth/token
2024-10-27 19:17:39,300 - root - INFO - {'POST'} /api/auth/register
2024-10-27 19:17:39,300 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 19:17:39,300 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 19:17:39,301 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 19:17:39,301 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 19:17:39,302 - root - INFO - WebSocket /api/chat/ws
2024-10-27 19:17:39,303 - root - INFO - Starting up application...
2024-10-27 19:17:39,305 - app.database - INFO - Created all database tables
2024-10-27 19:17:41,491 - app.core.dependencies - ERROR - WebSocket authentication error: Not enough segments
2024-10-27 19:17:44,513 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 19:17:44,769 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 19:17:44,770 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 19:17:45,121 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 19:17:45,122 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 19:17:45,137 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 19:17:45,138 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 19:19:47,212 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 19:19:47,216 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 19:19:47,708 - app.core.dependencies - ERROR - WebSocket authentication error: Not enough segments
2024-10-27 19:19:50,441 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 19:19:50,667 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 19:19:50,668 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 19:19:51,035 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 19:19:51,036 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 19:19:51,051 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 19:19:51,052 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 19:20:30,396 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 19:20:30,397 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 19:20:30,487 - root - INFO - Shutting down application...
2024-10-27 19:20:35,188 - root - INFO - Available routes:
2024-10-27 19:20:35,188 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 19:20:35,189 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 19:20:35,189 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 19:20:35,190 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 19:20:35,192 - root - INFO - {'POST'} /api/auth/token
2024-10-27 19:20:35,192 - root - INFO - {'POST'} /api/auth/register
2024-10-27 19:20:35,192 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 19:20:35,192 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 19:20:35,194 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 19:20:35,194 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 19:20:35,194 - root - INFO - WebSocket /api/chat/ws
2024-10-27 19:20:35,196 - root - INFO - Starting up application...
2024-10-27 19:20:35,197 - app.database - INFO - Created all database tables
2024-10-27 19:20:35,271 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 19:20:35,271 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 19:20:41,657 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 19:20:42,169 - app.core.dependencies - ERROR - WebSocket authentication error: Not enough segments
2024-10-27 19:20:44,289 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 19:20:44,533 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 19:20:44,534 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 19:20:44,879 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 19:20:44,880 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 19:20:44,896 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 19:20:44,896 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:08:22,645 - root - INFO - Available routes:
2024-10-27 21:08:22,646 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 21:08:22,646 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 21:08:22,647 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 21:08:22,647 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 21:08:22,648 - root - INFO - {'POST'} /api/auth/token
2024-10-27 21:08:22,648 - root - INFO - {'POST'} /api/auth/register
2024-10-27 21:08:22,649 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 21:08:22,649 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 21:08:22,650 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 21:08:22,650 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 21:08:22,650 - root - INFO - WebSocket /api/chat/ws
2024-10-27 21:08:22,651 - root - INFO - Starting up application...
2024-10-27 21:08:22,657 - app.database - INFO - Created all database tables
2024-10-27 21:08:50,554 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:08:50,555 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:08:50,578 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:08:50,579 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:10:18,843 - app.routers.chat.router - INFO - User 1 attempting to delete chat 5
2024-10-27 21:10:18,850 - app.routers.chat.router - INFO - Successfully deleted chat 5
2024-10-27 21:15:13,262 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 21:15:13,263 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 21:15:13,371 - root - INFO - Shutting down application...
2024-10-27 21:15:15,947 - root - INFO - Available routes:
2024-10-27 21:15:15,948 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 21:15:15,948 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 21:15:15,949 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 21:15:15,949 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 21:15:15,950 - root - INFO - {'POST'} /api/auth/token
2024-10-27 21:15:15,950 - root - INFO - {'POST'} /api/auth/register
2024-10-27 21:15:15,951 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 21:15:15,951 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 21:15:15,952 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 21:15:15,953 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 21:15:15,953 - root - INFO - WebSocket /api/chat/ws
2024-10-27 21:15:15,955 - root - INFO - Starting up application...
2024-10-27 21:15:15,957 - app.database - INFO - Created all database tables
2024-10-27 21:15:15,980 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:15:15,981 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:15:16,575 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:15:16,576 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:15:30,260 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 21:15:30,262 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 21:15:30,779 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:15:30,779 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:15:30,809 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:15:30,809 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:15:37,389 - app.routers.chat.router - INFO - Received message: {'chat_id': 15, 'message': '你好'}
2024-10-27 21:15:37,397 - app.routers.chat.router - INFO - Generating AI response...
2024-10-27 21:15:37,398 - app.routers.chat.router - INFO - Received message: {'chat_id': 14, 'message': '你好'}
2024-10-27 21:15:37,404 - app.routers.chat.router - INFO - Generating AI response...
2024-10-27 21:15:37,731 - app.routers.chat.router - INFO - AI response saved
2024-10-27 21:15:37,737 - app.routers.chat.router - INFO - AI response saved
2024-10-27 21:15:58,907 - app.routers.chat.router - INFO - Received message: {'chat_id': 15, 'message': '我要离职了'}
2024-10-27 21:15:58,914 - app.routers.chat.router - INFO - Generating AI response...
2024-10-27 21:15:58,915 - app.routers.chat.router - INFO - Received message: {'chat_id': 14, 'message': '我要离职了'}
2024-10-27 21:15:58,921 - app.routers.chat.router - INFO - Generating AI response...
2024-10-27 21:15:59,225 - app.routers.chat.router - INFO - AI response saved
2024-10-27 21:15:59,231 - app.routers.chat.router - INFO - AI response saved
2024-10-27 21:20:32,039 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 21:20:32,040 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 21:20:32,149 - root - INFO - Shutting down application...
2024-10-27 21:20:35,518 - root - INFO - Available routes:
2024-10-27 21:20:35,519 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 21:20:35,519 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 21:20:35,520 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 21:20:35,520 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 21:20:35,521 - root - INFO - {'POST'} /api/auth/token
2024-10-27 21:20:35,521 - root - INFO - {'POST'} /api/auth/register
2024-10-27 21:20:35,522 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 21:20:35,522 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 21:20:35,523 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 21:20:35,523 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 21:20:35,524 - root - INFO - WebSocket /api/chat/ws
2024-10-27 21:20:35,525 - root - INFO - Starting up application...
2024-10-27 21:20:35,527 - app.database - INFO - Created all database tables
2024-10-27 21:20:35,552 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:20:35,553 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:20:37,131 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 21:20:37,638 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:20:37,638 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:20:37,668 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:20:37,669 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:20:42,665 - app.routers.chat.router - INFO - Received message: {'chat_id': 7, 'message': '你好'}
2024-10-27 21:20:42,673 - app.routers.chat.router - INFO - Generating AI response...
2024-10-27 21:20:42,706 - app.routers.chat.router - INFO - Received message: {'chat_id': 16, 'message': '你好'}
2024-10-27 21:20:42,713 - app.routers.chat.router - INFO - Generating AI response...
2024-10-27 21:20:43,458 - app.routers.chat.router - INFO - AI response saved
2024-10-27 21:20:43,567 - app.routers.chat.router - INFO - AI response saved
2024-10-27 21:20:57,202 - app.routers.chat.router - INFO - Received message: {'chat_id': 7, 'message': '你好'}
2024-10-27 21:20:57,209 - app.routers.chat.router - INFO - Generating AI response...
2024-10-27 21:20:57,211 - app.routers.chat.router - INFO - Received message: {'chat_id': 16, 'message': '你好'}
2024-10-27 21:20:57,219 - app.routers.chat.router - INFO - Generating AI response...
2024-10-27 21:20:58,173 - app.routers.chat.router - INFO - AI response saved
2024-10-27 21:20:58,189 - app.routers.chat.router - INFO - AI response saved
2024-10-27 21:21:23,796 - app.routers.chat.router - INFO - Received message: {'chat_id': 7, 'message': '我失业了'}
2024-10-27 21:21:23,803 - app.routers.chat.router - INFO - Generating AI response...
2024-10-27 21:21:23,805 - app.routers.chat.router - INFO - Received message: {'chat_id': 16, 'message': '我失业了'}
2024-10-27 21:21:23,811 - app.routers.chat.router - INFO - Generating AI response...
2024-10-27 21:21:27,765 - app.routers.chat.router - INFO - AI response saved
2024-10-27 21:21:28,156 - app.routers.chat.router - INFO - AI response saved
2024-10-27 21:23:17,705 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 21:23:17,709 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 21:23:18,211 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:23:18,212 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:23:18,242 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:23:18,243 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:23:23,307 - app.routers.chat.router - INFO - Received message: {'chat_id': 4, 'message': '你好'}
2024-10-27 21:23:23,313 - app.routers.chat.router - INFO - Generating AI response...
2024-10-27 21:23:23,330 - app.routers.chat.router - INFO - Received message: {'chat_id': 17, 'message': '你好'}
2024-10-27 21:23:23,337 - app.routers.chat.router - INFO - Generating AI response...
2024-10-27 21:23:24,073 - app.routers.chat.router - INFO - AI response saved
2024-10-27 21:23:24,081 - app.routers.chat.router - INFO - AI response saved
2024-10-27 21:23:29,633 - app.routers.chat.router - INFO - Received message: {'chat_id': 4, 'message': '你好'}
2024-10-27 21:23:29,640 - app.routers.chat.router - INFO - Generating AI response...
2024-10-27 21:23:29,642 - app.routers.chat.router - INFO - Received message: {'chat_id': 17, 'message': '你好'}
2024-10-27 21:23:29,649 - app.routers.chat.router - INFO - Generating AI response...
2024-10-27 21:23:30,438 - app.routers.chat.router - INFO - AI response saved
2024-10-27 21:23:30,548 - app.routers.chat.router - INFO - AI response saved
2024-10-27 21:24:15,451 - app.routers.chat.router - INFO - User 1 attempting to delete chat 6
2024-10-27 21:24:15,457 - app.routers.chat.router - INFO - Successfully deleted chat 6
2024-10-27 21:25:31,352 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 21:25:31,354 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 21:25:31,462 - root - INFO - Shutting down application...
2024-10-27 21:25:34,061 - root - INFO - Available routes:
2024-10-27 21:25:34,062 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 21:25:34,062 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 21:25:34,063 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 21:25:34,063 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 21:25:34,064 - root - INFO - {'POST'} /api/auth/token
2024-10-27 21:25:34,064 - root - INFO - {'POST'} /api/auth/register
2024-10-27 21:25:34,065 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 21:25:34,065 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 21:25:34,065 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 21:25:34,066 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 21:25:34,066 - root - INFO - WebSocket /api/chat/ws
2024-10-27 21:25:34,067 - root - INFO - Starting up application...
2024-10-27 21:25:34,069 - app.database - INFO - Created all database tables
2024-10-27 21:25:34,089 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:25:34,090 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:26:58,776 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 21:26:59,288 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:26:59,288 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:26:59,318 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:26:59,318 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:27:04,244 - app.routers.chat.router - INFO - Received message: {'chat_id': 17, 'message': '你好'}
2024-10-27 21:27:04,252 - app.routers.chat.router - INFO - Generating AI response...
2024-10-27 21:27:04,280 - app.routers.chat.router - INFO - Received message: {'chat_id': 18, 'message': '你好'}
2024-10-27 21:27:04,288 - app.routers.chat.router - INFO - Generating AI response...
2024-10-27 21:27:05,132 - app.routers.chat.router - INFO - AI response saved
2024-10-27 21:27:05,306 - app.routers.chat.router - INFO - AI response saved
2024-10-27 21:27:29,907 - app.routers.chat.router - INFO - User 1 attempting to delete chat 17
2024-10-27 21:27:29,915 - app.routers.chat.router - INFO - Successfully deleted chat 17
2024-10-27 21:27:31,859 - app.routers.chat.router - INFO - User 1 attempting to delete chat 18
2024-10-27 21:27:31,865 - app.routers.chat.router - INFO - Successfully deleted chat 18
2024-10-27 21:27:33,724 - app.routers.chat.router - INFO - User 1 attempting to delete chat 16
2024-10-27 21:27:33,730 - app.routers.chat.router - INFO - Successfully deleted chat 16
2024-10-27 21:27:35,611 - app.routers.chat.router - INFO - User 1 attempting to delete chat 14
2024-10-27 21:27:35,617 - app.routers.chat.router - INFO - Successfully deleted chat 14
2024-10-27 21:27:37,569 - app.routers.chat.router - INFO - User 1 attempting to delete chat 15
2024-10-27 21:27:37,575 - app.routers.chat.router - INFO - Successfully deleted chat 15
2024-10-27 21:27:39,302 - app.routers.chat.router - INFO - User 1 attempting to delete chat 13
2024-10-27 21:27:39,308 - app.routers.chat.router - INFO - Successfully deleted chat 13
2024-10-27 21:27:41,238 - app.routers.chat.router - INFO - User 1 attempting to delete chat 12
2024-10-27 21:27:41,243 - app.routers.chat.router - INFO - Successfully deleted chat 12
2024-10-27 21:27:43,218 - app.routers.chat.router - INFO - User 1 attempting to delete chat 11
2024-10-27 21:27:43,223 - app.routers.chat.router - INFO - Successfully deleted chat 11
2024-10-27 21:27:45,413 - app.routers.chat.router - INFO - User 1 attempting to delete chat 10
2024-10-27 21:27:45,419 - app.routers.chat.router - INFO - Successfully deleted chat 10
2024-10-27 21:27:47,211 - app.routers.chat.router - INFO - User 1 attempting to delete chat 9
2024-10-27 21:27:47,217 - app.routers.chat.router - INFO - Successfully deleted chat 9
2024-10-27 21:27:49,306 - app.routers.chat.router - INFO - User 1 attempting to delete chat 8
2024-10-27 21:27:49,311 - app.routers.chat.router - INFO - Successfully deleted chat 8
2024-10-27 21:28:00,716 - app.routers.chat.router - INFO - Received message: {'chat_id': 9, 'message': '你好'}
2024-10-27 21:28:00,722 - app.routers.chat.router - INFO - Generating AI response...
2024-10-27 21:28:00,725 - app.routers.chat.router - INFO - Received message: {'chat_id': 8, 'message': '你好'}
2024-10-27 21:28:00,731 - app.routers.chat.router - INFO - Generating AI response...
2024-10-27 21:28:01,494 - app.routers.chat.router - INFO - AI response saved
2024-10-27 21:28:01,651 - app.routers.chat.router - INFO - AI response saved
2024-10-27 21:30:31,310 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 21:30:31,312 - app.routers.chat.router - INFO - WebSocket disconnected for user test
2024-10-27 21:30:31,404 - root - INFO - Shutting down application...
2024-10-27 21:30:33,894 - root - INFO - Available routes:
2024-10-27 21:30:33,894 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 21:30:33,895 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 21:30:33,895 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 21:30:33,896 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 21:30:33,896 - root - INFO - {'POST'} /api/auth/token
2024-10-27 21:30:33,897 - root - INFO - {'POST'} /api/auth/register
2024-10-27 21:30:33,897 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 21:30:33,898 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 21:30:33,898 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 21:30:33,899 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 21:30:33,899 - root - INFO - WebSocket /api/chat/ws
2024-10-27 21:30:33,900 - root - INFO - Starting up application...
2024-10-27 21:30:33,902 - app.database - INFO - Created all database tables
2024-10-27 21:30:33,922 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:30:33,923 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:30:40,724 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:30:40,724 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:30:40,753 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:30:40,754 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:32:36,557 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:32:36,557 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:32:36,580 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:32:36,581 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:34:41,243 - root - INFO - Shutting down application...
2024-10-27 21:34:43,835 - root - INFO - Available routes:
2024-10-27 21:34:43,835 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 21:34:43,836 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 21:34:43,837 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 21:34:43,837 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 21:34:43,837 - root - INFO - {'POST'} /api/auth/token
2024-10-27 21:34:43,838 - root - INFO - {'POST'} /api/auth/register
2024-10-27 21:34:43,838 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 21:34:43,839 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 21:34:43,839 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 21:34:43,839 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 21:34:43,840 - root - INFO - WebSocket /api/chat/ws
2024-10-27 21:34:43,841 - root - INFO - Starting up application...
2024-10-27 21:34:43,843 - app.database - INFO - Created all database tables
2024-10-27 21:34:43,862 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:34:43,863 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:35:30,835 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:35:30,836 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:35:30,865 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:35:30,867 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:39:50,400 - root - INFO - Shutting down application...
2024-10-27 21:39:53,100 - root - INFO - Available routes:
2024-10-27 21:39:53,100 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 21:39:53,100 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 21:39:53,100 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 21:39:53,100 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 21:39:53,100 - root - INFO - {'POST'} /api/auth/token
2024-10-27 21:39:53,100 - root - INFO - {'POST'} /api/auth/register
2024-10-27 21:39:53,100 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 21:39:53,100 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 21:39:53,100 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 21:39:53,100 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 21:39:53,106 - root - INFO - WebSocket /api/chat/ws
2024-10-27 21:39:53,107 - root - INFO - Starting up application...
2024-10-27 21:39:53,109 - app.database - INFO - Created all database tables
2024-10-27 21:39:53,130 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:39:53,131 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:40:10,670 - root - INFO - Shutting down application...
2024-10-27 21:40:15,410 - root - INFO - Available routes:
2024-10-27 21:40:15,426 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 21:40:15,426 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 21:40:15,426 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 21:40:15,426 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 21:40:15,426 - root - INFO - {'POST'} /api/auth/token
2024-10-27 21:40:15,426 - root - INFO - {'POST'} /api/auth/register
2024-10-27 21:40:15,426 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 21:40:15,426 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 21:40:15,426 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 21:40:15,426 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 21:40:15,426 - root - INFO - WebSocket /api/chat/ws
2024-10-27 21:40:15,426 - root - INFO - Starting up application...
2024-10-27 21:40:15,433 - app.database - INFO - Created all database tables
2024-10-27 21:40:18,350 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:40:18,351 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:40:20,859 - app.routers.chat.router - ERROR - Error processing message: received 1001 (going away); then sent 1001 (going away)
2024-10-27 21:40:20,860 - app.routers.chat.router - ERROR - WebSocket error: received 1001 (going away); then sent 1001 (going away)
2024-10-27 21:40:21,238 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:40:21,239 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:40:21,263 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:40:21,264 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:41:27,154 - app.routers.chat.router - INFO - User 1 attempting to delete chat 14
2024-10-27 21:41:27,163 - app.routers.chat.router - INFO - Successfully deleted chat 14
2024-10-27 21:41:29,516 - app.routers.chat.router - INFO - User 1 attempting to delete chat 15
2024-10-27 21:41:29,521 - app.routers.chat.router - INFO - Successfully deleted chat 15
2024-10-27 21:41:31,902 - app.routers.chat.router - INFO - User 1 attempting to delete chat 13
2024-10-27 21:41:31,910 - app.routers.chat.router - INFO - Successfully deleted chat 13
2024-10-27 21:42:06,213 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:42:06,213 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:42:06,235 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:42:06,236 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:43:32,218 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:43:32,219 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:43:32,240 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:43:32,241 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:45:41,176 - root - INFO - Shutting down application...
2024-10-27 21:45:43,627 - root - INFO - Available routes:
2024-10-27 21:45:43,627 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 21:45:43,627 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 21:45:43,627 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 21:45:43,642 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 21:45:43,642 - root - INFO - {'POST'} /api/auth/token
2024-10-27 21:45:43,642 - root - INFO - {'POST'} /api/auth/register
2024-10-27 21:45:43,642 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 21:45:43,642 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 21:45:43,642 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 21:45:43,642 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 21:45:43,642 - root - INFO - WebSocket /api/chat/ws
2024-10-27 21:45:43,646 - root - INFO - Starting up application...
2024-10-27 21:45:43,648 - app.database - INFO - Created all database tables
2024-10-27 21:45:43,667 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:45:43,668 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:45:48,147 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:45:48,148 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:45:48,180 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:45:48,181 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:48:13,551 - root - INFO - Shutting down application...
2024-10-27 21:48:16,045 - root - INFO - Available routes:
2024-10-27 21:48:16,045 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 21:48:16,045 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 21:48:16,045 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 21:48:16,045 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 21:48:16,045 - root - INFO - {'POST'} /api/auth/token
2024-10-27 21:48:16,061 - root - INFO - {'POST'} /api/auth/register
2024-10-27 21:48:16,061 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 21:48:16,061 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 21:48:16,061 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 21:48:16,061 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 21:48:16,061 - root - INFO - WebSocket /api/chat/ws
2024-10-27 21:48:16,064 - root - INFO - Starting up application...
2024-10-27 21:48:16,066 - app.database - INFO - Created all database tables
2024-10-27 21:48:16,085 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:48:16,086 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:48:18,123 - root - INFO - Shutting down application...
2024-10-27 21:48:22,730 - root - INFO - Available routes:
2024-10-27 21:48:22,731 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 21:48:22,731 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 21:48:22,732 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 21:48:22,732 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 21:48:22,733 - root - INFO - {'POST'} /api/auth/token
2024-10-27 21:48:22,733 - root - INFO - {'POST'} /api/auth/register
2024-10-27 21:48:22,733 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 21:48:22,734 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 21:48:22,734 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 21:48:22,735 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 21:48:22,735 - root - INFO - WebSocket /api/chat/ws
2024-10-27 21:48:22,737 - root - INFO - Starting up application...
2024-10-27 21:48:22,739 - app.database - INFO - Created all database tables
2024-10-27 21:48:25,747 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:48:25,748 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:48:25,774 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:48:25,775 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:50:34,608 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:50:34,609 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:50:34,629 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:50:34,631 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:53:34,497 - root - INFO - Shutting down application...
2024-10-27 21:53:36,944 - root - INFO - Available routes:
2024-10-27 21:53:36,945 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 21:53:36,946 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 21:53:36,947 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 21:53:36,947 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 21:53:36,947 - root - INFO - {'POST'} /api/auth/token
2024-10-27 21:53:36,948 - root - INFO - {'POST'} /api/auth/register
2024-10-27 21:53:36,948 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 21:53:36,949 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 21:53:36,949 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 21:53:36,949 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 21:53:36,950 - root - INFO - WebSocket /api/chat/ws
2024-10-27 21:53:36,950 - root - INFO - Starting up application...
2024-10-27 21:53:36,953 - app.database - INFO - Created all database tables
2024-10-27 21:53:36,973 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:53:36,973 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:53:38,054 - root - INFO - Shutting down application...
2024-10-27 21:53:42,323 - root - INFO - Available routes:
2024-10-27 21:53:42,324 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 21:53:42,325 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 21:53:42,326 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 21:53:42,326 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 21:53:42,326 - root - INFO - {'POST'} /api/auth/token
2024-10-27 21:53:42,327 - root - INFO - {'POST'} /api/auth/register
2024-10-27 21:53:42,327 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 21:53:42,327 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 21:53:42,328 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 21:53:42,328 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 21:53:42,329 - root - INFO - WebSocket /api/chat/ws
2024-10-27 21:53:42,330 - root - INFO - Starting up application...
2024-10-27 21:53:42,332 - app.database - INFO - Created all database tables
2024-10-27 21:53:45,444 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:53:45,445 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 21:53:45,473 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 21:53:45,474 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:03:56,723 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:03:56,724 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:03:56,739 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:03:56,740 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:05:43,404 - root - INFO - Shutting down application...
2024-10-27 22:05:46,103 - root - INFO - Available routes:
2024-10-27 22:05:46,103 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 22:05:46,104 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 22:05:46,105 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 22:05:46,105 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 22:05:46,105 - root - INFO - {'POST'} /api/auth/token
2024-10-27 22:05:46,106 - root - INFO - {'POST'} /api/auth/register
2024-10-27 22:05:46,107 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 22:05:46,107 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 22:05:46,108 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 22:05:46,108 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 22:05:46,108 - root - INFO - WebSocket /api/chat/ws
2024-10-27 22:05:46,109 - root - INFO - Starting up application...
2024-10-27 22:05:46,112 - app.database - INFO - Created all database tables
2024-10-27 22:05:46,131 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:05:46,132 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:05:47,905 - root - INFO - Shutting down application...
2024-10-27 22:05:51,726 - root - INFO - Available routes:
2024-10-27 22:05:51,726 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 22:05:51,727 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 22:05:51,727 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 22:05:51,728 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 22:05:51,728 - root - INFO - {'POST'} /api/auth/token
2024-10-27 22:05:51,728 - root - INFO - {'POST'} /api/auth/register
2024-10-27 22:05:51,729 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 22:05:51,729 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 22:05:51,729 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 22:05:51,730 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 22:05:51,730 - root - INFO - WebSocket /api/chat/ws
2024-10-27 22:05:51,731 - root - INFO - Starting up application...
2024-10-27 22:05:51,733 - app.database - INFO - Created all database tables
2024-10-27 22:05:52,151 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:05:52,152 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:05:55,094 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:05:55,095 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:05:55,127 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:05:55,128 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:07:54,646 - app.routers.chat.router - INFO - User 1 attempting to delete chat 20
2024-10-27 22:07:54,653 - app.routers.chat.router - INFO - Successfully deleted chat 20
2024-10-27 22:07:56,626 - app.routers.chat.router - INFO - User 1 attempting to delete chat 19
2024-10-27 22:07:56,630 - app.routers.chat.router - INFO - Successfully deleted chat 19
2024-10-27 22:08:00,265 - app.routers.chat.router - INFO - User 1 attempting to delete chat 20
2024-10-27 22:08:00,270 - app.routers.chat.router - INFO - Successfully deleted chat 20
2024-10-27 22:08:03,045 - app.routers.chat.router - INFO - User 1 attempting to delete chat 19
2024-10-27 22:08:03,050 - app.routers.chat.router - INFO - Successfully deleted chat 19
2024-10-27 22:09:42,581 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:09:42,582 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:09:42,607 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:09:42,609 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:12:01,385 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:12:01,386 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:12:23,492 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:12:23,493 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:12:28,486 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:12:28,486 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:12:28,546 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:12:28,547 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:14:08,946 - app.routers.chat.router - INFO - User 1 attempting to delete chat 32
2024-10-27 22:14:08,951 - app.routers.chat.router - INFO - Successfully deleted chat 32
2024-10-27 22:14:11,033 - app.routers.chat.router - INFO - User 1 attempting to delete chat 33
2024-10-27 22:14:11,041 - app.routers.chat.router - INFO - Successfully deleted chat 33
2024-10-27 22:14:13,194 - app.routers.chat.router - INFO - User 1 attempting to delete chat 28
2024-10-27 22:14:13,200 - app.routers.chat.router - INFO - Successfully deleted chat 28
2024-10-27 22:14:15,495 - app.routers.chat.router - INFO - User 1 attempting to delete chat 29
2024-10-27 22:14:15,501 - app.routers.chat.router - INFO - Successfully deleted chat 29
2024-10-27 22:14:18,066 - app.routers.chat.router - INFO - User 1 attempting to delete chat 30
2024-10-27 22:14:18,074 - app.routers.chat.router - INFO - Successfully deleted chat 30
2024-10-27 22:14:20,195 - app.routers.chat.router - INFO - User 1 attempting to delete chat 31
2024-10-27 22:14:20,200 - app.routers.chat.router - INFO - Successfully deleted chat 31
2024-10-27 22:14:22,479 - app.routers.chat.router - INFO - User 1 attempting to delete chat 26
2024-10-27 22:14:22,485 - app.routers.chat.router - INFO - Successfully deleted chat 26
2024-10-27 22:14:30,633 - app.routers.chat.router - INFO - User 1 attempting to delete chat 27
2024-10-27 22:14:30,638 - app.routers.chat.router - INFO - Successfully deleted chat 27
2024-10-27 22:14:32,437 - app.routers.chat.router - INFO - User 1 attempting to delete chat 24
2024-10-27 22:14:32,444 - app.routers.chat.router - INFO - Successfully deleted chat 24
2024-10-27 22:14:36,176 - app.routers.chat.router - INFO - User 1 attempting to delete chat 25
2024-10-27 22:14:36,180 - app.routers.chat.router - INFO - Successfully deleted chat 25
2024-10-27 22:14:38,361 - app.routers.chat.router - INFO - User 1 attempting to delete chat 22
2024-10-27 22:14:38,367 - app.routers.chat.router - INFO - Successfully deleted chat 22
2024-10-27 22:14:40,496 - app.routers.chat.router - INFO - User 1 attempting to delete chat 23
2024-10-27 22:14:40,502 - app.routers.chat.router - INFO - Successfully deleted chat 23
2024-10-27 22:14:43,172 - app.routers.chat.router - INFO - User 1 attempting to delete chat 21
2024-10-27 22:14:43,178 - app.routers.chat.router - INFO - Successfully deleted chat 21
2024-10-27 22:14:45,187 - app.routers.chat.router - INFO - User 1 attempting to delete chat 20
2024-10-27 22:14:45,192 - app.routers.chat.router - INFO - Successfully deleted chat 20
2024-10-27 22:14:47,351 - app.routers.chat.router - INFO - User 1 attempting to delete chat 19
2024-10-27 22:14:47,356 - app.routers.chat.router - INFO - Successfully deleted chat 19
2024-10-27 22:14:50,065 - app.routers.chat.router - INFO - User 1 attempting to delete chat 18
2024-10-27 22:14:50,071 - app.routers.chat.router - INFO - Successfully deleted chat 18
2024-10-27 22:15:22,915 - app.routers.chat.router - INFO - User 1 attempting to delete chat 17
2024-10-27 22:15:22,921 - app.routers.chat.router - INFO - Successfully deleted chat 17
2024-10-27 22:15:55,539 - app.routers.chat.router - INFO - User 1 attempting to delete chat 16
2024-10-27 22:15:55,545 - app.routers.chat.router - INFO - Successfully deleted chat 16
2024-10-27 22:15:57,290 - app.routers.chat.router - INFO - User 1 attempting to delete chat 15
2024-10-27 22:15:57,296 - app.routers.chat.router - INFO - Successfully deleted chat 15
2024-10-27 22:15:59,736 - app.routers.chat.router - INFO - User 1 attempting to delete chat 14
2024-10-27 22:15:59,741 - app.routers.chat.router - INFO - Successfully deleted chat 14
2024-10-27 22:16:01,736 - app.routers.chat.router - INFO - User 1 attempting to delete chat 13
2024-10-27 22:16:01,742 - app.routers.chat.router - INFO - Successfully deleted chat 13
2024-10-27 22:16:04,636 - app.routers.chat.router - INFO - User 1 attempting to delete chat 11
2024-10-27 22:16:04,642 - app.routers.chat.router - INFO - Successfully deleted chat 11
2024-10-27 22:16:07,113 - app.routers.chat.router - INFO - User 1 attempting to delete chat 12
2024-10-27 22:16:07,118 - app.routers.chat.router - INFO - Successfully deleted chat 12
2024-10-27 22:16:09,288 - app.routers.chat.router - INFO - User 1 attempting to delete chat 10
2024-10-27 22:16:09,294 - app.routers.chat.router - INFO - Successfully deleted chat 10
2024-10-27 22:17:27,359 - root - INFO - Shutting down application...
2024-10-27 22:17:30,000 - root - INFO - Available routes:
2024-10-27 22:17:30,000 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 22:17:30,001 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 22:17:30,001 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 22:17:30,002 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 22:17:30,003 - root - INFO - {'POST'} /api/auth/token
2024-10-27 22:17:30,003 - root - INFO - {'POST'} /api/auth/register
2024-10-27 22:17:30,003 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 22:17:30,004 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 22:17:30,004 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 22:17:30,005 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 22:17:30,005 - root - INFO - WebSocket /api/chat/ws
2024-10-27 22:17:30,006 - root - INFO - Starting up application...
2024-10-27 22:17:30,008 - app.database - INFO - Created all database tables
2024-10-27 22:17:30,027 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:17:30,028 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:17:50,206 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:17:50,207 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:17:50,237 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:17:50,238 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:18:00,655 - root - INFO - Shutting down application...
2024-10-27 22:18:04,818 - root - INFO - Available routes:
2024-10-27 22:18:04,819 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-27 22:18:04,819 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-27 22:18:04,820 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-27 22:18:04,820 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-27 22:18:04,821 - root - INFO - {'POST'} /api/auth/token
2024-10-27 22:18:04,821 - root - INFO - {'POST'} /api/auth/register
2024-10-27 22:18:04,822 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 22:18:04,823 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 22:18:04,823 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 22:18:04,824 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 22:18:04,824 - root - INFO - WebSocket /api/chat/ws
2024-10-27 22:18:04,825 - root - INFO - Starting up application...
2024-10-27 22:18:04,829 - app.database - INFO - Created all database tables
2024-10-27 22:18:04,910 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:18:04,911 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:18:08,502 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:18:08,503 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:18:08,537 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:18:08,538 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:20:14,402 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:20:14,403 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:20:14,432 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:20:14,433 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:21:59,923 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:21:59,924 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:21:59,940 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:21:59,941 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:23:43,094 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:23:43,095 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:23:43,127 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:23:43,128 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:23:46,085 - app.routers.chat.router - INFO - User 1 attempting to delete chat 21
2024-10-27 22:23:46,093 - app.routers.chat.router - INFO - Successfully deleted chat 21
2024-10-27 22:25:26,030 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:25:26,031 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:25:26,061 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:25:26,062 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:25:28,576 - app.routers.chat.router - INFO - User 1 attempting to delete chat 27
2024-10-27 22:25:28,582 - app.routers.chat.router - INFO - Successfully deleted chat 27
2024-10-27 22:25:30,617 - app.routers.chat.router - INFO - User 1 attempting to delete chat 28
2024-10-27 22:25:30,623 - app.routers.chat.router - INFO - Successfully deleted chat 28
2024-10-27 22:25:32,173 - app.routers.chat.router - INFO - User 1 attempting to delete chat 29
2024-10-27 22:25:32,178 - app.routers.chat.router - INFO - Successfully deleted chat 29
2024-10-27 22:25:34,137 - app.routers.chat.router - INFO - User 1 attempting to delete chat 30
2024-10-27 22:25:34,142 - app.routers.chat.router - INFO - Successfully deleted chat 30
2024-10-27 22:25:36,297 - app.routers.chat.router - INFO - User 1 attempting to delete chat 25
2024-10-27 22:25:36,303 - app.routers.chat.router - INFO - Successfully deleted chat 25
2024-10-27 22:25:38,403 - app.routers.chat.router - INFO - User 1 attempting to delete chat 26
2024-10-27 22:25:38,408 - app.routers.chat.router - INFO - Successfully deleted chat 26
2024-10-27 22:25:40,254 - app.routers.chat.router - INFO - User 1 attempting to delete chat 23
2024-10-27 22:25:40,259 - app.routers.chat.router - INFO - Successfully deleted chat 23
2024-10-27 22:27:40,259 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:27:40,260 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:27:40,295 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:27:40,296 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:27:42,910 - app.routers.chat.router - INFO - User 1 attempting to delete chat 25
2024-10-27 22:27:42,915 - app.routers.chat.router - INFO - Successfully deleted chat 25
2024-10-27 22:29:49,733 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:29:49,734 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:29:56,555 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:29:56,556 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:31:58,281 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:31:58,282 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:31:58,312 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:31:58,313 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:32:01,797 - app.routers.chat.router - INFO - User 1 attempting to delete chat 31
2024-10-27 22:32:01,803 - app.routers.chat.router - INFO - Successfully deleted chat 31
2024-10-27 22:38:48,804 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:38:48,805 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:38:48,835 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:38:48,836 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:42:24,333 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:42:24,334 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:42:24,350 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:42:24,351 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:42:31,020 - app.routers.chat.router - INFO - User 1 attempting to delete chat 12
2024-10-27 22:42:31,025 - app.routers.chat.router - INFO - Successfully deleted chat 12
2024-10-27 22:42:33,716 - app.routers.chat.router - INFO - User 1 attempting to delete chat 16
2024-10-27 22:42:33,720 - app.routers.chat.router - INFO - Successfully deleted chat 16
2024-10-27 22:42:36,417 - app.routers.chat.router - INFO - User 1 attempting to delete chat 15
2024-10-27 22:42:36,421 - app.routers.chat.router - INFO - Successfully deleted chat 15
2024-10-27 22:43:01,361 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:43:01,362 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:43:01,396 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:43:01,397 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:46:32,628 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 22:46:32,874 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 22:46:32,875 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 22:46:33,216 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:46:33,217 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:46:33,232 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:46:33,232 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:51:13,333 - root - INFO - Shutting down application...
2024-10-27 22:51:17,876 - root - INFO - Available routes:
2024-10-27 22:51:17,877 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-27 22:51:17,877 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-27 22:51:17,878 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-27 22:51:17,879 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-27 22:51:17,879 - root - INFO - {'POST'} /api/auth/token
2024-10-27 22:51:17,879 - root - INFO - {'POST'} /api/auth/register
2024-10-27 22:51:17,880 - root - INFO - {'GET'} /api/chat/chats
2024-10-27 22:51:17,880 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-27 22:51:17,881 - root - INFO - {'POST'} /api/chat/chats
2024-10-27 22:51:17,881 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-27 22:51:17,882 - root - INFO - WebSocket /api/chat/ws
2024-10-27 22:51:17,883 - root - INFO - Starting up application...
2024-10-27 22:51:17,885 - app.database - INFO - Created all database tables
2024-10-27 22:55:20,434 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 22:55:20,684 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 22:55:20,684 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 22:55:21,227 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:55:21,228 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:55:21,243 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:55:21,244 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:55:26,886 - app.routers.chat.router - INFO - User 1 attempting to delete chat 37
2024-10-27 22:55:26,895 - app.routers.chat.router - INFO - Successfully deleted chat 37
2024-10-27 22:55:29,091 - app.routers.chat.router - INFO - User 1 attempting to delete chat 38
2024-10-27 22:55:29,096 - app.routers.chat.router - INFO - Successfully deleted chat 38
2024-10-27 22:55:31,220 - app.routers.chat.router - INFO - User 1 attempting to delete chat 35
2024-10-27 22:55:31,226 - app.routers.chat.router - INFO - Successfully deleted chat 35
2024-10-27 22:55:33,409 - app.routers.chat.router - INFO - User 1 attempting to delete chat 36
2024-10-27 22:55:33,414 - app.routers.chat.router - INFO - Successfully deleted chat 36
2024-10-27 22:55:35,734 - app.routers.chat.router - INFO - User 1 attempting to delete chat 33
2024-10-27 22:55:35,739 - app.routers.chat.router - INFO - Successfully deleted chat 33
2024-10-27 22:55:38,100 - app.routers.chat.router - INFO - User 1 attempting to delete chat 34
2024-10-27 22:55:38,105 - app.routers.chat.router - INFO - Successfully deleted chat 34
2024-10-27 22:55:40,648 - app.routers.chat.router - INFO - User 1 attempting to delete chat 32
2024-10-27 22:55:40,653 - app.routers.chat.router - INFO - Successfully deleted chat 32
2024-10-27 22:55:44,726 - app.routers.chat.router - INFO - User 1 attempting to delete chat 29
2024-10-27 22:55:44,731 - app.routers.chat.router - INFO - Successfully deleted chat 29
2024-10-27 22:55:47,342 - app.routers.chat.router - INFO - User 1 attempting to delete chat 30
2024-10-27 22:55:47,347 - app.routers.chat.router - INFO - Successfully deleted chat 30
2024-10-27 22:55:50,124 - app.routers.chat.router - INFO - User 1 attempting to delete chat 27
2024-10-27 22:55:50,130 - app.routers.chat.router - INFO - Successfully deleted chat 27
2024-10-27 22:55:52,701 - app.routers.chat.router - INFO - User 1 attempting to delete chat 28
2024-10-27 22:55:52,707 - app.routers.chat.router - INFO - Successfully deleted chat 28
2024-10-27 22:55:55,165 - app.routers.chat.router - INFO - User 1 attempting to delete chat 26
2024-10-27 22:55:55,171 - app.routers.chat.router - INFO - Successfully deleted chat 26
2024-10-27 22:55:57,613 - app.routers.chat.router - INFO - User 1 attempting to delete chat 24
2024-10-27 22:55:57,618 - app.routers.chat.router - INFO - Successfully deleted chat 24
2024-10-27 22:56:18,885 - app.routers.chat.router - INFO - User 1 attempting to delete chat 22
2024-10-27 22:56:18,890 - app.routers.chat.router - INFO - Successfully deleted chat 22
2024-10-27 22:56:21,180 - app.routers.chat.router - INFO - User 1 attempting to delete chat 19
2024-10-27 22:56:21,186 - app.routers.chat.router - INFO - Successfully deleted chat 19
2024-10-27 22:56:23,703 - app.routers.chat.router - INFO - User 1 attempting to delete chat 20
2024-10-27 22:56:23,710 - app.routers.chat.router - INFO - Successfully deleted chat 20
2024-10-27 22:56:26,271 - app.routers.chat.router - INFO - User 1 attempting to delete chat 17
2024-10-27 22:56:26,276 - app.routers.chat.router - INFO - Successfully deleted chat 17
2024-10-27 22:56:29,756 - app.routers.chat.router - INFO - User 1 attempting to delete chat 18
2024-10-27 22:56:29,762 - app.routers.chat.router - INFO - Successfully deleted chat 18
2024-10-27 22:56:35,643 - app.routers.chat.router - INFO - User 1 attempting to delete chat 13
2024-10-27 22:56:35,648 - app.routers.chat.router - INFO - Successfully deleted chat 13
2024-10-27 22:56:38,667 - app.routers.chat.router - INFO - User 1 attempting to delete chat 14
2024-10-27 22:56:38,673 - app.routers.chat.router - INFO - Successfully deleted chat 14
2024-10-27 22:56:42,423 - app.routers.chat.router - INFO - User 1 attempting to delete chat 11
2024-10-27 22:56:42,429 - app.routers.chat.router - INFO - Successfully deleted chat 11
2024-10-27 22:57:19,702 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 22:57:19,924 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 22:57:19,924 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 22:57:20,276 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:57:20,277 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:57:20,293 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:57:20,294 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:58:57,373 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 22:58:57,594 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 22:58:57,594 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 22:58:57,943 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:58:57,943 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 22:58:57,960 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 22:58:57,961 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 23:01:11,461 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 23:01:11,680 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 23:01:11,681 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 23:01:12,032 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 23:01:12,033 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 23:01:12,049 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 23:01:12,050 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 23:03:21,844 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 23:03:22,063 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 23:03:22,064 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 23:03:22,412 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 23:03:22,413 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 23:03:22,430 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 23:03:22,430 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 23:10:43,925 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-27 23:10:44,145 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-27 23:10:44,146 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-27 23:10:44,493 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 23:10:44,494 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-27 23:10:44,524 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-27 23:10:44,525 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:27:41,635 - root - INFO - Available routes:
2024-10-28 10:27:41,636 - root - INFO - {'HEAD', 'GET'} /openapi.json
2024-10-28 10:27:41,637 - root - INFO - {'HEAD', 'GET'} /docs
2024-10-28 10:27:41,637 - root - INFO - {'HEAD', 'GET'} /docs/oauth2-redirect
2024-10-28 10:27:41,637 - root - INFO - {'HEAD', 'GET'} /redoc
2024-10-28 10:27:41,638 - root - INFO - {'POST'} /api/auth/token
2024-10-28 10:27:41,638 - root - INFO - {'POST'} /api/auth/register
2024-10-28 10:27:41,639 - root - INFO - {'GET'} /api/chat/chats
2024-10-28 10:27:41,639 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-28 10:27:41,640 - root - INFO - {'POST'} /api/chat/chats
2024-10-28 10:27:41,640 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-28 10:27:41,641 - root - INFO - WebSocket /api/chat/ws
2024-10-28 10:27:41,642 - root - INFO - Starting up application...
2024-10-28 10:27:41,648 - app.database - INFO - Created all database tables
2024-10-28 10:28:22,465 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:28:22,466 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:28:22,490 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:28:22,490 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:32:05,544 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:32:05,545 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:32:05,575 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:32:05,575 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:34:44,780 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 10:34:45,021 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 10:34:45,022 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 10:34:45,371 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:34:45,372 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:34:45,388 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:34:45,388 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:36:33,473 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 10:36:33,698 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 10:36:33,698 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 10:36:34,055 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:36:34,055 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:36:34,070 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:36:34,071 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:38:29,149 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 10:38:29,376 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 10:38:29,377 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 10:38:29,742 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:38:29,743 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:38:29,772 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:38:29,773 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:39:00,606 - app.routers.chat.router - INFO - User 1 attempting to delete chat 8
2024-10-28 10:39:00,614 - app.routers.chat.router - INFO - Successfully deleted chat 8
2024-10-28 10:44:55,862 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 10:44:56,083 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 10:44:56,084 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 10:44:56,435 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:44:56,436 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:44:56,451 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:44:56,452 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:46:38,704 - app.routers.chat.router - INFO - User 1 attempting to delete chat 15
2024-10-28 10:46:38,709 - app.routers.chat.router - INFO - Successfully deleted chat 15
2024-10-28 10:46:41,967 - app.routers.chat.router - INFO - User 1 attempting to delete chat 17
2024-10-28 10:46:41,972 - app.routers.chat.router - INFO - Successfully deleted chat 17
2024-10-28 10:46:44,129 - app.routers.chat.router - INFO - User 1 attempting to delete chat 16
2024-10-28 10:46:44,134 - app.routers.chat.router - INFO - Successfully deleted chat 16
2024-10-28 10:46:47,117 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 10:46:47,345 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 10:46:47,346 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 10:46:47,728 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:46:47,729 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:46:47,744 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:46:47,745 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:50:09,691 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 10:50:09,915 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 10:50:09,916 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 10:50:10,261 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:50:10,262 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:50:10,278 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:50:10,278 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:50:38,400 - app.routers.chat.router - INFO - User 1 attempting to delete chat 13
2024-10-28 10:50:38,407 - app.routers.chat.router - INFO - Successfully deleted chat 13
2024-10-28 10:51:46,366 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 10:51:46,591 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 10:51:46,591 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 10:51:46,931 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:51:46,932 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:51:46,947 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:51:46,948 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:53:14,324 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:53:14,325 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:53:14,354 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:53:14,354 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:53:16,337 - app.routers.chat.router - INFO - User 1 attempting to delete chat 17
2024-10-28 10:53:16,343 - app.routers.chat.router - INFO - Successfully deleted chat 17
2024-10-28 10:53:18,376 - app.routers.chat.router - INFO - User 1 attempting to delete chat 18
2024-10-28 10:53:18,381 - app.routers.chat.router - INFO - Successfully deleted chat 18
2024-10-28 10:54:24,414 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 10:54:24,635 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 10:54:24,636 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 10:54:24,986 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:54:24,987 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:54:25,002 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:54:25,003 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:56:41,934 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 10:56:42,156 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 10:56:42,157 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 10:56:42,503 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:56:42,504 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:56:42,519 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:56:42,520 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:56:50,429 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:56:50,430 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:56:50,460 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:56:50,461 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:56:52,058 - app.routers.chat.router - INFO - User 1 attempting to delete chat 20
2024-10-28 10:56:52,064 - app.routers.chat.router - INFO - Successfully deleted chat 20
2024-10-28 10:56:53,914 - app.routers.chat.router - INFO - User 1 attempting to delete chat 21
2024-10-28 10:56:53,920 - app.routers.chat.router - INFO - Successfully deleted chat 21
2024-10-28 10:56:56,455 - app.routers.chat.router - INFO - User 1 attempting to delete chat 18
2024-10-28 10:56:56,461 - app.routers.chat.router - INFO - Successfully deleted chat 18
2024-10-28 10:56:58,755 - app.routers.chat.router - INFO - User 1 attempting to delete chat 19
2024-10-28 10:56:58,760 - app.routers.chat.router - INFO - Successfully deleted chat 19
2024-10-28 10:58:55,080 - root - INFO - Shutting down application...
2024-10-28 10:59:04,151 - root - INFO - Available routes:
2024-10-28 10:59:04,152 - root - INFO - {'GET', 'HEAD'} /openapi.json
2024-10-28 10:59:04,152 - root - INFO - {'GET', 'HEAD'} /docs
2024-10-28 10:59:04,153 - root - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2024-10-28 10:59:04,153 - root - INFO - {'GET', 'HEAD'} /redoc
2024-10-28 10:59:04,154 - root - INFO - {'POST'} /api/auth/token
2024-10-28 10:59:04,154 - root - INFO - {'POST'} /api/auth/register
2024-10-28 10:59:04,155 - root - INFO - {'GET'} /api/chat/chats
2024-10-28 10:59:04,155 - root - INFO - {'GET'} /api/chat/chats/{chat_id}
2024-10-28 10:59:04,156 - root - INFO - {'POST'} /api/chat/chats
2024-10-28 10:59:04,156 - root - INFO - {'DELETE'} /api/chat/chats/{chat_id}
2024-10-28 10:59:04,157 - root - INFO - WebSocket /api/chat/ws
2024-10-28 10:59:04,158 - root - INFO - Starting up application...
2024-10-28 10:59:04,160 - app.database - INFO - Created all database tables
2024-10-28 10:59:04,198 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:59:04,199 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:59:45,063 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 10:59:45,307 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 10:59:45,308 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 10:59:45,649 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:59:45,650 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:59:45,664 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:59:45,665 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:59:51,373 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:59:51,373 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:59:51,388 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 10:59:51,389 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 10:59:52,937 - app.routers.chat.router - INFO - User 1 attempting to delete chat 19
2024-10-28 10:59:52,945 - app.routers.chat.router - INFO - Successfully deleted chat 19
2024-10-28 10:59:55,034 - app.routers.chat.router - INFO - User 1 attempting to delete chat 20
2024-10-28 10:59:55,041 - app.routers.chat.router - INFO - Successfully deleted chat 20
2024-10-28 11:01:13,868 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 11:01:14,090 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 11:01:14,090 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 11:01:14,441 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:01:14,442 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:01:14,457 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:01:14,458 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:03:30,594 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 11:03:30,819 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 11:03:30,820 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 11:03:31,209 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:03:31,210 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:03:31,225 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:03:31,226 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:03:41,827 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 11:03:42,052 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 11:03:42,053 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 11:03:42,404 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:03:42,405 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:03:42,419 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:03:42,420 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:05:47,184 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 11:05:47,408 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 11:05:47,409 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 11:05:47,767 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:05:47,767 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:05:47,782 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:05:47,783 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:06:02,986 - app.routers.chat.router - INFO - User 1 attempting to delete chat 17
2024-10-28 11:06:02,992 - app.routers.chat.router - INFO - Successfully deleted chat 17
2024-10-28 11:08:45,367 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 11:08:45,591 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 11:08:45,591 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 11:08:45,969 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:08:45,970 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:08:45,984 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:08:45,985 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:10:36,297 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 11:10:36,521 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 11:10:36,521 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 11:10:36,865 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:10:36,866 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:10:36,882 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:10:36,883 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:12:21,835 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 11:12:22,061 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 11:12:22,062 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 11:12:22,408 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:12:22,409 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:12:22,424 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:12:22,425 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:14:21,458 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 11:14:21,681 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 11:14:21,682 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 11:14:22,027 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:14:22,028 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:14:22,044 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:14:22,046 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:16:37,623 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 11:16:37,848 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 11:16:37,849 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 11:16:38,216 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:16:38,217 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:16:38,232 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:16:38,233 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:18:58,781 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 11:18:59,005 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 11:18:59,006 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 11:18:59,353 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:18:59,354 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:18:59,369 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:18:59,370 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:21:03,661 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 11:21:03,884 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 11:21:03,885 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 11:21:04,234 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:21:04,235 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:21:04,250 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:21:04,251 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:21:49,540 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:21:49,540 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:21:49,570 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:21:49,571 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:21:51,798 - app.routers.chat.router - INFO - User 1 attempting to delete chat 22
2024-10-28 11:21:51,803 - app.routers.chat.router - INFO - Successfully deleted chat 22
2024-10-28 11:21:53,847 - app.routers.chat.router - INFO - User 1 attempting to delete chat 23
2024-10-28 11:21:53,853 - app.routers.chat.router - INFO - Successfully deleted chat 23
2024-10-28 11:22:08,421 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:22:08,422 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:22:08,437 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:22:08,438 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:23:00,208 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 11:23:00,432 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 11:23:00,432 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 11:23:00,795 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:23:00,795 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:23:00,811 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:23:00,812 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:25:14,030 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 11:25:14,251 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 11:25:14,252 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 11:25:14,604 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:25:14,605 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:25:14,634 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:25:14,635 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:25:22,735 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:25:22,736 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:25:22,751 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:25:22,752 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:25:51,215 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:25:51,216 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:25:51,231 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:25:51,232 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:25:58,476 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:25:58,476 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:25:58,505 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:25:58,506 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:26:48,948 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 11:26:49,170 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 11:26:49,171 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 11:26:49,515 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:26:49,516 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:26:49,531 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:26:49,532 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:28:54,328 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 11:28:54,551 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 11:28:54,552 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 11:28:54,908 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:28:54,909 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:28:54,924 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:28:54,925 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:29:08,674 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:29:08,675 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:29:08,690 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:29:08,691 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:29:10,318 - app.routers.chat.router - INFO - User 1 attempting to delete chat 30
2024-10-28 11:29:10,324 - app.routers.chat.router - INFO - Successfully deleted chat 30
2024-10-28 11:29:11,931 - app.routers.chat.router - INFO - User 1 attempting to delete chat 31
2024-10-28 11:29:11,937 - app.routers.chat.router - INFO - Successfully deleted chat 31
2024-10-28 11:29:13,912 - app.routers.chat.router - INFO - User 1 attempting to delete chat 28
2024-10-28 11:29:13,918 - app.routers.chat.router - INFO - Successfully deleted chat 28
2024-10-28 11:29:15,909 - app.routers.chat.router - INFO - User 1 attempting to delete chat 29
2024-10-28 11:29:15,915 - app.routers.chat.router - INFO - Successfully deleted chat 29
2024-10-28 11:29:17,912 - app.routers.chat.router - INFO - User 1 attempting to delete chat 26
2024-10-28 11:29:17,917 - app.routers.chat.router - INFO - Successfully deleted chat 26
2024-10-28 11:29:20,597 - app.routers.chat.router - INFO - User 1 attempting to delete chat 24
2024-10-28 11:29:20,603 - app.routers.chat.router - INFO - Successfully deleted chat 24
2024-10-28 11:29:22,517 - app.routers.chat.router - INFO - User 1 attempting to delete chat 25
2024-10-28 11:29:22,524 - app.routers.chat.router - INFO - Successfully deleted chat 25
2024-10-28 11:29:25,233 - app.routers.chat.router - INFO - User 1 attempting to delete chat 22
2024-10-28 11:29:25,238 - app.routers.chat.router - INFO - Successfully deleted chat 22
2024-10-28 11:29:27,269 - app.routers.chat.router - INFO - User 1 attempting to delete chat 23
2024-10-28 11:29:27,274 - app.routers.chat.router - INFO - Successfully deleted chat 23
2024-10-28 11:31:14,350 - app.routers.auth.router - INFO - Login attempt for user: test
2024-10-28 11:31:14,568 - app.services.auth.auth_service - INFO - Created access token for user: test
2024-10-28 11:31:14,569 - app.routers.auth.router - INFO - Login successful for user: test
2024-10-28 11:31:14,923 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:31:14,924 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:31:14,939 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:31:14,940 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:31:22,330 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:31:22,331 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:31:22,346 - app.routers.chat.router - INFO - User test connected to WebSocket
2024-10-28 11:31:22,347 - app.services.chat.ai_chat - INFO - AI components initialized successfully
2024-10-28 11:31:25,033 - app.routers.chat.router - INFO - User 1 attempting to delete chat 29
2024-10-28 11:31:25,039 - app.routers.chat.router - INFO - Successfully deleted chat 29
2024-10-28 11:31:27,233 - app.routers.chat.router - INFO - User 1 attempting to delete chat 28
2024-10-28 11:31:27,238 - app.routers.chat.router - INFO - Successfully deleted chat 28
